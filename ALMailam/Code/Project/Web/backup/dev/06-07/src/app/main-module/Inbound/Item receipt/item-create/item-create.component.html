<div class="row mx-1 pl-2">
  <div class="col-12">
    <!--inner header-->

    <div class="row  text-secondary pr-0 mt-1">
      <div class="col bg-white d-flex align-items-center mt-1 px-1 py-1 pathname">


        <nav aria-label="breadcrumb" class="d-flex align-items-center">
          <ol class="breadcrumb mb-0 bg-white d-flex align-items-center">
            <li class="breadcrumb-item whs-fontsize-1-2rem  my-auto">Home</li>
            <li class="breadcrumb-item" class=" whs-fontsize-1-2rem  my-auto"><a
                routerLink="/main/inbound/container-receipt">Inbound</a></li>
            <li class="breadcrumb-item whs-fontsize-1-2rem  my-auto"><a routerLink="/main/inbound/item-main">Goods
                Receipt</a></li>
          </ol>
        </nav>


        <div class="d-flex ml-auto my-auto"> <!--matInput (input)="grNewTag.filterGlobal($any($event.target).value, 'contains');" -->
          <div [hidden]="isShowDiv"> <input (input)="filter($any($event.target).value)" 
              class="form-control filter_button mt-2 mx-2 border-bottom" placeholder="Scan Barcode" style="width:90%">
          </div>
          <div [ngClass]="showFloatingButtons == true ? 'floating-pane-active' : 'floating-pane-deactive'"
            class="button-row d-flex align-items-center">
            <!--
                      <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons  d-flex align-items-center justify-content-center bg-pink text-white mx-2"
                      matTooltip="Add">
                      <mat-icon class="action-icon d-flex align-items-center justify-content-center">add_circle_outline</mat-icon>
                    </button>
                    -->
            <button mat-mini-fab *ngIf="showFloatingButtons == true"
              class=" floating-buttons  d-flex align-items-center justify-content-center text-white   yellowaction"
              matTooltip="Display">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center">search</mat-icon>
            </button>
            <button mat-mini-fab *ngIf="showFloatingButtons == true"
              class="floating-buttons  d-flex align-items-center justify-content-center text-white  blueaction "
              matTooltip="Edit">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center">edit</mat-icon>
            </button>
            <button mat-mini-fab *ngIf="showFloatingButtons == true"
              class=" floating-buttons  d-flex align-items-center justify-content-center redaction text-white  align-middle"
              matTooltip="Delete">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center">delete</mat-icon>
            </button>
            <!-- 
                      <button  mat-mini-fab *ngIf="showFloatingButtons == true"
                    class="floating-buttons  d-flex align-items-center justify-content-center text-white  bg-success  " matTooltip="Info">
                    <mat-icon class="action-icon d-flex align-items-center justify-content-center">info_outline</mat-icon>
                  </button>
                    -->
            <button mat-mini-fab *ngIf="showFloatingButtons == true"
              class="floating-buttons  d-flex align-items-center justify-content-center text-white  darkblueaction "
              matTooltip="Download">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center">download</mat-icon>
            </button>


            <button mat-mini-fab (click)="toggleFloat()" class="mx-2 text-white action-button"
              [ngClass]="{'bg-orange' : toggle, 'purple': !toggle}">
              <mat-icon>{{icon}}</mat-icon>Options
            </button>
            <button mat-mini-fab disabled
              class=" floating-buttons1 disabled d-flex align-items-center justify-content-center darkaction text-white mx-2 mr-3 align-middle"
              matTooltip="New">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center my-auto">add</mat-icon>
            </button>
            <button mat-mini-fab
              class=" floating-buttons1  d-flex align-items-center justify-content-center greyaction text-white mx-2 mr-3 align-middle"
              matTooltip="Save">
              <mat-icon class="action-icon d-flex align-items-center justify-content-center my-auto">save</mat-icon>
            </button>
            <button disabled mat-mini-fab class=" disabled text-white mx-2 action-button  bg-red" type="button"
              mat-button>
              <mat-icon class="">tune</mat-icon> Filter
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>
  <!--main section-->
  <mat-drawer-container class="example-container w-100 pr-0">
    <mat-drawer #drawer class="example-sidenav " mode="over" position="end">

    </mat-drawer>
    <div class="example-sidenav-content  mt-1 pr-1">
      <div class="tabbar1 px-0 uatwhite my-auto col d-flex align-items-center mt-1">
        <h5 class="my-auto mb-0 mx-4 font-weight-bold whs-text-grey">Case No - {{code.caseCode}}</h5>
      </div>
      <div class="row mt-1 pr-1" style="height: calc(100vh - 11.7rem);">
        <div class="col-md-12 px-0">
          <div class="">
              <mat-tab-group class="mx-3 mt-1">
                  <mat-tab label="Lines"> 
                      <div class="row ">
                              <p-table #grNewTag  [value]="grNew" [(selection)]="selectedgrNew" [globalFilterFields]="['itemCode', 'itemDescription', 'acceptedQty', 'damageQty', 'varianceQty', 'barCodeId', 'packBarcodes', 'accQty', 'damQty']"
                              styleClass="p-datatable-gridlines p-datatable-sm" [scrollable]="true" selectionMode="single" 
                              scrollHeight="calc(100vh - 21.2rem)" sortField="preInboundNo" [sortOrder]="-1" [paginator]="true" [rows]="100" [showCurrentPageReport]="true"
                              currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                              [rowsPerPageOptions]="[100, 150, 200, 250]" [resizableColumns]="true" style="width: 100%;margin-left: 10px;background-color:white" >
                              <ng-template pTemplate="header">
                                <tr>
                                  <th style="max-width: 3.5rem; justify-content: center;">
                                        <p-tableHeaderCheckbox ></p-tableHeaderCheckbox>
                                    </th>
                                    <th  pSortableColumn="itemCode"   pResizableColumn>Item Code<p-sortIcon field="itemCode"></p-sortIcon></th>
                                  <th  pSortableColumn="itemDescription"   pResizableColumn>Item Description<p-sortIcon field="itemDescription"></p-sortIcon></th>
                                  <th  pSortableColumn="acceptedQty"  pResizableColumn>Acc Qty<p-sortIcon field="acceptedQty"></p-sortIcon></th> 
                                  <th  pSortableColumn="damageQty"  pResizableColumn>Dam Qty<p-sortIcon field="damageQty"></p-sortIcon></th> 
                                  <th  pSortableColumn="Inventory"  pResizableColumn>Inventory<p-sortIcon field="Inventory"></p-sortIcon></th> 
                                  <th  pSortableColumn="varianceQty"  pResizableColumn>Variance <p-sortIcon field="varianceQty"></p-sortIcon></th> 
                                <th  pSortableColumn="barCodeId"  pResizableColumn>Barcode ID  <p-sortIcon field="barCodeId"></p-sortIcon></th>
                                <!-- <th  pResizableColumn pSortableColumn="packBarcodes" >Stock ID <p-sortIcon field="packBarcodes"></p-sortIcon></th> -->
                                <th  pSortableColumn="releasedQty"  pResizableColumn>Released Qty<p-sortIcon field="releasedQty"></p-sortIcon></th>
                                <th  pResizableColumn pSortableColumn="length" >Length <p-sortIcon field="length"></p-sortIcon></th>
                                <th  pResizableColumn pSortableColumn="width" >Width <p-sortIcon field="width"></p-sortIcon></th>
                                <th  pResizableColumn pSortableColumn="height" >Height <p-sortIcon field="height"></p-sortIcon></th>
                                <th  pResizableColumn pSortableColumn="cbm" >CBM <p-sortIcon field="cbm"></p-sortIcon></th>
                                </tr>
                                 
                                <tr >
                                 <th style="max-width: 3.5rem; justify-content: center;">
                                    <p-tableHeaderCheckbox [disabled]="true" ></p-tableHeaderCheckbox>
                                </th>
                                <th >
                                  <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'itemCode', 'contains')" 
                                  [value]="$any(grNewTag.filters['itemCode'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'itemDescription', 'contains')" 
                                    [value]="$any(grNewTag.filters['itemDescription'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'acceptedQty', 'contains')" 
                                    [value]="$any(grNewTag.filters['acceptedQty'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th> 
                                     <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'damageQty', 'contains')" 
                                    [value]="$any(grNewTag.filters['damageQty'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th> 
                                  <th >
                                 <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'Inventory', 'contains')" 
                                 [value]="$any(grNewTag.filters['Inventory'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                               </th> 
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'varianceQty', 'contains')" 
                                    [value]="$any(grNewTag.filters['varianceQty'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'barCodeId', 'contains')" 
                                    [value]="$any(grNewTag.filters['barCodeId'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <!-- <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'packBarcodes', 'contains')" 
                                    [value]="$any(grNewTag.filters['packBarcodes'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th> -->
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'releasedQty', 'contains')" 
                                    [value]="$any(grNewTag.filters['releasedQty'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'length', 'contains')" 
                                    [value]="$any(grNewTag.filters['length'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'width', 'contains')" 
                                    [value]="$any(grNewTag.filters['width'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'height', 'contains')" 
                                    [value]="$any(grNewTag.filters['height'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                  <th >
                                    <input pInputText  type="text" (input)="grNewTag.filter($any($event.target)?.value, 'cbm', 'contains')" 
                                    [value]="$any(grNewTag.filters['cbm'])?.value" placeholder="Search" class=" w-100 p-column-filter">
                                  </th>
                                </tr>
                              </ng-template>
                                  <ng-template pTemplate="body"  let-grNew>
                                    <tr>
                                        <td style="max-width: 3.5rem; justify-content: center;">
                                            <p-tableCheckbox [value]="grNew"></p-tableCheckbox>
                                        </td>
                                    <td >{{grNew.itemCode}}</td>
                                  <td >{{grNew.itemDescription}}</td>
                                  <td >{{grNew.acceptedQty}}</td>
                                  <td >{{grNew.damageQty}}</td>
                                  <td type="button" (click)="callInventory(grNew)">
                                    <p class="text-orange mb-0">Inventory Details</p>
                                  </td>
                                  <td >{{grNew.varianceQty}}</td>
                                  <td >{{grNew.barCodeId }}</td>
                                  <!-- <td >{{grNew.packBarcodes}}</td> -->
                                  <td type="button" (click)="callQty(grNew)">
                                    <!--<i class="fas fa-shopping-cart" style="font-size: 19px;"></i>-->
                                    <p class="text-orange mb-0">Qty Details</p>
                                  </td>
                                  <td >{{grNew.length }}</td>
                                  <td >{{grNew.width }}</td>
                                  <td >{{grNew.height }}</td>
                                  <td >{{grNew.cbm }}</td>
                                </tr>
                              </ng-template>
                            </p-table>
                        </div>
                  </mat-tab>
                  <form [formGroup]="form" class="w-100">
                  <mat-tab label="Header"> 
                      <div class="row mt-2 boxgrey pb-3">
                          <div class="col-lg-3 col-md-6 mt-2">
                            <p class="mb-0 py-0">Order No</p>
                            <mat-form-field class="form-group input_field mb-0 w-100" appearance="outline">
                              <input matInput placeholder="Enter" formControlName="refDocNumber">
                            </mat-form-field>
                          </div>
                          <div class="col-lg-3 col-md-6 mt-2">
                            <div class="d-flex flex-column">
                              <p class="mb-0 py-0">Preinbound No</p>
                              <mat-form-field class="form-group input_field mb-0 w-100" appearance="outline">
                                <input matInput placeholder="Enter" formControlName="preInboundNo">
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 mt-2">
                            <div class="d-flex flex-column">
                              <p class="mb-0 py-0">GR No</p>
                              <mat-form-field class="form-group input_field mb-0 w-100" appearance="outline">
                                <input matInput placeholder="Enter" formControlName="goodsReceiptNo">
                              </mat-form-field>
                            </div>
                          </div>
                          <div class="col-lg-3 col-md-6 mt-2">
                            <div class="d-flex flex-column">
                              <p class="mb-0 py-0">Case Received On</p>
                              <mat-form-field class="form-group input_field mb-0 w-100" appearance="outline">
                                <input matInput [matDatepicker]="picker" placeholder="Choose Date "
                                  formControlName="createdOn">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                              </mat-form-field>
      
                            </div>
                          </div>
      
                        </div>
                       </mat-tab>
                  </form>
                </mat-tab-group>
            <div class="d-flex justify-content-center align-items-center pt-2  bottombutton">
              <button mat-raised-button class="bg-warning px-4 text-white mx-1" (click)="delete();">
                <mat-icon class="">done</mat-icon> Delete
              </button>
              <button mat-raised-button class="text-white mx-1 px-4" color="warn" routerLink="/main/inbound/item-main">
                <mat-icon class="">close</mat-icon>Cancel
              </button>
              <button mat-raised-button class="bg-darkblue px-4 text-white mx-1" (click)="assignhe();">
                <mat-icon class="">done</mat-icon> Release
              </button>

            </div>
          </div>
        </div>
      </div>
    </div>
  </mat-drawer-container>
</div>
