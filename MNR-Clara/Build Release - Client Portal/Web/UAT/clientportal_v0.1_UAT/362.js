(self.webpackChunkmnrclientapp=self.webpackChunkmnrclientapp||[]).push([[362],{1362:(t,e,o)=>{"use strict";o.r(e),o.d(e,{LoginModule:()=>v});var r=o(8583),n=o(9362),i=o(4655),s=o(3679),a=o(2340),l=o(5319),c=o(7716),u=o(2238),m=o(8309),d=o(9699),g=o(8295),f=o(414),p=o(6258),h=o(1095),b=o(6627);function x(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(t),c.oxw().sendOtp()}),c.TgZ(1,"mat-icon"),c._uU(2,"play_arrow"),c.qZA(),c.qZA()}}function w(t,e){if(1&t&&(c.TgZ(0,"mat-error"),c._uU(1),c.qZA()),2&t){const t=c.oxw();c.xp6(1),c.Oqu(t.errorMessage())}}const Z=[{path:"",component:(()=>{class t{constructor(t,e,o,r,n){this.fb=t,this.router=e,this.dialog=o,this.auth=r,this.toastr=n,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"40px",height:"40px"}},this.hide="password",this.title=a.N.title,this.sub=new l.w,this.loginButtonDisabled=!0}ngOnInit(){sessionStorage.clear(),localStorage.clear(),this.inForm()}inForm(){this.lgForm=this.fb.group({userName:["",[s.kI.required,this.regexValidator(new RegExp(/^(\+\d{1,3}[- ]?)?\d{10}$/),{numberPattern:!0,message:"Phone Number is not valid"})]],password:["",s.kI.required]})}login(){if(sessionStorage.clear(),localStorage.clear(),this.lgForm.invalid)return this.error="Please fill required fields to continue",void this.toastr.warning("Please fill required fields to continue","Username/Password");let t=this.phoneNumberConvert();this.auth.verifyOtp(t,this.lgForm.controls.password.value)}sendOtp(){let t=this.phoneNumberConvert();this.sub.add(this.auth.sendOtp(t).subscribe(t=>{1==t&&(this.loginButtonDisabled=!1,this.toastr.success("OTP successfully sent to the Phone Number","Login"))},t=>{this.toastr.error(t,"")}))}phoneNumberConvert(){let t=this.lgForm.controls.userName.value.split("");return t[0]+t[1]+t[2]+"-"+t[3]+t[4]+t[5]+"-"+t[6]+t[7]+t[8]+t[9]}regexValidator(t,e){return o=>o.value?t.test(o.value)?null:e:null}hasError(){let t=this.lgForm.controls.userName;return void 0!==t&&!!t.errors}errorMessage(){return this.lgForm.controls.userName.errors?this.lgForm.controls.userName.errors.message:""}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(s.qu),c.Y36(i.F0),c.Y36(u.uw),c.Y36(m.e),c.Y36(d._W))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-login"]],decls:22,vars:8,consts:[[1,"container","vw-100","vh-100","mw-100","px-0",2,"background-color","#006990"],[1,"row","p-0","m-0","firsthalf"],[1,"col-md-8","d-flex","justify-content-center","align-items-center","bg-grey"],[1,"logopic"],["src","./assets/img/icons/mandr1.png","alt","","srcset","",1,"img-fluid"],[1,"col-md-4","flex-column","d-flex","justify-content-center","align-items-center",3,"formGroup"],[1,"d-flex","justify-content-center","align-items-center","pt-4"],[1,"form-group","mb-0","mt-5",2,"color","#006990"],[2,"width","18rem"],["matInput","","type","tel","formControlName","userName","placeholder","Mobile No","autocomplete","off",2,"color","black"],["align","start",1,"text-blue"],["mat-icon-button","","matSuffix","","style","cursor: pointer;",3,"click",4,"ngIf"],[4,"ngIf"],[1,"form-group","mb-0","mt-3",2,"color","#006990"],["matInput","","type","password","formControlName","password","id","exampleInputPassword1","placeholder","OTP","aria-describedby","forgot","autocomplete","off",2,"color","black",3,"type","keydown.enter"],["mat-icon-button","","matSuffix","",3,"click"],["mat-button","","type","submit",1,"btn-lg","btn-block","rounded-0","py-2","mt-5","mb-2",2,"background-color","#006990","color","white","width","18rem",3,"disabled","click"],["mat-icon-button","","matSuffix","",2,"cursor","pointer",3,"click"]],template:function(t,e){1&t&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"div",3),c._UZ(4,"img",4),c.qZA(),c.qZA(),c.TgZ(5,"form",5),c._UZ(6,"div",6),c.TgZ(7,"div",7),c.TgZ(8,"mat-form-field",8),c._UZ(9,"input",9),c.TgZ(10,"mat-hint",10),c._uU(11,"ENTER NUMBER TO GET ONE TIME PASSWORD (OTP)"),c.qZA(),c.YNc(12,x,3,0,"button",11),c.YNc(13,w,2,1,"mat-error",12),c.qZA(),c.qZA(),c.TgZ(14,"div",13),c.TgZ(15,"mat-form-field",8),c.TgZ(16,"input",14),c.NdJ("keydown.enter",function(){return e.login()}),c.qZA(),c.TgZ(17,"button",15),c.NdJ("click",function(){return e.hide="text"==e.hide?"password":"text"}),c.TgZ(18,"mat-icon"),c._uU(19),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"button",16),c.NdJ("click",function(){return e.login()}),c._uU(21,"LOGIN"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t&&(c.xp6(5),c.Q6J("formGroup",e.lgForm),c.xp6(7),c.Q6J("ngIf",e.lgForm.get("userName").valid&&e.lgForm.get("userName").enabled),c.xp6(1),c.Q6J("ngIf",e.hasError),c.xp6(3),c.Q6J("type",e.hide),c.xp6(1),c.uIk("aria-label","Hide password")("aria-pressed",e.hide),c.xp6(2),c.Oqu(e.hide?"visibility_off":"visibility"),c.xp6(1),c.Q6J("disabled",e.loginButtonDisabled))},directives:[s._Y,s.JL,s.sg,g.KE,f.Nt,s.Fj,s.JJ,s.u,p.mh,g.bx,r.O5,h.lW,g.R9,b.Hw,g.TO],styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#e0e8f1d1;text-align:center}hr.dashed[_ngcontent-%COMP%]{border-top:1px dashed #324e7bab}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{width:100%;height:100%;border-color:none!important;font-size:.8rem}.clara[_ngcontent-%COMP%]{font-family:Broadway;font-size:45.3524px}.glass[_ngcontent-%COMP%]{background-image:url(backglass1.png);left:0;top:-40px}.glass[_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{position:absolute}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0!important}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff!important;border-radius:4px!important}.logopic[_ngcontent-%COMP%]{width:315;height:160px;margin-left:2rem;margin-top:2rem}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fff!important}.firsthalf[_ngcontent-%COMP%]{height:81vh;background-color:#fff}@media (max-width: 600px){.firsthalf[_ngcontent-%COMP%]{height:90vh;background-color:#fff}.logopic[_ngcontent-%COMP%]{width:238px;height:95px;margin-left:-1rem;margin-top:-1rem}.logo-position[_ngcontent-%COMP%]{justify-content:center!important;display:flex!important;align-items:center!important}}.logo-position[_ngcontent-%COMP%]{display:flex!important}.bg-grey[_ngcontent-%COMP%]{background-color:#f8f8f8}"]}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[i.Bz.forChild(Z)],i.Bz]}),t})();var y=o(4182);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.ez,O,y.m,n.Xz]]}),t})()}}]);