(self.webpackChunkmnrclientapp=self.webpackChunkmnrclientapp||[]).push([[394],{3621:(e,t,n)=>{"use strict";n.d(t,{rQ:()=>v,xC:()=>y});var r=n(7716),i=n(2759),a=n(9765),o=n(4402),s=n(6782),l=n(4395),c=n(5435),u=n(1465),d=n(2917);const h=["pdfViewerContainer"];function f(e,t){const n=new e.EventBus;return function(e,t){(0,i.R)(e,"documentload").pipe((0,s.R)(t)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),(0,i.R)(e,"pagerendered").pipe((0,s.R)(t)).subscribe(({pageNumber:e,cssTransform:t,source:n})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:t}),n.div.dispatchEvent(r)}),(0,i.R)(e,"textlayerrendered").pipe((0,s.R)(t)).subscribe(({pageNumber:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),t.textLayerDiv.dispatchEvent(n)}),(0,i.R)(e,"pagechanging").pipe((0,s.R)(t)).subscribe(({pageNumber:e,source:t})=>{const n=document.createEvent("UIEvents");n.initEvent("pagechanging",!0,!0),n.pageNumber=e,t.container.dispatchEvent(n)}),(0,i.R)(e,"pagesinit").pipe((0,s.R)(t)).subscribe(({source:e})=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(t)}),(0,i.R)(e,"pagesloaded").pipe((0,s.R)(t)).subscribe(({pagesCount:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),t.container.dispatchEvent(n)}),(0,i.R)(e,"scalechange").pipe((0,s.R)(t)).subscribe(({scale:e,presetValue:t,source:n})=>{const r=document.createEvent("UIEvents");r.initEvent("scalechange",!0,!0),r.scale=e,r.presetValue=t,n.container.dispatchEvent(r)}),(0,i.R)(e,"updateviewarea").pipe((0,s.R)(t)).subscribe(({location:e,source:t})=>{const n=document.createEvent("UIEvents");n.initEvent("updateviewarea",!0,!0),n.location=e,t.container.dispatchEvent(n)}),(0,i.R)(e,"find").pipe((0,s.R)(t)).subscribe(({source:e,type:t,query:n,phraseSearch:r,caseSensitive:i,highlightAll:a,findPrevious:o})=>{if(e===window)return;const s=document.createEvent("CustomEvent");s.initCustomEvent("find"+t,!0,!0,{query:n,phraseSearch:r,caseSensitive:i,highlightAll:a,findPrevious:o}),window.dispatchEvent(s)}),(0,i.R)(e,"attachmentsloaded").pipe((0,s.R)(t)).subscribe(({attachmentsCount:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),t.container.dispatchEvent(n)}),(0,i.R)(e,"sidebarviewchanged").pipe((0,s.R)(t)).subscribe(({view:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),t.outerContainer.dispatchEvent(n)}),(0,i.R)(e,"pagemode").pipe((0,s.R)(t)).subscribe(({mode:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("pagemode",!0,!0,{mode:e}),t.pdfViewer.container.dispatchEvent(n)}),(0,i.R)(e,"namedaction").pipe((0,s.R)(t)).subscribe(({action:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("namedaction",!0,!0,{action:e}),t.pdfViewer.container.dispatchEvent(n)}),(0,i.R)(e,"presentationmodechanged").pipe((0,s.R)(t)).subscribe(({active:e,switchInProgress:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:t}),window.dispatchEvent(n)}),(0,i.R)(e,"outlineloaded").pipe((0,s.R)(t)).subscribe(({outlineCount:e,source:t})=>{const n=document.createEvent("CustomEvent");n.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),t.container.dispatchEvent(n)})}(n,t),n}function p(e,t,n){e[t]=n}function g(){return"undefined"==typeof window}g()||p(u,"verbosity",u.VerbosityLevel.INFOS);var m=(()=>(function(e){e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED",e[e.ENHANCED=2]="ENHANCED"}(m||(m={})),m))();let v=(()=>{class e{constructor(e,t){if(this.element=e,this.ngZone=t,this.isVisible=!1,this._cMapsUrl=void 0!==u?`https://unpkg.com/pdfjs-dist@${u.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=m.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new a.xQ,this.afterLoadComplete=new r.vpe,this.pageRendered=new r.vpe,this.pageInitialized=new r.vpe,this.textLayerRendered=new r.vpe,this.onError=new r.vpe,this.onProgress=new r.vpe,this.pageChange=new r.vpe(!0),g())return;let n;n=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${u.version}/legacy/build/pdf.worker.js`,p(u.GlobalWorkerOptions,"workerSrc",n)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const t=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,t!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return u.LinkTarget.BLANK;case"none":return u.LinkTarget.NONE;case"self":return u.LinkTarget.SELF;case"parent":return u.LinkTarget.PARENT;case"top":return u.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!g()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:m.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:t}=e;if(t.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();(0,o.D)(this._pdf.getPage(t.currentPageNumber)).pipe((0,s.R)(this.destroy$)).subscribe({next:n=>{const r=this._rotation||n.rotate,i=n.getViewport({scale:this._zoom,rotation:r}).width*e.CSS_UNITS;let a=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){const e=n.getViewport({scale:1,rotation:r});a=this.getScale(e.width,e.height),o=!this._stickToPage}t._setScale(a,o)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},n=e.getLinkTarget(this._externalLinkTarget);return n&&(t.externalLinkTarget=n),t}setupMultiPageViewer(){p(u,"disableTextLayer",!this._renderText);const e=f(d,this.destroy$);(0,i.R)(e,"pagerendered").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),(0,i.R)(e,"pagesinit").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),(0,i.R)(e,"pagechanging").pipe((0,s.R)(this.destroy$)).subscribe(({pageNumber:e})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=e,this.pageChange.emit(e)},100)}),(0,i.R)(e,"textlayerrendered").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)}),this.pdfMultiPageLinkService=new d.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new d.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const t={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new d.PDFViewer(t),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){p(u,"disableTextLayer",!this._renderText);const e=f(d,this.destroy$);(0,i.R)(e,"pagechanging").pipe((0,s.R)(this.destroy$)).subscribe(({pageNumber:e})=>{e!==this._page&&(this.page=e)}),(0,i.R)(e,"pagerendered").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.pageRendered.emit(e)}),(0,i.R)(e,"pagesinit").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.pageInitialized.emit(e)}),(0,i.R)(e,"textlayerrendered").pipe((0,s.R)(this.destroy$)).subscribe(e=>{this.textLayerRendered.emit(e)}),this.pdfSinglePageLinkService=new d.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new d.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const t={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new d.PDFSinglePageViewer(t),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const t={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?t.url=this.src:"object"===e&&(void 0!==this.src.byteLength?t.data=this.src:Object.assign(t,this.src)),t}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=u.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=e=>{this.onProgress.emit(e)};const e=this.src;(0,o.D)(this.loadingTask.promise).pipe((0,s.R)(this.destroy$)).subscribe({next:t=>{this._pdf=t,this.lastLoaded=e,this.afterLoadComplete.emit(t),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:e=>{this.onError.emit(e)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();0===this._rotation&&e.pagesRotation===this._rotation||setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(t,n){const r=this._showBorders?2*e.BORDER_WIDTH:0,i=this.pdfViewerContainer.nativeElement.clientWidth-r,a=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===a||0===n||0===i||0===t)return 1;let o=1;switch(this._zoomScale){case"page-fit":o=Math.min(a/n,i/t);break;case"page-height":o=a/n;break;case"page-width":default:o=i/t}return this._zoom*o/e.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){!g()&&this.isVisible&&(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){g()||this.ngZone.runOutsideAngular(()=>{(0,i.R)(window,"resize").pipe((0,l.b)(100),(0,c.h)(()=>this._canAutoResize&&!!this._pdf),(0,s.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["pdf-viewer"]],viewQuery:function(e,t){if(1&e&&r.Gf(h,5),2&e){let e;r.iGM(e=r.CRH())&&(t.pdfViewerContainer=e.first)}},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[r.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r._UZ(2,"div",2),r.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--annotation-unfocused-field-background:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--pdfViewer-padding-bottom:none;--page-margin:1px auto -8px;--page-border:9px solid transparent;--spreadHorizontalWrapped-margin-LR:-3.5px;--zoom-factor:1}@media screen and (forced-colors:active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom:9px;--page-margin:9px auto 0;--page-border:none;--spreadHorizontalWrapped-margin-LR:4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer br, [_nghost-%COMP%]     .textLayer span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:static}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::-moz-selection, [_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer br::-moz-selection{background:transparent}[_nghost-%COMP%]     .textLayer br::-moz-selection, [_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:static}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .xfaLayer ::-moz-selection, [_nghost-%COMP%]     .xfaLayer ::selection{background:#00f}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;-webkit-font-kerning:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div, [_nghost-%COMP%]     .xfaLayer svg, [_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;-webkit-font-kerning:none;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaSelect:focus, [_nghost-%COMP%]     .xfaTextfield:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaSelect, [_nghost-%COMP%]     .xfaTextfield{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaBottom>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaTop>.xfaTextfield{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{-o-object-position:left top;object-position:left top;-o-object-fit:contain;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaArea, [_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield{background:transparent}[_nghost-%COMP%]     .xfaSelect{background:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;-o-border-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=\") 9 9 repeat;border-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=\") 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread, [_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .spread .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(\"data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==\") 50% no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}"]}),e.CSS_UNITS=96/72,e.BORDER_WIDTH=9,e})(),y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})()},1465:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,r=t.target,i=t.rel,a=t.enabled,s=void 0===a||a;(0,o.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,o.removeNullCharacters)(n);s?e.href=e.title=l:(e.href="",e.title="Disabled: ".concat(l),e.onclick=function(){return!1});var c="";switch(r){case S.NONE:break;case S.SELF:c="_self";break;case S.BLANK:c="_blank";break;case S.PARENT:c="_parent";break;case S.TOP:c="_top"}e.target=c,e.rel="string"==typeof i?i:_},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.getPdfFilenameFromUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof e)return t;if(C(e))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(e),a=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(a&&(a=a[0]).includes("%"))try{a=r.exec(decodeURIComponent(a))[0]}catch(s){}return a||t},t.getXfaPageViewport=function(e,t){var n=t.scale,r=void 0===n?1:n,i=t.rotation,a=void 0===i?0:i,o=e.attributes.style,s=o.height,l=[0,0,parseInt(o.width),parseInt(s)];return new x({viewBox:l,scale:r,rotation:a})},t.isDataScheme=C,t.isPdfFile=function(e){return"string"==typeof e&&/\.pdf$/i.test(e)},t.isValidFetchUrl=P,t.loadScript=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,r){var i=document.createElement("script");i.src=e,i.onload=function(e){t&&i.remove(),n(e)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)})},t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PDFDateString=t.PageViewport=t.LinkTarget=t.DOMSVGFactory=t.DOMStandardFontDataFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=void 0;var i,a=(i=n(2))&&i.__esModule?i:{default:i},o=n(4),s=n(118);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)})}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _="noopener noreferrer nofollow";function w(e){return A.apply(this,arguments)}function A(){return(A=d(a.default.mark(function e(t){var n,r,i=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!P(t,document.baseURI)){e.next=21;break}return e.next=4,fetch(t);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error(r.statusText);case 7:if(!n){e.next=15;break}return e.t1=Uint8Array,e.next=11,r.arrayBuffer();case 11:e.t2=e.sent,e.t0=new e.t1(e.t2),e.next=20;break;case 15:return e.t3=o.stringToBytes,e.next=18,r.text();case 18:e.t4=e.sent,e.t0=(0,e.t3)(e.t4);case 20:return e.abrupt("return",e.t0);case 21:return e.abrupt("return",new Promise(function(e,r){var i=new XMLHttpRequest;i.open("GET",t,!0),n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var t;if((200===i.status||0===i.status)&&(n&&i.response?t=new Uint8Array(i.response):!n&&i.responseText&&(t=(0,o.stringToBytes)(i.responseText)),t))return void e(t);r(new Error(i.statusText))}},i.send(null)}));case 22:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.PixelsPerInch={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,o.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}},t.DOMCanvasFactory=function(e){g(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.ownerDocument,a=void 0===i?globalThis.document:i;return h(this,n),(e=t.call(this))._document=a,e}return p(n,[{key:"_createCanvas",value:function(e,t){var n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}]),n}(s.BaseCanvasFactory),t.DOMCMapReaderFactory=function(e){g(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(e,t){return w(e,this.isCompressed).then(function(e){return{cMapData:e,compressionType:t}})}}]),n}(s.BaseCMapReaderFactory),t.DOMStandardFontDataFactory=function(e){g(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(e){return w(e,!0)}}]),n}(s.BaseStandardFontDataFactory),t.DOMSVGFactory=function(e){g(n,e);var t=v(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"_createSVG",value:function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}}]),n}(s.BaseSVGFactory);var x=function(){function e(t){var n=t.viewBox,r=t.scale,i=t.rotation,a=t.offsetX,o=void 0===a?0:a,s=t.offsetY,l=void 0===s?0:s,c=t.dontFlip,u=void 0!==c&&c;h(this,e),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=o,this.offsetY=l;var d,f,p,g,m,v,y,b,_=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:d=-1,f=0,p=0,g=1;break;case 90:d=0,f=1,p=1,g=0;break;case 270:d=0,f=-1,p=-1,g=0;break;case 0:d=1,f=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(p=-p,g=-g),0===d?(m=Math.abs(w-n[1])*r+o,v=Math.abs(_-n[0])*r+l,y=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(m=Math.abs(_-n[0])*r+o,v=Math.abs(w-n[1])*r+l,y=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[d*r,f*r,p*r,g*r,m-d*r*_-p*r*w,v-f*r*_-g*r*w],this.width=y,this.height=b}return p(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,i=t.rotation,a=void 0===i?this.rotation:i,o=t.offsetX,s=void 0===o?this.offsetX:o,l=t.offsetY,c=void 0===l?this.offsetY:l,u=t.dontFlip,d=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:a,offsetX:s,offsetY:c,dontFlip:d})}},{key:"convertToViewportPoint",value:function(e,t){return o.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=o.Util.applyTransform([e[0],e[1]],this.transform),n=o.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return o.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=x,t.RenderingCancelledException=function(e){g(n,e);var t=v(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"RenderingCancelledException")).type=r,i}return n}(o.BaseException);var k,S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function C(e){for(var t=e.length,n=0;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function P(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.LinkTarget=S,t.StatTimer=function(){function e(){h(this,e),this.started=Object.create(null),this.times=[]}return p(e,[{key:"time",value:function(e){e in this.started&&(0,o.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,o.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=l(this.times);try{for(r.s();!(e=r.n()).done;){var i=e.value.name;i.length>n&&(n=i.length)}}catch(u){r.e(u)}finally{r.f()}var a,o=l(this.times);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=s.end-s.start;t.push("".concat(s.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(u){o.e(u)}finally{o.f()}return t.join("")}}]),e}(),t.PDFDateString=function(){function e(){h(this,e)}return p(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,o.isString)(e))return null;k||(k=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=k.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;var a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;var c=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(a+=u,s+=d):"+"===c&&(a-=u,s-=d),new Date(Date.UTC(n,r,i,a,s,l))}}]),e}()},(e,t,n)=>{"use strict";e.exports=n(3)},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=Object.create((t&&t.prototype instanceof v?t:v).prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r=h;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=d(e,t,n);if("normal"===l.type){if(r=n.done?g:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=g,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};c(_,o,function(){return this});var w=Object.getPrototypeOf,A=w&&w(w(M([])));A&&A!==n&&i.call(A,o)&&(_=A);var x=b.prototype=v.prototype=Object.create(_);function k(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(a,o,s,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===r(h)&&i.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(h).then(function(e){u.value=e,s(u)},function(e){return n("throw",e,s,l)})}l(c.arg)}var a;this._invoke=function(e,r){function i(){return new t(function(t,i){n(e,r,t,i)})}return a=a?a.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return y.prototype=b,c(x,"constructor",b),c(b,"constructor",y),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(S.prototype),c(S.prototype,s,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(x),c(x,l,"Generator"),c(x,o,function(){return this}),c(x,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}("object"===r(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=i}catch(a){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=x,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=x(e[r]);for(var i=0,a=new Uint8Array(n),o=0;o<t;o++){var s=e[o];s instanceof Uint8Array||(s="string"==typeof s?A(s):new Uint8Array(s));var l=s.byteLength;a.set(s,i),i+=l}return a},t.assert=v,t.bytesToString=function(e){v(null!==e&&"object"===o(e)&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var r=[],i=0;i<t;i+=n){var a=Math.min(i+n,t),s=e.subarray(i,a);r.push(String.fromCharCode.apply(null,s))}return r.join("")},t.createObjectURL=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!n)return URL.createObjectURL(new Blob([e],{type:t}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(t,";base64,"),a=0,o=e.length;a<o;a+=3){var s=255&e[a],l=255&e[a+1],c=255&e[a+2],u=s>>2,d=(3&s)<<4|l>>4,h=a+1<o?(15&l)<<2|c>>6:64,f=a+2<o?63&c:64;i+=r[u]+r[d]+r[h]+r[f]}return i},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise(function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}}),e},t.createValidAbsoluteUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){var r=e.match(/\./g);r&&r.length>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=P(e)}catch(a){}}var i=t?new URL(e,t):new URL(e);if(y(i))return i}catch(a){}return null},t.escapeString=function(e){return e.replace(/([()\\\n\r])/g,function(e){return"\n"===e?"\\n":"\r"===e?"\\r":"\\".concat(e)})},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return p},t.info=function(e){p>=f.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===o(e)&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},t.isAscii=function(e){return/^[\x00-\x7F]*$/.test(e)},t.isBool=function(e){return"boolean"==typeof e},t.isNum=function(e){return"number"==typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(t,n);return n.origin===r.origin},t.isString=function(e){return"string"==typeof e},t.objectFromMap=function(e){var t,n,r=Object.create(null),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{for(a.s();!(t=a.n()).done;){var o=function(e){if(Array.isArray(e))return e}(n=t.value)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n)||i(n,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();r[o[0]]=o[1]}}catch(s){a.e(s)}finally{a.f()}return r},t.objectSize=function(e){return Object.keys(e).length},t.removeNullCharacters=function(e){return"string"!=typeof e?(g("The argument for removeNullCharacters must be a string."),e):e.replace(w,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(p=e)},t.shadow=b,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=A,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var i=2;i<t;i+=2)n.push(String.fromCharCode(e.charCodeAt(i+1)<<8|e.charCodeAt(i)));else for(var a=0;a<t;++a){var o=C[e.charCodeAt(a)];n.push(o?String.fromCharCode(o):e.charAt(a))}return n.join("")},t.stringToUTF16BEString=function(e){for(var t=["\xfe\xff"],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);t.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return t.join("")},t.stringToUTF8String=P,t.unreachable=m,t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=g,t.VerbosityLevel=t.Util=t.UNSUPPORTED_FEATURES=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,n(5),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},t.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},t.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},t.PageActionEventType={O:"PageOpen",C:"PageClose"},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var f={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=f,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=f.WARNINGS;function g(e){p>=f.WARNINGS&&console.log("Warning: ".concat(e))}function m(e){throw new Error(e)}function v(e,t){e||m(t)}function y(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function b(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var _=function(){function e(t,n){this.constructor===e&&m("Cannot initialize BaseException."),this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=_,t.PasswordException=function(e){l(n,e);var t=u(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"PasswordException")).code=r,i}return n}(_),t.UnknownErrorException=function(e){l(n,e);var t=u(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"UnknownErrorException")).details=r,i}return n}(_),t.InvalidPDFException=function(e){l(n,e);var t=u(n);function n(e){return s(this,n),t.call(this,e,"InvalidPDFException")}return n}(_),t.MissingPDFException=function(e){l(n,e);var t=u(n);function n(e){return s(this,n),t.call(this,e,"MissingPDFException")}return n}(_),t.UnexpectedResponseException=function(e){l(n,e);var t=u(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e,"UnexpectedResponseException")).status=r,i}return n}(_),t.FormatError=function(e){l(n,e);var t=u(n);function n(e){return s(this,n),t.call(this,e,"FormatError")}return n}(_),t.AbortException=function(e){l(n,e);var t=u(n);function n(e){return s(this,n),t.call(this,e,"AbortException")}return n}(_);var w=/\x00/g;function A(e){v("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function x(e){return void 0!==e.length?e.length:(v(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}t.IsLittleEndianCached={get value(){return b(this,"value",((e=new Uint8Array(4))[0]=1,1===new Uint32Array(e.buffer,0,1)[0]));var e}},t.IsEvalSupportedCached={get value(){return b(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};var k,S=(k=Array(256).keys(),function(e){if(Array.isArray(e))return a(e)}(k)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(k)||i(k)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return e.toString(16).padStart(2,"0")});t.Util=function(){function e(){s(this,e)}var t,n;return t=e,(n=[{key:"makeHexColor",value:function(e,t,n){return"#".concat(S[e]).concat(S[t]).concat(S[n])}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),i=e.applyTransform(t.slice(2,4),n),a=e.applyTransform([t[0],t[3]],n),o=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],i[0],a[0],o[0]),Math.min(r[1],i[1],a[1],o[1]),Math.max(r[0],i[0],a[0],o[0]),Math.max(r[1],i[1],a[1],o[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,s=Math.sqrt(Math.pow(n+a,2)-4*(n*a-i*r))/2,l=o-s||1;return[Math.sqrt(o+s||1),Math.sqrt(l)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var i=[t[0],t[2],n[0],n[2]].sort(r),a=[t[1],t[3],n[1],n[3]].sort(r),o=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),i[0]===t[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===t[0]?(o[0]=i[1],o[2]=i[2],a[0]===t[1]&&a[1]===n[1]||a[0]===n[1]&&a[1]===t[1]?(o[1]=a[1],o[3]=a[2],o):null):null}}])&&r(t,n),e}();var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function P(e){return decodeURIComponent(escape(e))}},(e,t,n)=>{"use strict";var r=n(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}),!globalThis.DOMMatrix&&r.isNodeJS&&(globalThis.DOMMatrix=n(60)),Object.fromEntries||n(61),globalThis.Promise.allSettled||(globalThis.Promise=n(89)),!globalThis.ReadableStream&&r.isNodeJS&&(globalThis.ReadableStream=n(117).ReadableStream))},(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r=!("object"!==("undefined"==typeof process?"undefined":n(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=r},(e,t,n)=>{n(8),e.exports=n(10)},(e,t,n)=>{n(9)({global:!0},{globalThis:n(10)})},(e,t,n)=>{var r=n(10),i=n(11).f,a=n(40),o=n(43),s=n(34),l=n(49),c=n(59);e.exports=function(e,t){var n,u,d,h,f,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(u in t){if(h=t[u],d=e.noTargetGet?(f=i(n,u))&&f.value:n[u],!c(g?u:p+(m?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&a(h,"sham",!0),o(n,u,h,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(e,t,n)=>{var r=n(12),i=n(14),a=n(15),o=n(16),s=n(20),l=n(35),c=n(38),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t),c)try{return u(e,t)}catch(n){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},(e,t,n)=>{var r=n(13);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},(e,t,n)=>{var r=n(17),i=n(19);e.exports=function(e){return r(i(e))}},(e,t,n)=>{var r=n(13),i=n(18),a="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},(e,t,n)=>{var r=n(21),i=n(23);e.exports=function(e){var t=r(e,"string");return i(t)?t:String(t)}},(e,t,n)=>{var r=n(22),i=n(23),a=n(29),o=n(30)("toPrimitive");e.exports=function(e,t){if(!r(e)||i(e))return e;var n,s=e[o];if(void 0!==s){if(void 0===t&&(t="default"),n=s.call(e,t),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},(e,t,n)=>{var r=n(24),i=n(25);e.exports=i?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return"function"==typeof t&&Object(e)instanceof t}},(e,t,n)=>{var r=n(10),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},(e,t,n)=>{var r=n(26);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(e,t,n)=>{var r=n(27),i=n(13);e.exports=!!Object.getOwnPropertySymbols&&!i(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41})},(e,t,n)=>{var r,i,a=n(10),o=n(28),s=a.process,l=a.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u?i=(r=u.split("."))[0]<4?1:r[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},(e,t,n)=>{var r=n(24);e.exports=r("navigator","userAgent")||""},(e,t,n)=>{var r=n(22);e.exports=function(e,t){var n,i;if("string"===t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if("string"!==t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},(e,t,n)=>{var r=n(10),i=n(31),a=n(35),o=n(37),s=n(26),l=n(25),c=i("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||o;e.exports=function(e){return a(c,e)&&(s||"string"==typeof c[e])||(c[e]=s&&a(u,e)?u[e]:d("Symbol."+e)),c[e]}},(e,t,n)=>{var r=n(32),i=n(33);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.17.3",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=!1},(e,t,n)=>{var r=n(10),i=n(34),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},(e,t,n)=>{var r=n(10);e.exports=function(e,t){try{Object.defineProperty(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},(e,t,n)=>{var r=n(36),i={}.hasOwnProperty;e.exports=Object.hasOwn||function(e,t){return i.call(r(e),t)}},(e,t,n)=>{var r=n(19);e.exports=function(e){return Object(r(e))}},e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++t+n).toString(36)}},(e,t,n)=>{var r=n(12),i=n(13),a=n(39);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a})},(e,t,n)=>{var r=n(10),i=n(22),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},(e,t,n)=>{var r=n(12),i=n(41),a=n(15);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},(e,t,n)=>{var r=n(12),i=n(38),a=n(42),o=n(20),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t),a(n),i)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},(e,t,n)=>{var r=n(22);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},(e,t,n)=>{var r=n(10),i=n(40),a=n(35),o=n(34),s=n(44),l=n(45),c=l.get,u=l.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var l,c=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),(l=u(n)).source||(l.source=d.join("string"==typeof t?t:""))),e!==r?(c?!f&&e[t]&&(h=!0):delete e[t],h?e[t]=n:i(e,t,n)):h?e[t]=n:o(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s(this)})},(e,t,n)=>{var r=n(33),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},(e,t,n)=>{var r,i,a,o=n(46),s=n(10),l=n(22),c=n(40),u=n(35),d=n(33),h=n(47),f=n(48),p="Object already initialized";if(o||d.state){var g=d.state||(d.state=new(0,s.WeakMap)),m=g.get,v=g.has,y=g.set;r=function(e,t){if(v.call(g,e))throw new TypeError(p);return t.facade=e,y.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},a=function(e){return v.call(g,e)}}else{var b=h("state");f[b]=!0,r=function(e,t){if(u(e,b))throw new TypeError(p);return t.facade=e,c(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},a=function(e){return u(e,b)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},(e,t,n)=>{var r=n(10),i=n(44),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},(e,t,n)=>{var r=n(31),i=n(37),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},e=>{e.exports={}},(e,t,n)=>{var r=n(35),i=n(50),a=n(11),o=n(41);e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},(e,t,n)=>{var r=n(24),i=n(51),a=n(58),o=n(42);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},(e,t,n)=>{var r=n(52),i=n(57).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},(e,t,n)=>{var r=n(35),i=n(16),a=n(53).indexOf,o=n(48);e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},(e,t,n)=>{var r=n(16),i=n(54),a=n(56),o=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},(e,t,n)=>{var r=n(55),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},(e,t,n)=>{var r=n(55),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,n)=>{var r=n(13),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},(e,t,n)=>{"use strict";var r,i,a;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=function(){var e=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.setIdentity(),e&&e.length&&this.setMatrixValue(e)},t={isIdentity:{configurable:!0},is2D:{configurable:!0}};t.isIdentity.get=function(){var e=this;return 1===e.m11&&0===e.m12&&0===e.m13&&0===e.m14&&0===e.m21&&1===e.m22&&0===e.m23&&0===e.m24&&0===e.m31&&0===e.m32&&1===e.m33&&0===e.m34&&0===e.m41&&0===e.m42&&0===e.m43&&1===e.m44},t.isIdentity.set=function(e){this.isIdentity=e},t.is2D.get=function(){var e=this;return 0===e.m31&&0===e.m32&&1===e.m33&&0===e.m34&&0===e.m43&&1===e.m44},t.is2D.set=function(e){this.is2D=e},Object.defineProperties(e.prototype,t);var n=e.prototype;function r(t,n,r){var i=new e;return i.m41=t,i.e=t,i.m42=n,i.f=n,i.m43=r,i}function i(t,n,r){var i=new e,a=t*Math.PI/180,o=n*Math.PI/180,s=r*Math.PI/180,l=Math.cos(a),c=-Math.sin(a),u=Math.cos(o),d=-Math.sin(o),h=Math.cos(s),f=-Math.sin(s),p=u*h,g=-u*f;i.m11=p,i.a=p,i.m12=g,i.b=g,i.m13=d;var m=c*d*h+l*f;i.m21=m,i.c=m;var v=l*h-c*d*f;return i.m22=v,i.d=v,i.m23=-c*u,i.m31=c*f-l*d*h,i.m32=c*h+l*d*f,i.m33=l*u,i}function a(t,n,r,i){var a=new e,o=i*Math.PI/360,s=Math.sin(o),l=Math.cos(o),c=s*s,u=Math.sqrt(t*t+n*n+r*r),d=0,h=0,f=1;0!==u&&(d=t/u,h=n/u,f=r/u);var p=d*d,g=h*h,m=f*f,v=1-2*(g+m)*c;a.m11=v,a.a=v;var y=2*(t*n*c+r*s*l);a.m12=y,a.b=y,a.m13=2*(t*r*c-n*s*l);var b=2*(n*t*c-r*s*l);a.m21=b,a.c=b;var _=1-2*(m+p)*c;return a.m22=_,a.d=_,a.m23=2*(n*r*c+t*s*l),a.m31=2*(r*t*c+n*s*l),a.m32=2*(r*n*c-t*s*l),a.m33=1-2*(p+g)*c,a.m14=0,a.m24=0,a.m34=0,a.m41=0,a.e=0,a.m42=0,a.f=0,a.m43=0,a.m44=1,a}function o(t,n,r){var i=new e;return i.m11=t,i.a=t,i.m22=n,i.d=n,i.m33=r,i}function s(t){var n=t*Math.PI/180,r=new e,i=Math.tan(n);return r.m21=i,r.c=i,r}function l(t){var n=t*Math.PI/180,r=new e,i=Math.tan(n);return r.m12=i,r.b=i,r}function c(t,n){return new e([n.m11*t.m11+n.m12*t.m21+n.m13*t.m31+n.m14*t.m41,n.m21*t.m11+n.m22*t.m21+n.m23*t.m31+n.m24*t.m41,n.m31*t.m11+n.m32*t.m21+n.m33*t.m31+n.m34*t.m41,n.m41*t.m11+n.m42*t.m21+n.m43*t.m31+n.m44*t.m41,n.m11*t.m12+n.m12*t.m22+n.m13*t.m32+n.m14*t.m42,n.m21*t.m12+n.m22*t.m22+n.m23*t.m32+n.m24*t.m42,n.m31*t.m12+n.m32*t.m22+n.m33*t.m32+n.m34*t.m42,n.m41*t.m12+n.m42*t.m22+n.m43*t.m32+n.m44*t.m42,n.m11*t.m13+n.m12*t.m23+n.m13*t.m33+n.m14*t.m43,n.m21*t.m13+n.m22*t.m23+n.m23*t.m33+n.m24*t.m43,n.m31*t.m13+n.m32*t.m23+n.m33*t.m33+n.m34*t.m43,n.m41*t.m13+n.m42*t.m23+n.m43*t.m33+n.m44*t.m43,n.m11*t.m14+n.m12*t.m24+n.m13*t.m34+n.m14*t.m44,n.m21*t.m14+n.m22*t.m24+n.m23*t.m34+n.m24*t.m44,n.m31*t.m14+n.m32*t.m24+n.m33*t.m34+n.m34*t.m44,n.m41*t.m14+n.m42*t.m24+n.m43*t.m34+n.m44*t.m44])}function u(e,t){var n=Array.from(t);if(16===n.length){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],f=n[10],p=n[11],g=n[12],m=n[13],v=n[14],y=n[15];e.m11=r,e.a=r,e.m21=i,e.c=i,e.m31=a,e.m41=o,e.e=o,e.m12=s,e.b=s,e.m22=l,e.d=l,e.m32=c,e.m42=u,e.f=u,e.m13=d,e.m23=h,e.m33=f,e.m43=p,e.m14=g,e.m24=m,e.m34=v,e.m44=y}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var b=n[0],_=n[1],w=n[2],A=n[3],x=n[4],k=n[5];e.m11=b,e.a=b,e.m12=_,e.b=_,e.m21=w,e.c=w,e.m22=A,e.d=A,e.m14=x,e.e=x,e.m24=k,e.f=k}return e}return n.setMatrixValue=function(t){var n=this;if(!t||!t.length)return n;if(t.length&&"string"==typeof t[0]&&t[0].length){var r,i,a=String(t[0]).trim();if("none"===a)return n;if(r=a.slice(0,a.indexOf("(")),i=a.slice("matrix"===r?7:9,-1).split(",").map(function(e){return Math.abs(e)<1e-6?0:+e}),!([6,16].indexOf(i.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");u(n,i)}else t[0]instanceof e?u(n,t[0].toArray()):Array.isArray(t[0])?u(n,t[0]):Array.isArray(t)&&u(n,t);return n},n.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},n.toArray=function(e){var t=this;return t.is2D?[t.a,t.b,t.c,t.d,t.e,t.f]:e?[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]:[t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44]},n.multiply=function(e){return c(this,e)},n.translate=function(e,t,n){var i=t,a=n;return null==a&&(a=0),null==i&&(i=0),c(this,r(e,i,a))},n.scale=function(e,t,n){var r=t,i=n;return null==r&&(r=e),null==i&&(i=e),c(this,o(e,r,i))},n.rotate=function(e,t,n){var r=e,a=t,o=n;return null==a&&(a=0),null==o&&(o=r,r=0),c(this,i(r,a,o))},n.rotateAxisAngle=function(e,t,n,r){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return c(this,a(e,t,n,r))},n.skewX=function(e){return c(this,s(e))},n.skewY=function(e){return c(this,l(e))},n.setIdentity=function(){return u(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},n.transformPoint=function(e){var t=r(e.x,e.y,e.z);return t.m44=e.w||1,{x:(t=this.multiply(t)).m41,y:t.m42,z:t.m43,w:t.m44}},n.transform=function(e){var t=this,n=t.m41*e.x+t.m42*e.y+t.m43*e.z+t.m44*e.w;return{x:(t.m11*e.x+t.m12*e.y+t.m13*e.z+t.m14*e.w)/n,y:(t.m21*e.x+t.m22*e.y+t.m23*e.z+t.m24*e.w)/n,z:(t.m31*e.x+t.m32*e.y+t.m33*e.z+t.m34*e.w)/n,w:n}},e.Translate=r,e.Rotate=i,e.RotateAxisAngle=a,e.Scale=o,e.SkewX=s,e.SkewY=l,e.Multiply=c,e.fromMatrix=function(t){return new e([t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44])},e.fromArray=function(t){return u(new e,t)},e.feedFromArray=u,e},"object"===o(t)?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)},(e,t,n)=>{n(62),n(77);var r=n(88);e.exports=r.Object.fromEntries},(e,t,n)=>{"use strict";var r=n(16),i=n(63),a=n(68),o=n(45),s=n(69),l="Array Iterator",c=o.set,u=o.getterFor(l);e.exports=s(Array,"Array",function(e,t){c(this,{type:l,target:r(e),index:0,kind:t})},function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},(e,t,n)=>{var r=n(30),i=n(64),a=n(41),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},(e,t,n)=>{var r,i=n(42),a=n(65),o=n(57),s=n(48),l=n(67),c=n(39),u=n(47)("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},p=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var e,t;p="undefined"!=typeof document?document.domain&&r?f(r):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F):f(r);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[u]=e):n=p(),void 0===t?n:a(n,t)}},(e,t,n)=>{var r=n(12),i=n(41),a=n(42),o=n(66);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},(e,t,n)=>{var r=n(52),i=n(57);e.exports=Object.keys||function(e){return r(e,i)}},(e,t,n)=>{var r=n(24);e.exports=r("document","documentElement")},e=>{e.exports={}},(e,t,n)=>{"use strict";var r=n(9),i=n(70),a=n(72),o=n(75),s=n(74),l=n(40),c=n(43),u=n(30),d=n(32),h=n(68),f=n(71),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=u("iterator"),v="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,n,u,f,w,A){i(n,t,u);var x,k,S,C=function(e){if(e===f&&E)return E;if(!g&&e in O)return O[e];switch(e){case v:case y:case b:return function(){return new n(this,e)}}return function(){return new n(this)}},P=t+" Iterator",T=!1,O=e.prototype,M=O[m]||O["@@iterator"]||f&&O[f],E=!g&&M||C(f),R="Array"==t&&O.entries||M;if(R&&(x=a(R.call(new e)))!==Object.prototype&&x.next&&(d||a(x)===p||(o?o(x,p):"function"!=typeof x[m]&&l(x,m,_)),s(x,P,!0,!0),d&&(h[P]=_)),f==y&&M&&M.name!==y&&(T=!0,E=function(){return M.call(this)}),d&&!A||O[m]===E||l(O,m,E),h[t]=E,f)if(k={values:C(y),keys:w?E:C(v),entries:C(b)},A)for(S in k)(g||T||!(S in O))&&c(O,S,k[S]);else r({target:t,proto:!0,forced:g||T},k);return k}},(e,t,n)=>{"use strict";var r=n(71).IteratorPrototype,i=n(64),a=n(15),o=n(74),s=n(68),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=l,e}},(e,t,n)=>{"use strict";var r,i,a,o=n(13),s=n(64),l=n(72),c=n(40),u=n(30),d=n(32),h=u("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=l(l(a)))!==Object.prototype&&(r=i):f=!0),null==r||o(function(){var e={};return r[h].call(e)!==e})?r={}:d&&(r=s(r)),"function"!=typeof r[h]&&c(r,h,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},(e,t,n)=>{var r=n(35),i=n(36),a=n(47),o=n(73),s=a("IE_PROTO"),l=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},(e,t,n)=>{var r=n(13);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},(e,t,n)=>{var r=n(41).f,i=n(35),a=n(30)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},(e,t,n)=>{var r=n(42),i=n(76);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},(e,t,n)=>{var r=n(22);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},(e,t,n)=>{var r=n(9),i=n(78),a=n(87);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,function(e,n){a(t,e,n)},{AS_ENTRIES:!0}),t}})},(e,t,n)=>{var r=n(42),i=n(79),a=n(54),o=n(80),s=n(82),l=n(83),c=n(86),u=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var d,h,f,p,g,m,v,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),w=o(t,n&&n.that,1+y+_),A=function(e){return d&&c(d,"normal",e),new u(!0,e)},x=function(e){return y?(r(e),_?w(e[0],e[1],A):w(e[0],e[1])):_?w(e,A):w(e)};if(b)d=e;else{if("function"!=typeof(h=l(e)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,p=a(e.length);p>f;f++)if((g=x(e[f]))&&g instanceof u)return g;return new u(!1)}d=s(e,h)}for(m=d.next;!(v=m.call(d)).done;){try{g=x(v.value)}catch(k){c(d,"throw",k)}if("object"==typeof g&&g&&g instanceof u)return g}return new u(!1)}},(e,t,n)=>{var r=n(30),i=n(68),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},(e,t,n)=>{var r=n(81);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},(e,t,n)=>{var r=n(42),i=n(83);e.exports=function(e,t){var n=arguments.length<2?i(e):t;if("function"!=typeof n)throw TypeError(String(e)+" is not iterable");return r(n.call(e))}},(e,t,n)=>{var r=n(84),i=n(68),a=n(30)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},(e,t,n)=>{var r=n(85),i=n(18),a=n(30)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},(e,t,n)=>{var r={};r[n(30)("toStringTag")]="z",e.exports="[object z]"===String(r)},(e,t,n)=>{var r=n(42);e.exports=function(e,t,n){var i,a;r(e);try{if(void 0===(i=e.return)){if("throw"===t)throw n;return n}i=i.call(e)}catch(o){a=!0,i=o}if("throw"===t)throw n;if(a)throw i;return r(i),n}},(e,t,n)=>{"use strict";var r=n(20),i=n(41),a=n(15);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},(e,t,n)=>{var r=n(10);e.exports=r},(e,t,n)=>{n(90),n(62),n(92),n(94),n(112),n(113),n(114),n(115);var r=n(88);e.exports=r.Promise},(e,t,n)=>{"use strict";var r=n(9),i=n(72),a=n(75),o=n(64),s=n(40),l=n(15),c=n(78),u=n(91),d=function(e,t){var n=this;if(!(n instanceof d))return new d(e,t);a&&(n=a(new Error(void 0),i(n))),void 0!==t&&s(n,"message",u(t));var r=[];return c(e,r.push,{that:r}),s(n,"errors",r),n};d.prototype=o(Error.prototype,{constructor:l(5,d),message:l(5,""),name:l(5,"AggregateError")}),r({global:!0},{AggregateError:d})},(e,t,n)=>{var r=n(23);e.exports=function(e){if(r(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)}},(e,t,n)=>{var r=n(85),i=n(43),a=n(93);r||i(Object.prototype,"toString",a,{unsafe:!0})},(e,t,n)=>{"use strict";var r=n(85),i=n(84);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},(e,t,n)=>{"use strict";var r,i,a,o,s=n(9),l=n(32),c=n(10),u=n(24),d=n(95),h=n(43),f=n(96),p=n(75),g=n(74),m=n(97),v=n(22),y=n(81),b=n(98),_=n(44),w=n(78),A=n(99),x=n(100),k=n(101).set,S=n(104),C=n(107),P=n(109),T=n(108),O=n(110),M=n(45),E=n(59),R=n(30),D=n(111),I=n(103),L=n(27),F=R("species"),N="Promise",j=M.get,Z=M.set,q=M.getterFor(N),U=d&&d.prototype,B=d,z=U,V=c.TypeError,W=c.document,H=c.process,Y=T.f,G=Y,Q=!!(W&&W.createEvent&&c.dispatchEvent),J="function"==typeof PromiseRejectionEvent,X="unhandledrejection",K=!1,$=E(N,function(){var e=_(B),t=e!==String(B);if(!t&&66===L)return!0;if(l&&!z.finally)return!0;if(L>=51&&/native code/.test(e))return!1;var n=new B(function(e){e(1)}),r=function(e){e(function(){},function(){})};return(n.constructor={})[F]=r,!(K=n.then(function(){})instanceof r)||!t&&D&&!J}),ee=$||!A(function(e){B.all(e).catch(function(){})}),te=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},ne=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S(function(){for(var r=e.value,i=1==e.state,a=0;n.length>a;){var o,s,l,c=n[a++],u=i?c.ok:c.fail,d=c.resolve,h=c.reject,f=c.domain;try{u?(i||(2===e.rejection&&oe(e),e.rejection=1),!0===u?o=r:(f&&f.enter(),o=u(r),f&&(f.exit(),l=!0)),o===c.promise?h(V("Promise-chain cycle")):(s=te(o))?s.call(o,d,h):d(o)):h(r)}catch(p){f&&!l&&f.exit(),h(p)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ie(e)})}},re=function(e,t,n){var r,i;Q?((r=W.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!J&&(i=c["on"+e])?i(r):e===X&&P("Unhandled promise rejection",n)},ie=function(e){k.call(c,function(){var t,n=e.facade,r=e.value;if(ae(e)&&(t=O(function(){I?H.emit("unhandledRejection",r,n):re(X,n,r)}),e.rejection=I||ae(e)?2:1,t.error))throw t.value})},ae=function(e){return 1!==e.rejection&&!e.parent},oe=function(e){k.call(c,function(){var t=e.facade;I?H.emit("rejectionHandled",t):re("rejectionhandled",t,e.value)})},se=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ne(e,!0))},ce=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw V("Promise can't be resolved itself");var r=te(t);r?S(function(){var n={done:!1};try{r.call(t,se(ce,n,e),se(le,n,e))}catch(i){le(n,i,e)}}):(e.value=t,e.state=1,ne(e,!1))}catch(i){le({done:!1},i,e)}}};if($&&(B=function(e){b(this,B,N),y(e),r.call(this);var t=j(this);try{e(se(ce,t),se(le,t))}catch(n){le(t,n)}},(r=function(e){Z(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(z=B.prototype,{then:function(e,t){var n=q(this),r=Y(x(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=I?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&ne(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=j(e);this.promise=e,this.resolve=se(ce,t),this.reject=se(le,t)},T.f=Y=function(e){return e===B||e===a?new i(e):G(e)},!l&&"function"==typeof d&&U!==Object.prototype)){o=U.then,K||(h(U,"then",function(e,t){var n=this;return new B(function(e,t){o.call(n,e,t)}).then(e,t)},{unsafe:!0}),h(U,"catch",z.catch,{unsafe:!0}));try{delete U.constructor}catch(ue){}p&&p(U,z)}s({global:!0,wrap:!0,forced:$},{Promise:B}),g(B,N,!1,!0),m(N),a=u(N),s({target:N,stat:!0,forced:$},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:l||$},{resolve:function(e){return C(l&&this===a?B:this,e)}}),s({target:N,stat:!0,forced:ee},{all:function(e){var t=this,n=Y(t),r=n.resolve,i=n.reject,a=O(function(){var n=y(t.resolve),a=[],o=0,s=1;w(e,function(e){var l=o++,c=!1;a.push(void 0),s++,n.call(t,e).then(function(e){c||(c=!0,a[l]=e,--s||r(a))},i)}),--s||r(a)});return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=Y(t),r=n.reject,i=O(function(){var i=y(t.resolve);w(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},(e,t,n)=>{var r=n(10);e.exports=r.Promise},(e,t,n)=>{var r=n(43);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},(e,t,n)=>{"use strict";var r=n(24),i=n(41),a=n(30),o=n(12),s=a("species");e.exports=function(e){var t=r(e);o&&t&&!t[s]&&(0,i.f)(t,s,{configurable:!0,get:function(){return this}})}},e=>{e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},(e,t,n)=>{var r=n(30)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(s){}return n}},(e,t,n)=>{var r=n(42),i=n(81),a=n(30)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},(e,t,n)=>{var r,i,a,o,s=n(10),l=n(13),c=n(80),u=n(67),d=n(39),h=n(102),f=n(103),p=s.setImmediate,g=s.clearImmediate,m=s.process,v=s.MessageChannel,y=s.Dispatch,b=0,_={};try{r=s.location}catch(S){}var w=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},A=function(e){return function(){w(e)}},x=function(e){w(e.data)},k=function(e){s.postMessage(String(e),r.protocol+"//"+r.host)};p&&g||(p=function(e){for(var t=[],n=arguments.length,r=1;n>r;)t.push(arguments[r++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},g=function(e){delete _[e]},f?i=function(e){m.nextTick(A(e))}:y&&y.now?i=function(e){y.now(A(e))}:v&&!h?(o=(a=new v).port2,a.port1.onmessage=x,i=c(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&r&&"file:"!==r.protocol&&!l(k)?(i=k,s.addEventListener("message",x,!1)):i="onreadystatechange"in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),w(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:p,clear:g}},(e,t,n)=>{var r=n(28);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(e,t,n)=>{var r=n(18),i=n(10);e.exports="process"==r(i.process)},(e,t,n)=>{var r,i,a,o,s,l,c,u,d=n(10),h=n(11).f,f=n(101).set,p=n(102),g=n(105),m=n(106),v=n(103),y=d.MutationObserver||d.WebKitMutationObserver,b=d.document,_=d.process,w=d.Promise,A=h(d,"queueMicrotask"),x=A&&A.value;x||(r=function(){var e,t;for(v&&(e=_.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():a=void 0,n}}a=void 0,e&&e.enter()},p||v||m||!y||!b?!g&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,u=c.then,o=function(){u.call(c,r)}):o=v?function(){_.nextTick(r)}:function(){f.call(d,r)}:(s=!0,l=b.createTextNode(""),new y(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s})),e.exports=x||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},(e,t,n)=>{var r=n(28),i=n(10);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},(e,t,n)=>{var r=n(28);e.exports=/web0s(?!.*chrome)/i.test(r)},(e,t,n)=>{var r=n(42),i=n(22),a=n(108);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},(e,t,n)=>{"use strict";var r=n(81),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},(e,t,n)=>{var r=n(10);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e=>{e.exports="object"==typeof window},(e,t,n)=>{"use strict";var r=n(9),i=n(81),a=n(108),o=n(110),s=n(78);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=a.f(t),r=n.resolve,l=n.reject,c=o(function(){var n=i(t.resolve),a=[],o=0,l=1;s(e,function(e){var i=o++,s=!1;a.push(void 0),l++,n.call(t,e).then(function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--l||r(a))},function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--l||r(a))})}),--l||r(a)});return c.error&&l(c.value),n.promise}})},(e,t,n)=>{"use strict";var r=n(9),i=n(81),a=n(24),o=n(108),s=n(110),l=n(78),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var t=this,n=o.f(t),r=n.resolve,u=n.reject,d=s(function(){var n=i(t.resolve),o=[],s=0,d=1,h=!1;l(e,function(e){var i=s++,l=!1;o.push(void 0),d++,n.call(t,e).then(function(e){l||h||(h=!0,r(e))},function(e){l||h||(l=!0,o[i]=e,--d||u(new(a("AggregateError"))(o,c)))})}),--d||u(new(a("AggregateError"))(o,c))});return d.error&&u(d.value),n.promise}})},(e,t,n)=>{"use strict";var r=n(9),i=n(32),a=n(95),o=n(13),s=n(24),l=n(100),c=n(107),u=n(43);if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o(function(){a.prototype.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=l(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then(function(){return n})}:e,n?function(n){return c(t,e()).then(function(){throw n})}:e)}}),!i&&"function"==typeof a){var d=s("Promise").prototype.finally;a.prototype.finally!==d&&u(a.prototype,"finally",d,{unsafe:!0})}},(e,t,n)=>{"use strict";var r=n(116).charAt,i=n(91),a=n(45),o=n(69),s="String Iterator",l=a.set,c=a.getterFor(s);o(String,"String",function(e){l(this,{type:s,string:i(e),index:0})},function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})})},(e,t,n)=>{var r=n(55),i=n(91),a=n(19),o=function(e){return function(t,n){var o,s,l=i(a(t)),c=r(n),u=l.length;return c<0||c>=u?e?"":void 0:(o=l.charCodeAt(c))<55296||o>56319||c+1===u||(s=l.charCodeAt(c+1))<56320||s>57343?e?l.charAt(c):o:e?l.slice(c,c+2):s-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t){!function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(e){return"Symbol("+e+")"};function n(){}var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function i(e){return"object"==typeof e&&null!==e||"function"==typeof e}var a=n,o=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(o),c=Promise.reject.bind(o);function u(e){return new o(e)}function d(e){return l(e)}function h(e){return c(e)}function f(e,t,n){return s.call(e,t,n)}function p(e,t,n){f(f(e,t,n),void 0,a)}function g(e,t){p(e,t)}function m(e,t){p(e,void 0,t)}function v(e,t,n){return f(e,t,n)}function y(e){f(e,void 0,a)}var b=function(){var e=r&&r.queueMicrotask;if("function"==typeof e)return e;var t=d(void 0);return function(e){return f(t,e)}}();function _(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function w(e,t,n){try{return d(_(e,t,n))}catch(r){return h(r)}}var A=function(){function e(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.push=function(e){var t=this._back,n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size},e.prototype.shift=function(){var e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,a=i[n];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,a},e.prototype.forEach=function(e){for(var t=this._cursor,n=this._front,r=n._elements;!(t===r.length&&void 0===n._next||t===r.length&&(t=0,0===(r=(n=n._next)._elements).length));)e(r[t]),++t},e.prototype.peek=function(){return this._front._elements[this._cursor]},e}();function x(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?P(e):"closed"===t._state?function(e){P(e),M(e)}(e):T(e,t._storedError)}function k(e,t){return xn(e._ownerReadableStream,t)}function S(e){"readable"===e._ownerReadableStream._state?O(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function C(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function P(e){e._closedPromise=u(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n})}function T(e,t){P(e),O(e,t)}function O(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function M(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var E=t("[[AbortSteps]]"),R=t("[[ErrorSteps]]"),D=t("[[CancelSteps]]"),I=t("[[PullSteps]]"),L=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},F=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function N(e,t){if(void 0!==e&&"object"!=typeof(n=e)&&"function"!=typeof n)throw new TypeError(t+" is not an object.");var n}function j(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function Z(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(t+" is not an object.")}function q(e,t,n){if(void 0===e)throw new TypeError("Parameter "+t+" is required in '"+n+"'.")}function U(e,t,n){if(void 0===e)throw new TypeError(t+" is required in '"+n+"'.")}function B(e){return Number(e)}function z(e){return 0===e?0:e}function V(e,t){var n=Number.MAX_SAFE_INTEGER,r=Number(e);if(r=z(r),!L(r))throw new TypeError(t+" is not a finite number");if((r=function(e){return z(F(e))}(r))<0||r>n)throw new TypeError(t+" is outside the accepted range of 0 to "+n+", inclusive");return L(r)&&0!==r?r:0}function W(e,t){if(!wn(e))throw new TypeError(t+" is not a ReadableStream.")}function H(e){return new $(e)}function Y(e,t){e._reader._readRequests.push(t)}function G(e,t,n){var r=e._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(t)}function Q(e){return e._reader._readRequests.length}function J(e){var t=e._reader;return void 0!==t&&!!ee(t)}var X,K,$=function(){function e(e){if(q(e,1,"ReadableStreamDefaultReader"),W(e,"First parameter"),An(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");x(this,e),this._readRequests=new A}return Object.defineProperty(e.prototype,"closed",{get:function(){return ee(this)?this._closedPromise:h(ne("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),ee(this)?void 0===this._ownerReadableStream?h(C("cancel")):k(this,e):h(ne("cancel"))},e.prototype.read=function(){if(!ee(this))return h(ne("read"));if(void 0===this._ownerReadableStream)return h(C("read from"));var e,t,n=u(function(n,r){e=n,t=r});return te(this,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(){return e({value:void 0,done:!0})},_errorSteps:function(e){return t(e)}}),n},e.prototype.releaseLock=function(){if(!ee(this))throw ne("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}},e}();function ee(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof $}function te(e,t){var n=e._ownerReadableStream;n._disturbed=!0,"closed"===n._state?t._closeSteps():"errored"===n._state?t._errorSteps(n._storedError):n._readableStreamController[I](t)}function ne(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties($.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty($.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof t.asyncIterator&&((X={})[t.asyncIterator]=function(){return this},K=X,Object.defineProperty(K,t.asyncIterator,{enumerable:!1}));var re=function(){function e(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}return e.prototype.next=function(){var e=this,t=function(){return e._nextSteps()};return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,t,t):t(),this._ongoingPromise},e.prototype.return=function(e){var t=this,n=function(){return t._returnSteps(e)};return this._ongoingPromise?v(this._ongoingPromise,n,n):n()},e.prototype._nextSteps=function(){var e=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var t,n,r=this._reader;if(void 0===r._ownerReadableStream)return h(C("iterate"));var i=u(function(e,r){t=e,n=r});return te(r,{_chunkSteps:function(n){e._ongoingPromise=void 0,b(function(){return t({value:n,done:!1})})},_closeSteps:function(){e._ongoingPromise=void 0,e._isFinished=!0,S(r),t({value:void 0,done:!0})},_errorSteps:function(t){e._ongoingPromise=void 0,e._isFinished=!0,S(r),n(t)}}),i},e.prototype._returnSteps=function(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;var t=this._reader;if(void 0===t._ownerReadableStream)return h(C("finish iterating"));if(!this._preventCancel){var n=k(t,e);return S(t),v(n,function(){return{value:e,done:!0}})}return S(t),d({value:e,done:!0})},e}(),ie={next:function(){return ae(this)?this._asyncIteratorImpl.next():h(oe("next"))},return:function(e){return ae(this)?this._asyncIteratorImpl.return(e):h(oe("return"))}};function ae(e){if(!i(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(X){return!1}}function oe(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}void 0!==K&&Object.setPrototypeOf(ie,K);var se=Number.isNaN||function(e){return e!=e};function le(e){return e.slice()}function ce(e,t,n,r,i){new Uint8Array(e).set(new Uint8Array(n,r,i),t)}function ue(e,t,n){if(e.slice)return e.slice(t,n);var r=n-t,i=new ArrayBuffer(r);return ce(i,0,e,t,r),i}function de(e){var t=ue(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function he(e){var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function fe(e,t,n){if("number"!=typeof(r=n)||se(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function pe(e){e._queue=new A,e._queueTotalSize=0}var ge=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"view",{get:function(){if(!ye(this))throw qe("view");return this._view},enumerable:!1,configurable:!0}),e.prototype.respond=function(e){if(!ye(this))throw qe("respond");if(q(e,1,"respond"),e=V(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Ne(this._associatedReadableByteStreamController,e)},e.prototype.respondWithNewView=function(e){if(!ye(this))throw qe("respondWithNewView");if(q(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");je(this._associatedReadableByteStreamController,e)},e}();Object.defineProperties(ge.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ge.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var me=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!ve(this))throw Ue("byobRequest");return Le(this)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!ve(this))throw Ue("desiredSize");return Fe(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!ve(this))throw Ue("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed");Re(this)},e.prototype.enqueue=function(e){if(!ve(this))throw Ue("enqueue");if(q(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to");De(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!ve(this))throw Ue("error");Ie(this,e)},e.prototype[D]=function(e){_e(this),pe(this);var t=this._cancelAlgorithm(e);return Ee(this),t},e.prototype[I]=function(e){var t=this._controlledReadableByteStream;if(this._queueTotalSize>0){var n=this._queue.shift();this._queueTotalSize-=n.byteLength,Ce(this);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);e._chunkSteps(r)}else{var i=this._autoAllocateChunkSize;if(void 0!==i){var a=void 0;try{a=new ArrayBuffer(i)}catch(s){return void e._errorSteps(s)}var o={buffer:a,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}Y(t,e),be(this)}},e}();function ve(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ye(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ge}function be(e){(function(e){var t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(J(t)&&Q(t)>0)||!!(We(t)&&Ve(t)>0)||Fe(e)>0)})(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,be(e))},function(t){Ie(e,t)})))}function _e(e){Pe(e),e._pendingPullIntos=new A}function we(e,t){var n=!1;"closed"===e._state&&(n=!0);var r=Ae(t);"default"===t.readerType?G(e,r,n):function(e,t,n){var r=e._reader._readIntoRequests.shift();n?r._closeSteps(t):r._chunkSteps(t)}(e,r,n)}function Ae(e){return new e.viewConstructor(e.buffer,e.byteOffset,e.bytesFilled/e.elementSize)}function xe(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function ke(e,t){var n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,o=a-a%n,s=i,l=!1;o>r&&(s=o-t.bytesFilled,l=!0);for(var c=e._queue;s>0;){var u=c.peek(),d=Math.min(s,u.byteLength);ce(t.buffer,t.byteOffset+t.bytesFilled,u.buffer,u.byteOffset,d),u.byteLength===d?c.shift():(u.byteOffset+=d,u.byteLength-=d),e._queueTotalSize-=d,Se(0,d,t),s-=d}return l}function Se(e,t,n){n.bytesFilled+=t}function Ce(e){0===e._queueTotalSize&&e._closeRequested?(Ee(e),kn(e._controlledReadableByteStream)):be(e)}function Pe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Te(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos.peek();ke(e,t)&&(Me(e),we(e._controlledReadableByteStream,t))}}function Oe(e,t){var n=e._pendingPullIntos.peek();Pe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){var n=e._controlledReadableByteStream;if(We(n))for(;Ve(n)>0;)we(n,Me(e))}(e):function(e,t,n){if(Se(0,t,n),!(n.bytesFilled<n.elementSize)){Me(e);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,a=ue(n.buffer,i-r,i);xe(e,a,0,a.byteLength)}n.bytesFilled-=r,we(e._controlledReadableByteStream,n),Te(e)}}(e,t,n),be(e)}function Me(e){return e._pendingPullIntos.shift()}function Ee(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Re(e){var t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ie(e,n),n}Ee(e),kn(t)}}function De(e,t){var n=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===n._state){var r=t.byteOffset,i=t.byteLength,a=t.buffer;if(e._pendingPullIntos.length>0){var o=e._pendingPullIntos.peek();o.buffer=o.buffer}Pe(e),J(n)?0===Q(n)?xe(e,a,r,i):G(n,new Uint8Array(a,r,i),!1):We(n)?(xe(e,a,r,i),Te(e)):xe(e,a,r,i),be(e)}}function Ie(e,t){var n=e._controlledReadableByteStream;"readable"===n._state&&(_e(e),pe(e),Ee(e),Sn(n,t))}function Le(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(ge.prototype);!function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}(r,e,n),e._byobRequest=r}return e._byobRequest}function Fe(e){var t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ne(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,Oe(e,t)}function je(e,t){var n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");n.buffer=t.buffer,Oe(e,t.byteLength)}function Ze(e,t,n,r,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,pe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new A,e._readableStreamController=t,p(d(n()),function(){t._started=!0,be(t)},function(e){Ie(t,e)})}function qe(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function Ue(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function Be(e){return new He(e)}function ze(e,t){e._reader._readIntoRequests.push(t)}function Ve(e){return e._reader._readIntoRequests.length}function We(e){var t=e._reader;return void 0!==t&&!!Ye(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var He=function(){function e(e){if(q(e,1,"ReadableStreamBYOBReader"),W(e,"First parameter"),An(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ve(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");x(this,e),this._readIntoRequests=new A}return Object.defineProperty(e.prototype,"closed",{get:function(){return Ye(this)?this._closedPromise:h(Qe("closed"))},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),Ye(this)?void 0===this._ownerReadableStream?h(C("cancel")):k(this,e):h(Qe("cancel"))},e.prototype.read=function(e){if(!Ye(this))return h(Qe("read"));if(!ArrayBuffer.isView(e))return h(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return h(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return h(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return h(C("read from"));var t,n,r=u(function(e,r){t=e,n=r});return Ge(this,e,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(e){return t({value:e,done:!0})},_errorSteps:function(e){return n(e)}}),r},e.prototype.releaseLock=function(){if(!Ye(this))throw Qe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");S(this)}},e}();function Ye(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof He}function Ge(e,t,n){var r=e._ownerReadableStream;r._disturbed=!0,"errored"===r._state?n._errorSteps(r._storedError):function(e,t,n){var r=e._controlledReadableByteStream,i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);var a=t.constructor,o=t.buffer,s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void ze(r,n);if("closed"!==r._state){if(e._queueTotalSize>0){if(ke(e,s)){var l=Ae(s);return Ce(e),void n._chunkSteps(l)}if(e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ie(e,c),void n._errorSteps(c)}}e._pendingPullIntos.push(s),ze(r,n),be(e)}else{var u=new a(s.buffer,s.byteOffset,0);n._closeSteps(u)}}(r._readableStreamController,t,n)}function Qe(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function Je(e,t){var n=e.highWaterMark;if(void 0===n)return t;if(se(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Xe(e){return e.size||function(){return 1}}function Ke(e,t){N(e,t);var n=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===n?void 0:B(n),size:void 0===r?void 0:$e(r,t+" has member 'size' that")}}function $e(e,t){return j(e,t),function(t){return B(e(t))}}function et(e,t,n){return j(e,n),function(n){return w(e,t,[n])}}function tt(e,t,n){return j(e,n),function(){return w(e,t,[])}}function nt(e,t,n){return j(e,n),function(n){return _(e,t,[n])}}function rt(e,t,n){return j(e,n),function(n,r){return w(e,t,[n,r])}}function it(e,t){if(!ct(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(He.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(He.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var at="function"==typeof AbortController,ot=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:Z(e,"First parameter");var n=Ke(t,"Second parameter"),r=function(e,t){N(e,t);var n=null==e?void 0:e.abort,r=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,o=null==e?void 0:e.write;return{abort:void 0===n?void 0:et(n,e,t+" has member 'abort' that"),close:void 0===r?void 0:tt(r,e,t+" has member 'close' that"),start:void 0===i?void 0:nt(i,e,t+" has member 'start' that"),write:void 0===o?void 0:rt(o,e,t+" has member 'write' that"),type:a}}(e,"First parameter");if(lt(this),void 0!==r.type)throw new RangeError("Invalid type is specified");var i=Xe(n);!function(e,t,n,r){var i=Object.create(Ct.prototype),a=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)},l=function(){return d(void 0)};void 0!==t.start&&(a=function(){return t.start(i)}),void 0!==t.write&&(o=function(e){return t.write(e,i)}),void 0!==t.close&&(s=function(){return t.close()}),void 0!==t.abort&&(l=function(e){return t.abort(e)}),Tt(e,i,a,o,s,l,n,r)}(this,r,Je(n,1),i)}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!ct(this))throw Lt("locked");return ut(this)},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),ct(this)?ut(this)?h(new TypeError("Cannot abort a stream that already has a writer")):dt(this,e):h(Lt("abort"))},e.prototype.close=function(){return ct(this)?ut(this)?h(new TypeError("Cannot close a stream that already has a writer")):mt(this)?h(new TypeError("Cannot close an already-closing stream")):ht(this):h(Lt("close"))},e.prototype.getWriter=function(){if(!ct(this))throw Lt("getWriter");return st(this)},e}();function st(e){return new bt(e)}function lt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new A,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof ot}function ut(e){return void 0!==e._writer}function dt(e,t){var n;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(n=e._writableStreamController._abortController)||void 0===n||n.abort();var r=e._state;if("closed"===r||"errored"===r)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;var i=!1;"erroring"===r&&(i=!0,t=void 0);var a=u(function(n,r){e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=a,i||pt(e,t),a}function ht(e){var t=e._state;if("closed"===t||"errored"===t)return h(new TypeError("The stream (in "+t+" state) is not in the writable state and cannot be closed"));var n,r=u(function(t,n){e._closeRequest={_resolve:t,_reject:n}}),i=e._writer;return void 0!==i&&e._backpressure&&"writable"===t&&Yt(i),fe(n=e._writableStreamController,St,0),Et(n),r}function ft(e,t){"writable"!==e._state?gt(e):pt(e,t)}function pt(e,t){var n=e._writableStreamController;e._state="erroring",e._storedError=t;var r=e._writer;void 0!==r&&At(r,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&n._started&&gt(e)}function gt(e){e._state="errored",e._writableStreamController[R]();var t=e._storedError;if(e._writeRequests.forEach(function(e){e._reject(t)}),e._writeRequests=new A,void 0!==e._pendingAbortRequest){var n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(t),void vt(e);p(e._writableStreamController[E](n._reason),function(){n._resolve(),vt(e)},function(t){n._reject(t),vt(e)})}else vt(e)}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function vt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&Ut(t,e._storedError)}function yt(e,t){var n=e._writer;void 0!==n&&t!==e._backpressure&&(t?function(e){zt(e)}(n):Yt(n)),e._backpressure=t}Object.defineProperties(ot.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ot.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});var bt=function(){function e(e){if(q(e,1,"WritableStreamDefaultWriter"),it(e,"First parameter"),ut(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;var t=e._state;if("writable"===t)!mt(e)&&e._backpressure?zt(this):Wt(this),Zt(this);else if("erroring"===t)Vt(this,e._storedError),Zt(this);else if("closed"===t)Wt(this),Zt(this),Bt(this);else{var n=e._storedError;Vt(this,n),qt(this,n)}}return Object.defineProperty(e.prototype,"closed",{get:function(){return _t(this)?this._closedPromise:h(Nt("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!_t(this))throw Nt("desiredSize");if(void 0===this._ownerWritableStream)throw jt("desiredSize");return"errored"===(t=(e=this._ownerWritableStream)._state)||"erroring"===t?null:"closed"===t?0:Mt(e._writableStreamController);var e,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){return _t(this)?this._readyPromise:h(Nt("ready"))},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){return void 0===e&&(e=void 0),_t(this)?void 0===this._ownerWritableStream?h(jt("abort")):function(e,t){return dt(e._ownerWritableStream,t)}(this,e):h(Nt("abort"))},e.prototype.close=function(){if(!_t(this))return h(Nt("close"));var e=this._ownerWritableStream;return void 0===e?h(jt("close")):mt(e)?h(new TypeError("Cannot close an already-closing stream")):wt(this)},e.prototype.releaseLock=function(){if(!_t(this))throw Nt("releaseLock");void 0!==this._ownerWritableStream&&xt(this)},e.prototype.write=function(e){return void 0===e&&(e=void 0),_t(this)?void 0===this._ownerWritableStream?h(jt("write to")):kt(this,e):h(Nt("write"))},e}();function _t(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof bt}function wt(e){return ht(e._ownerWritableStream)}function At(e,t){"pending"===e._readyPromiseState?Ht(e,t):function(e,t){Vt(e,t)}(e,t)}function xt(e){var t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");At(e,n),function(e,t){"pending"===e._closedPromiseState?Ut(e,t):function(e,t){qt(e,t)}(e,t)}(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function kt(e,t){var n=e._ownerWritableStream,r=n._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(n){return Rt(e,n),1}}(r,t);if(n!==e._ownerWritableStream)return h(jt("write to"));var a=n._state;if("errored"===a)return h(n._storedError);if(mt(n)||"closed"===a)return h(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return h(n._storedError);var o=function(e){return u(function(t,n){e._writeRequests.push({_resolve:t,_reject:n})})}(n);return function(e,t,n){try{fe(e,t,n)}catch(i){return void Rt(e,i)}var r=e._controlledWritableStream;mt(r)||"writable"!==r._state||yt(r,Dt(e)),Et(e)}(r,t,i),o}Object.defineProperties(bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(bt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var St={},Ct=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!Pt(this))throw Ft("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signal",{get:function(){if(!Pt(this))throw Ft("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Pt(this))throw Ft("error");"writable"===this._controlledWritableStream._state&&It(this,e)},e.prototype[E]=function(e){var t=this._abortAlgorithm(e);return Ot(this),t},e.prototype[R]=function(){pe(this)},e}();function Pt(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Ct}function Tt(e,t,n,r,i,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._abortReason=void 0,t._abortController=function(){if(at)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=a;var l=Dt(t);yt(e,l),p(d(n()),function(){t._started=!0,Et(t)},function(n){t._started=!0,ft(e,n)})}function Ot(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Mt(e){return e._strategyHWM-e._queueTotalSize}function Et(e){var t=e._controlledWritableStream;if(e._started&&void 0===t._inFlightWriteRequest)if("erroring"!==t._state){if(0!==e._queue.length){var n=e._queue.peek().value;n===St?function(e){var t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),he(e);var n=e._closeAlgorithm();Ot(e),p(n,function(){!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var t=e._writer;void 0!==t&&Bt(t)}(t)},function(e){!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ft(e,t)}(t,e)})}(e):function(e,t){var n=e._controlledWritableStream;(function(e){e._inFlightWriteRequest=e._writeRequests.shift()})(n),p(e._writeAlgorithm(t),function(){!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);var t=n._state;if(he(e),!mt(n)&&"writable"===t){var r=Dt(e);yt(n,r)}Et(e)},function(t){"writable"===n._state&&Ot(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ft(e,t)}(n,t)})}(e,n)}}else gt(t)}function Rt(e,t){"writable"===e._controlledWritableStream._state&&It(e,t)}function Dt(e){return Mt(e)<=0}function It(e,t){var n=e._controlledWritableStream;Ot(e),pt(n,t)}function Lt(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function Ft(e){return new TypeError("WritableStreamDefaultController.prototype."+e+" can only be used on a WritableStreamDefaultController")}function Nt(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function jt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Zt(e){e._closedPromise=u(function(t,n){e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function qt(e,t){Zt(e),Ut(e,t)}function Ut(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Bt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function zt(e){e._readyPromise=u(function(t,n){e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function Vt(e,t){zt(e),Ht(e,t)}function Wt(e){zt(e),Yt(e)}function Ht(e,t){void 0!==e._readyPromise_reject&&(y(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Yt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ct.prototype,{error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ct.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Gt,Qt="undefined"!=typeof DOMException?DOMException:void 0,Jt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(X){return!1}}(Qt)?Qt:((Gt=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(Gt.prototype,"constructor",{value:Gt,writable:!0,configurable:!0}),Gt);function Xt(e,t,r,i,a,o){var s=H(e),l=st(t);e._disturbed=!0;var c=!1,v=d(void 0);return u(function(b,_){var w,A,x;if(void 0!==o){if(w=function(){var n=new Jt("Aborted","AbortError"),r=[];i||r.push(function(){return"writable"===t._state?dt(t,n):d(void 0)}),a||r.push(function(){return"readable"===e._state?xn(e,n):d(void 0)}),T(function(){return Promise.all(r.map(function(e){return e()}))},!0,n)},o.aborted)return void w();o.addEventListener("abort",w)}if(P(e,s._closedPromise,function(e){i?O(!0,e):T(function(){return dt(t,e)},!0,e)}),P(t,l._closedPromise,function(t){a?O(!0,t):T(function(){return xn(e,t)},!0,t)}),A=s._closedPromise,x=function(){r?O():T(function(){return function(e){var t=e._ownerWritableStream,n=t._state;return mt(t)||"closed"===n?d(void 0):"errored"===n?h(t._storedError):wt(e)}(l)})},"closed"===e._state?x():g(A,x),mt(t)||"closed"===t._state){var k=new TypeError("the destination writable stream closed before all data could be piped to it");a?O(!0,k):T(function(){return xn(e,k)},!0,k)}function C(){var e=v;return f(v,function(){return e!==v?C():void 0})}function P(e,t,n){"errored"===e._state?n(e._storedError):m(t,n)}function T(e,n,r){function i(){p(e(),function(){return M(n,r)},function(e){return M(!0,e)})}c||(c=!0,"writable"!==t._state||mt(t)?i():g(C(),i))}function O(e,n){c||(c=!0,"writable"!==t._state||mt(t)?M(e,n):g(C(),function(){return M(e,n)}))}function M(e,t){xt(l),S(s),void 0!==o&&o.removeEventListener("abort",w),e?_(t):b(void 0)}y(u(function(e,t){!function r(i){i?e():f(c?d(!0):f(l._readyPromise,function(){return u(function(e,t){te(s,{_chunkSteps:function(t){v=f(kt(l,t),void 0,n),e(!1)},_closeSteps:function(){return e(!0)},_errorSteps:t})})}),r,t)}(!1)}))})}var Kt=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!$t(this))throw un("desiredSize");return sn(this)},enumerable:!1,configurable:!0}),e.prototype.close=function(){if(!$t(this))throw un("close");if(!ln(this))throw new TypeError("The stream is not in a state that permits close");rn(this)},e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!$t(this))throw un("enqueue");if(!ln(this))throw new TypeError("The stream is not in a state that permits enqueue");return an(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!$t(this))throw un("error");on(this,e)},e.prototype[D]=function(e){pe(this);var t=this._cancelAlgorithm(e);return nn(this),t},e.prototype[I]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var n=he(this);this._closeRequested&&0===this._queue.length?(nn(this),kn(t)):en(this),e._chunkSteps(n)}else Y(t,e),en(this)},e}();function $t(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Kt}function en(e){tn(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),function(){e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,en(e))},function(t){on(e,t)})))}function tn(e){var t=e._controlledReadableStream;return!!ln(e)&&!!e._started&&(!!(An(t)&&Q(t)>0)||sn(e)>0)}function nn(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rn(e){if(ln(e)){var t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(nn(e),kn(t))}}function an(e,t){if(ln(e)){var n=e._controlledReadableStream;if(An(n)&&Q(n)>0)G(n,t,!1);else{var r=void 0;try{r=e._strategySizeAlgorithm(t)}catch(i){throw on(e,i),i}try{fe(e,t,r)}catch(a){throw on(e,a),a}}en(e)}}function on(e,t){var n=e._controlledReadableStream;"readable"===n._state&&(pe(e),nn(e),Sn(n,t))}function sn(e){var t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ln(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function cn(e,t,n,r,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,pe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t,p(d(n()),function(){t._started=!0,en(t)},function(e){on(t,e)})}function un(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function dn(e,t,n){return j(e,n),function(n){return w(e,t,[n])}}function hn(e,t,n){return j(e,n),function(n){return w(e,t,[n])}}function fn(e,t,n){return j(e,n),function(n){return _(e,t,[n])}}function pn(e,t){if("bytes"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType");return e}function gn(e,t){if("byob"!=(e=""+e))throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode");return e}function mn(e,t){N(e,t);var n=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(X){return!1}}(e))throw new TypeError(t+" is not an AbortSignal.")}(a,t+" has member 'signal' that"),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(i),signal:a}}Object.defineProperties(Kt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Kt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var vn=function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t={}),void 0===e?e=null:Z(e,"First parameter");var n=Ke(t,"Second parameter"),r=function(e,t){N(e,t);var n=e,r=null==n?void 0:n.autoAllocateChunkSize,i=null==n?void 0:n.cancel,a=null==n?void 0:n.pull,o=null==n?void 0:n.start,s=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:V(r,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:dn(i,n,t+" has member 'cancel' that"),pull:void 0===a?void 0:hn(a,n,t+" has member 'pull' that"),start:void 0===o?void 0:fn(o,n,t+" has member 'start' that"),type:void 0===s?void 0:pn(s,t+" has member 'type' that")}}(e,"First parameter");if(_n(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,n){var r=Object.create(me.prototype),i=function(){},a=function(){return d(void 0)},o=function(){return d(void 0)};void 0!==t.start&&(i=function(){return t.start(r)}),void 0!==t.pull&&(a=function(){return t.pull(r)}),void 0!==t.cancel&&(o=function(e){return t.cancel(e)});var s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ze(e,r,i,a,o,n,s)}(this,r,Je(n,0))}else{var i=Xe(n);!function(e,t,n,r){var i=Object.create(Kt.prototype),a=function(){},o=function(){return d(void 0)},s=function(){return d(void 0)};void 0!==t.start&&(a=function(){return t.start(i)}),void 0!==t.pull&&(o=function(){return t.pull(i)}),void 0!==t.cancel&&(s=function(e){return t.cancel(e)}),cn(e,i,a,o,s,n,r)}(this,r,Je(n,1),i)}}return Object.defineProperty(e.prototype,"locked",{get:function(){if(!wn(this))throw Cn("locked");return An(this)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(e){return void 0===e&&(e=void 0),wn(this)?An(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):xn(this,e):h(Cn("cancel"))},e.prototype.getReader=function(e){if(void 0===e&&(e=void 0),!wn(this))throw Cn("getReader");return void 0===function(e,t){N(e,t);var n=null==e?void 0:e.mode;return{mode:void 0===n?void 0:gn(n,t+" has member 'mode' that")}}(e,"First parameter").mode?H(this):Be(this)},e.prototype.pipeThrough=function(e,t){if(void 0===t&&(t={}),!wn(this))throw Cn("pipeThrough");q(e,1,"pipeThrough");var n=function(e,t){N(e,t);var n=null==e?void 0:e.readable;U(n,"readable","ReadableWritablePair"),W(n,t+" has member 'readable' that");var r=null==e?void 0:e.writable;return U(r,"writable","ReadableWritablePair"),it(r,t+" has member 'writable' that"),{readable:n,writable:r}}(e,"First parameter"),r=mn(t,"Second parameter");if(An(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ut(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(Xt(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable},e.prototype.pipeTo=function(e,t){if(void 0===t&&(t={}),!wn(this))return h(Cn("pipeTo"));if(void 0===e)return h("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=mn(t,"Second parameter")}catch(r){return h(r)}return An(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ut(e)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Xt(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},e.prototype.tee=function(){if(!wn(this))throw Cn("tee");return le(ve(this._readableStreamController)?function(e){var t,n,r,i,a,o=H(e),s=!1,l=!1,c=!1,h=u(function(e){a=e});function f(e){m(e._closedPromise,function(t){e===o&&(Ie(r._readableStreamController,t),Ie(i._readableStreamController,t),l&&c||a(void 0))})}function p(){Ye(o)&&(S(o),f(o=H(e))),te(o,{_chunkSteps:function(t){b(function(){s=!1;var n=t,o=t;if(!l&&!c)try{o=de(t)}catch(u){return Ie(r._readableStreamController,u),Ie(i._readableStreamController,u),void a(xn(e,u))}l||De(r._readableStreamController,n),c||De(i._readableStreamController,o)})},_closeSteps:function(){s=!1,l||Re(r._readableStreamController),c||Re(i._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Ne(r._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Ne(i._readableStreamController,0),l&&c||a(void 0)},_errorSteps:function(){s=!1}})}function g(t,n){ee(o)&&(S(o),f(o=Be(e)));var u=n?i:r,d=n?r:i;Ge(o,t,{_chunkSteps:function(t){b(function(){s=!1;var r=n?c:l;if(n?l:c)r||je(u._readableStreamController,t);else{var i=void 0;try{i=de(t)}catch(o){return Ie(u._readableStreamController,o),Ie(d._readableStreamController,o),void a(xn(e,o))}r||je(u._readableStreamController,t),De(d._readableStreamController,i)}})},_closeSteps:function(e){s=!1;var t=n?c:l,r=n?l:c;t||Re(u._readableStreamController),r||Re(d._readableStreamController),void 0!==e&&(t||je(u._readableStreamController,e),!r&&d._readableStreamController._pendingPullIntos.length>0&&Ne(d._readableStreamController,0)),t&&r||a(void 0)},_errorSteps:function(){s=!1}})}function v(){}return r=bn(v,function(){if(s)return d(void 0);s=!0;var e=Le(r._readableStreamController);return null===e?p():g(e._view,!1),d(void 0)},function(r){if(l=!0,t=r,c){var i=le([t,n]),o=xn(e,i);a(o)}return h}),i=bn(v,function(){if(s)return d(void 0);s=!0;var e=Le(i._readableStreamController);return null===e?p():g(e._view,!0),d(void 0)},function(r){if(c=!0,n=r,l){var i=le([t,n]),o=xn(e,i);a(o)}return h}),f(o),[r,i]}(this):function(e,t){var n,r,i,a,o,s=H(e),l=!1,c=!1,h=!1,f=u(function(e){o=e});function p(){return l||(l=!0,te(s,{_chunkSteps:function(e){b(function(){l=!1;var t=e;c||an(i._readableStreamController,e),h||an(a._readableStreamController,t)})},_closeSteps:function(){l=!1,c||rn(i._readableStreamController),h||rn(a._readableStreamController),c&&h||o(void 0)},_errorSteps:function(){l=!1}})),d(void 0)}function g(){}return i=yn(g,p,function(t){if(c=!0,n=t,h){var i=le([n,r]),a=xn(e,i);o(a)}return f}),a=yn(g,p,function(t){if(h=!0,r=t,c){var i=le([n,r]),a=xn(e,i);o(a)}return f}),m(s._closedPromise,function(e){on(i._readableStreamController,e),on(a._readableStreamController,e),c&&h||o(void 0)}),[i,a]}(this))},e.prototype.values=function(e){if(void 0===e&&(e=void 0),!wn(this))throw Cn("values");var t,n,r,i,a;return t=(a=e,N(a,"First parameter"),{preventCancel:Boolean(null==a?void 0:a.preventCancel)}).preventCancel,n=H(this),r=new re(n,t),(i=Object.create(ie))._asyncIteratorImpl=r,i},e}();function yn(e,t,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var a=Object.create(vn.prototype);return _n(a),cn(a,Object.create(Kt.prototype),e,t,n,r,i),a}function bn(e,t,n){var r=Object.create(vn.prototype);return _n(r),Ze(r,Object.create(me.prototype),e,t,n,0,void 0),r}function _n(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function wn(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof vn}function An(e){return void 0!==e._reader}function xn(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return h(e._storedError);kn(e);var r=e._reader;return void 0!==r&&Ye(r)&&(r._readIntoRequests.forEach(function(e){e._closeSteps(void 0)}),r._readIntoRequests=new A),v(e._readableStreamController[D](t),n)}function kn(e){e._state="closed";var t=e._reader;void 0!==t&&(M(t),ee(t)&&(t._readRequests.forEach(function(e){e._closeSteps()}),t._readRequests=new A))}function Sn(e,t){e._state="errored",e._storedError=t;var n=e._reader;void 0!==n&&(O(n,t),ee(n)?(n._readRequests.forEach(function(e){e._errorSteps(t)}),n._readRequests=new A):(n._readIntoRequests.forEach(function(e){e._errorSteps(t)}),n._readIntoRequests=new A))}function Cn(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Pn(e,t){N(e,t);var n=null==e?void 0:e.highWaterMark;return U(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:B(n)}}Object.defineProperties(vn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(vn.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(vn.prototype,t.asyncIterator,{value:vn.prototype.values,writable:!0,configurable:!0});var Tn=function(e){return e.byteLength};Object.defineProperty(Tn,"name",{value:"size",configurable:!0});var On=function(){function e(e){q(e,1,"ByteLengthQueuingStrategy"),e=Pn(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!En(this))throw Mn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!En(this))throw Mn("size");return Tn},enumerable:!1,configurable:!0}),e}();function Mn(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function En(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof On}Object.defineProperties(On.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(On.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Rn=function(){return 1};Object.defineProperty(Rn,"name",{value:"size",configurable:!0});var Dn=function(){function e(e){q(e,1,"CountQueuingStrategy"),e=Pn(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}return Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Ln(this))throw In("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(!Ln(this))throw In("size");return Rn},enumerable:!1,configurable:!0}),e}();function In(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function Ln(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Dn}function Fn(e,t,n){return j(e,n),function(n){return w(e,t,[n])}}function Nn(e,t,n){return j(e,n),function(n){return _(e,t,[n])}}function jn(e,t,n){return j(e,n),function(n,r){return w(e,t,[n,r])}}Object.defineProperties(Dn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Dn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Zn=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={}),void 0===e&&(e=null);var r=Ke(t,"Second parameter"),i=Ke(n,"Third parameter"),a=function(e,t){N(e,t);var n=null==e?void 0:e.flush,r=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{flush:void 0===n?void 0:Fn(n,e,t+" has member 'flush' that"),readableType:r,start:void 0===i?void 0:Nn(i,e,t+" has member 'start' that"),transform:void 0===a?void 0:jn(a,e,t+" has member 'transform' that"),writableType:o}}(e,"First parameter");if(void 0!==a.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw new RangeError("Invalid writableType specified");var o,s=Je(i,0),l=Xe(i),c=Je(r,1),f=Xe(r);!function(e,t,n,r,i,a){function o(){return t}e._writable=function(e,t,n,r,i,a){void 0===i&&(i=1),void 0===a&&(a=function(){return 1});var o=Object.create(ot.prototype);return lt(o),Tt(o,Object.create(Ct.prototype),e,t,n,r,i,a),o}(o,function(t){return function(e,t){var n=e._transformStreamController;return e._backpressure?v(e._backpressureChangePromise,function(){var r=e._writable;if("erroring"===r._state)throw r._storedError;return Gn(n,t)}):Gn(n,t)}(e,t)},function(){return function(e){var t=e._readable,n=e._transformStreamController,r=n._flushAlgorithm();return Hn(n),v(r,function(){if("errored"===t._state)throw t._storedError;rn(t._readableStreamController)},function(n){throw Un(e,n),t._storedError})}(e)},function(t){return function(e,t){return Un(e,t),d(void 0)}(e,t)},n,r),e._readable=yn(o,function(){return function(e){return zn(e,!1),e._backpressureChangePromise}(e)},function(t){return Bn(e,t),d(void 0)},i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,zn(e,!0),e._transformStreamController=void 0}(this,u(function(e){o=e}),c,f,s,l),function(e,t){var n=Object.create(Vn.prototype),r=function(e){try{return Yn(n,e),d(void 0)}catch(t){return h(t)}},i=function(){return d(void 0)};void 0!==t.transform&&(r=function(e){return t.transform(e,n)}),void 0!==t.flush&&(i=function(){return t.flush(n)}),function(e,t,n,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r}(e,n,r,i)}(this,a),o(void 0!==a.start?a.start(this._transformStreamController):void 0)}return Object.defineProperty(e.prototype,"readable",{get:function(){if(!qn(this))throw Jn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"writable",{get:function(){if(!qn(this))throw Jn("writable");return this._writable},enumerable:!1,configurable:!0}),e}();function qn(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Zn}function Un(e,t){on(e._readable._readableStreamController,t),Bn(e,t)}function Bn(e,t){Hn(e._transformStreamController),Rt(e._writable._writableStreamController,t),e._backpressure&&zn(e,!1)}function zn(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u(function(t){e._backpressureChangePromise_resolve=t}),e._backpressure=t}Object.defineProperties(Zn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Zn.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});var Vn=function(){function e(){throw new TypeError("Illegal constructor")}return Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Wn(this))throw Qn("desiredSize");return sn(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e){if(void 0===e&&(e=void 0),!Wn(this))throw Qn("enqueue");Yn(this,e)},e.prototype.error=function(e){if(void 0===e&&(e=void 0),!Wn(this))throw Qn("error");Un(this._controlledTransformStream,e)},e.prototype.terminate=function(){if(!Wn(this))throw Qn("terminate");var e;rn((e=this._controlledTransformStream)._readable._readableStreamController),Bn(e,new TypeError("TransformStream terminated"))},e}();function Wn(e){return!!i(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Vn}function Hn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Yn(e,t){var n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!ln(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{an(r,t)}catch(i){throw Bn(n,i),n._readable._storedError}(function(e){return!tn(e)})(r)!==n._backpressure&&zn(n,!0)}function Gn(e,t){return v(e._transformAlgorithm(t),void 0,function(t){throw Un(e._controlledTransformStream,t),t})}function Qn(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function Jn(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}Object.defineProperties(Vn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Vn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=On,e.CountQueuingStrategy=Dn,e.ReadableByteStreamController=me,e.ReadableStream=vn,e.ReadableStreamBYOBReader=He,e.ReadableStreamBYOBRequest=ge,e.ReadableStreamDefaultController=Kt,e.ReadableStreamDefaultReader=$,e.TransformStream=Zn,e.TransformStreamDefaultController=Vn,e.WritableStream=ot,e.WritableStreamDefaultController=Ct,e.WritableStreamDefaultWriter=bt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSVGFactory=t.BaseStandardFontDataFactory=t.BaseCMapReaderFactory=t.BaseCanvasFactory=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4);function o(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}t.BaseCanvasFactory=function(){function e(){l(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseCanvasFactory.")}return u(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}},{key:"_createCanvas",value:function(e,t){(0,a.unreachable)("Abstract method `_createCanvas` called.")}}]),e}(),t.BaseCMapReaderFactory=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n,i=t.isCompressed,o=void 0!==i&&i;l(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=o}var t;return u(e,[{key:"fetch",value:(t=s(i.default.mark(function e(t){var n,r,o=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return e.abrupt("return",this._fetchData(r=this.baseUrl+n+(this.isCompressed?".bcmap":""),this.isCompressed?a.CMapCompressionType.BINARY:a.CMapCompressionType.NONE).catch(function(e){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"","CMap at: ").concat(r))}));case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e,t){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),e}(),t.BaseStandardFontDataFactory=function(){function e(t){var n=t.baseUrl,r=void 0===n?null:n;l(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}var t;return u(e,[{key:"fetch",value:(t=s(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filename,this.baseUrl){e.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){e.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),e.abrupt("return",this._fetchData(r).catch(function(e){throw new Error("Unable to load font data at: ".concat(r))}));case 7:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(e){(0,a.unreachable)("Abstract method `_fetchData` called.")}}]),e}(),t.BaseSVGFactory=function(){function e(){l(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseSVGFactory.")}return u(e,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width","".concat(e,"px")),n.setAttribute("height","".concat(t,"px")),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),n}},{key:"createElement",value:function(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}},{key:"_createSVG",value:function(e){(0,a.unreachable)("Abstract method `_createSVG` called.")}}]),e}()},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(120),_node_utils=__w_pdfjs_require__(121),_annotation_storage=__w_pdfjs_require__(122),_canvas=__w_pdfjs_require__(123),_worker_options=__w_pdfjs_require__(125),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(126),_metadata=__w_pdfjs_require__(127),_optional_content_config=__w_pdfjs_require__(128),_transport_stream=__w_pdfjs_require__(129),_xfa_text=__w_pdfjs_require__(130);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function asyncGeneratorStep(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){asyncGeneratorStep(a,r,i,o,s,"next",e)}function s(e){asyncGeneratorStep(a,r,i,o,s,"throw",e)}o(void 0)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"==typeof e||e instanceof URL)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==_typeof(e))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),i=null,a=null;for(var o in t){var s=t[o];switch(o){case"url":if("undefined"!=typeof window)try{r[o]=new URL(s,window.location).href;continue}catch(u){(0,_util.warn)('Cannot create valid URL: "'.concat(u,'".'))}else if("string"==typeof s||s instanceof URL){r[o]=s.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=s;continue;case"worker":a=s;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&s instanceof Buffer)r[o]=new Uint8Array(s);else{if(s instanceof Uint8Array)break;if("string"==typeof s)r[o]=(0,_util.stringToBytes)(s);else if("object"!==_typeof(s)||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[o]=new Uint8Array(s)}else r[o]=new Uint8Array(s)}continue}r[o]=s}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!a){var l={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};a=l.port?PDFWorker.fromPort(l):new PDFWorker(l),n._worker=a}var c=n.docId;return a.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(a,r,i,c),t=new Promise(function(e){var t;i?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),i=t[0],o=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(c,i,a.port);s.postMessageTransfers=a.postMessageTransfers;var l=new WorkerTransport(s,n,o,r);n._transport=l,s.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function e(t,n,r,i){var a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.destroyed){e.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(n.length=r.length,n.initialData=r.initialData,n.progressiveDone=r.progressiveDone,n.contentDispositionFilename=r.contentDispositionFilename),e.next=5,t.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.11.338",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,postMessageTransfers:t.postMessageTransfers,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(a=e.sent,!t.destroyed){e.next=8;break}throw new Error("Worker was destroyed");case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function e(){_classCallCheck(this,e),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(e.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var t;return _createClass(e,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(t=_asyncToGenerator(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.destroyed=!0,e.next=3,null===(t=this._transport)||void 0===t?void 0:t.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),e}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then(function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(e,t)}catch(a){i.e(a)}finally{i.f()}})}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then(function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(i){r.e(i)}finally{r.f()}})}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then(function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}})}return _createClass(e,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=a?new _display_utils.StatTimer:null,this._pdfBug=a,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}var t;return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,i=e.offsetX,a=void 0===i?0:i,o=e.offsetY,s=void 0===o?0:o,l=e.dontFlip,c=void 0!==l&&l;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:a,offsetY:s,dontFlip:c})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?"display":t,r=this._transport.getRenderingIntent(n),i=this._annotationPromises.get(r.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,i),i=i.then(function(e){var t,n=_createForOfIteratorHelper(e);try{var r=function(){var e=t.value;void 0!==e.titleObj&&Object.defineProperty(e,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),e.titleObj.str}}),void 0!==e.contentsObj&&Object.defineProperty(e,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),e.contentsObj.str}})};for(n.s();!(t=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return e})),i}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(t=_asyncToGenerator(_regenerator.default.mark(function e(){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null);case 1:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"render",value:function(e){var t,n,r,i=this,a=e.canvasContext,o=e.viewport,s=e.intent,l=void 0===s?"display":s,c=e.annotationMode,u=void 0===c?_util.AnnotationMode.ENABLE:c,d=e.transform,h=void 0===d?null:d,f=e.imageLayer,p=void 0===f?null:f,g=e.canvasFactory,m=void 0===g?null:g,v=e.background,y=void 0===v?null:v,b=e.optionalContentConfigPromise,_=void 0===b?null:b;void 0!==(null===(t=arguments[0])||void 0===t?void 0:t.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&u===_util.AnnotationMode.ENABLE&&(u=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var w=this._transport.getRenderingIntent(l,u);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());var A=this._intentStates.get(w.cacheKey);A||(A=Object.create(null),this._intentStates.set(w.cacheKey,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);var x=m||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),k=!!(w.renderingIntent&_util.RenderingIntentFlag.PRINT);A.displayReadyCapability||(A.displayReadyCapability=(0,_util.createPromiseCapability)(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(w));var S=function(e){A.renderTasks.delete(C),(i.cleanupAfterRender||k)&&(i.pendingCleanup=!0),i._tryCleanup(),e?(C.capability.reject(e),i._abortOperatorList({intentState:A,reason:e instanceof Error?e:new Error(e)})):C.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:S,params:{canvasContext:a,viewport:o,transform:h,imageLayer:p,background:y},objs:this.objs,commonObjs:this.commonObjs,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:x,useRequestAnimationFrame:!k,pdfBug:this._pdfBug});((r=A).renderTasks||(r.renderTasks=new Set)).add(C);var P=C.task;return Promise.all([A.displayReadyCapability.promise,_]).then(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];i.pendingCleanup?S():(i._stats&&i._stats.time("Rendering"),C.initializeGraphics({transparency:n,optionalContentConfig:r}),C.operatorListChanged())}).catch(S),P}},{key:"getOperatorList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?"display":t,r=e.annotationMode,i=void 0===r?_util.AnnotationMode.ENABLE:r;function a(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(o))}var o,s,l=this._transport.getRenderingIntent(n,i,!0),c=this._intentStates.get(l.cacheKey);return c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c)),c.opListReadCapability||((o=Object.create(null)).operatorListChanged=a,c.opListReadCapability=(0,_util.createPromiseCapability)(),((s=c).renderTasks||(s.renderTasks=new Set)).add(o),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,i=void 0!==r&&r,a=e.includeMarkedContent,o=void 0!==a&&a,s=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i,includeMarkedContent:!0===o},{highWaterMark:s,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(e){return _xfa_text.XfaText.textContent(e)});var t=this.streamTextContent(e);return new Promise(function(e,n){var r=t.getReader(),i={items:[],styles:Object.create(null)};!function t(){r.read().then(function(n){var r,a=n.value;n.done?e(i):(Object.assign(i.styles,a.styles),(r=i.items).push.apply(r,_toConsumableArray(a.items)),t())},n)}()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,t=[],n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,a=_createForOfIteratorHelper(r.renderTasks);try{for(a.s();!(i=a.n()).done;){var o=i.value;t.push(o.completed),o.cancel()}}catch(s){a.e(s)}finally{a.f()}}}}catch(s){n.e(s)}finally{n.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.renderTasks,a=r.operatorList;if(i.size>0||!a.lastChunk)return!1}}catch(o){n.e(o)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;var i,a=_createForOfIteratorHelper(t.renderTasks);try{for(a.s();!(i=a.n()).done;)i.value.operatorListChanged()}catch(o){a.e(o)}finally{a.f()}e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this,n=e.renderingIntent,r=e.cacheKey,i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:n&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),a=this._intentStates.get(r);a.streamReader=i,function e(){i.read().then(function(n){var r=n.value;n.done?a.streamReader=null:t._transport.destroyed||(t._renderPageChunk(r,a),e())},function(e){if(a.streamReader=null,!t._transport.destroyed){if(a.operatorList){a.operatorList.lastChunk=!0;var n,r=_createForOfIteratorHelper(a.renderTasks);try{for(r.s();!(n=r.n()).done;)n.value.operatorListChanged()}catch(i){r.e(i)}finally{r.f()}t._tryCleanup()}if(a.displayReadyCapability)a.displayReadyCapability.reject(e);else{if(!a.opListReadCapability)throw e;a.opListReadCapability.reject(e)}}})}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,i=e.force;if(n.streamReader){if(void 0===i||!i){if(n.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(r.message)).catch(function(){}),n.streamReader=null,!this._transport.destroyed){var a,o=_createForOfIteratorHelper(this._intentStates);try{for(o.s();!(a=o.n()).done;){var s=_slicedToArray(a.value,2);if(s[1]===n){this._intentStates.delete(s[0]);break}}}catch(l){o.e(l)}finally{o.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this,r=new WeakMap,i={data:function e(n){if("function"==typeof n||"symbol"===_typeof(n)||n instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==n?void 0:n.toString()));if("object"!==_typeof(n)||null===n)return n;if(r.has(n))return r.get(n);var i,a;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return a=null!=t&&t.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,a),a;if(n instanceof Map){a=new Map,r.set(n,a);var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var l=_slicedToArray(o.value,2);a.set(l[0],e(l[1]))}}catch(g){s.e(g)}finally{s.f()}return a}if(n instanceof Set){a=new Set,r.set(n,a);var c,u=_createForOfIteratorHelper(n);try{for(u.s();!(c=u.n()).done;)a.add(e(c.value))}catch(g){u.e(g)}finally{u.f()}return a}for(var d in a=Array.isArray(n)?[]:Object.create(null),r.set(n,a),n){for(var h,f=void 0,p=n;!(f=Object.getOwnPropertyDescriptor(p,d));)p=Object.getPrototypeOf(p);void 0!==f.value&&("function"!=typeof f.value||null!==(h=n.hasOwnProperty)&&void 0!==h&&h.call(n,d))&&(a[d]=e(f.value))}return a}(e)};this._deferred.then(function(){var e,t=_createForOfIteratorHelper(n._listeners);try{for(t.s();!(e=t.n()).done;)e.value.call(n,i)}catch(r){t.e(r)}finally{t.f()}})}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))};var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=void 0===t?null:t,r=e.port,i=void 0===r?null:r,a=e.verbosity,o=void 0===a?(0,_util.getVerbosityLevel)():a;if(_classCallCheck(this,PDFWorker),i&&PDFWorker._workerPorts.has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=o,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return PDFWorker._workerPorts.set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var t=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",a),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||i()};n.addEventListener("error",a),r.on("test",function(t){n.removeEventListener("error",a),e.destroyed?i():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())}),r.on("ready",function(t){if(n.removeEventListener("error",a),e.destroyed)i();else try{o()}catch(r){e._setupFakeWorker()}});var o=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void o()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(i,n);var a=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=a,e._readyCapability.resolve(),a.send("configure",{verbosity:e.verbosity})}}).catch(function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(e){if(null==e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(e.port)?this._workerPorts.get(e.port):new PDFWorker(e)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this10=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=_this10._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_this10.workerSrc),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_this10.workerSrc);case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}},_callee3)}));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var WorkerTransport=function(){function e(t,n,r,i){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var t;return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"getRenderingIntent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_util.RenderingIntentFlag.DISPLAY,i="";switch(e){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(e))}switch(t){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(t))}return n&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(i)}}},{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t,n=[],r=_createForOfIteratorHelper(this.pageCache);try{for(r.s();!(t=r.n()).done;){var i=t.value;i&&n.push(i._destroy())}}catch(o){r.e(o)}finally{r.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var a=this.messageHandler.sendWithPromise("Terminate",null);return n.push(a),Promise.all(n).then(function(){e.commonObjs.clear(),e.fontLoader.clear(),e._getFieldObjectsPromise=null,e._hasJSActionsPromise=null,e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(t){e._fullReader.cancel(t),n.ready.catch(function(t){if(!e.destroyed)throw t})}}),t.on("ReaderHeadersReady",function(t){var r=(0,_util.createPromiseCapability)(),i=e._fullReader;return i.headersReady.then(function(){i.isStreamingSupported&&i.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),i.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},r.reject),r.promise}),t.on("GetRangeReader",function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then(function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))}).catch(function(e){n.error(e)})},n.onCancel=function(t){r.cancel(t),n.ready.catch(function(t){if(!e.destroyed)throw t})}):n.close()}),t.on("GetDoc",function(t){var r=t.pdfInfo;e._numPages=r.numPages,e._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,e))}),t.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(t)}),t.on("PasswordRequest",function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword(function(t){e._passwordCapability.resolve({password:t})},t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise}),t.on("DataLoaded",function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)}),t.on("StartRenderPage",function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.cacheKey)}),t.on("commonobj",function(n){var r;if(!e.destroyed){var i=_slicedToArray(n,3),a=i[0],o=i[1],s=i[2];if(!e.commonObjs.has(a))switch(o){case"Font":var l=e._params;if("error"in s){var c=s.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(a,c);break}var u=null;l.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(u={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var d=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:u});e.fontLoader.bind(d).catch(function(e){return t.sendWithPromise("FontFallback",{id:a})}).finally(function(){!l.fontExtraProperties&&d.data&&(d.data=null),e.commonObjs.resolve(a,d)});break;case"FontPath":case"Image":e.commonObjs.resolve(a,s);break;default:throw new Error("Got unknown common object type ".concat(o))}}}),t.on("obj",function(t){var n;if(!e.destroyed){var r=_slicedToArray(t,4),i=r[0],a=r[2],o=r[3],s=e.pageCache[r[1]];if(!s.objs.has(i))switch(a){case"Image":s.objs.resolve(i,o),(null==o||null===(n=o.data)||void 0===n?void 0:n.length)>8e6&&(s.cleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(i,o);break;default:throw new Error("Got unknown object type ".concat(a))}}}),t.on("DocProgress",function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.CMapReaderFactory?e.CMapReaderFactory.fetch(t):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),t.on("FetchStandardFontData",function(t){return e.destroyed?Promise.reject(new Error("Worker was destroyed.")):e.StandardFontDataFactory?e.StandardFontDataFactory.fetch(t):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(e){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(e.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.ownerDocument,t._params.pdfBug);return t.pageCache[n]=r,r});return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e})}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(){var e,t,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null}).finally(function(){n.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}},{key:"getStructTree",value:function(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new _optional_content_config.OptionalContentConfig(e)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(t){var n,r,i,a;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!==(n=null===(r=e._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(a=e._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(t=_asyncToGenerator(_regenerator.default.mark(function e(){var t,n,r,i,a=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]&&a[0],e.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){e.next=5;break}return e.abrupt("return");case 5:n=0,r=this.pageCache.length;case 6:if(!(n<r)){e.next=16;break}if(i=this.pageCache[n]){e.next=10;break}return e.abrupt("continue",13);case 10:if(i.cleanup()){e.next=13;break}throw new Error("startCleanup: Page ".concat(n+1," is currently rendering."));case 13:n++,e.next=6;break;case 16:this.commonObjs.clear(),t||this.fontLoader.clear(),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 20:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return(null==t?void 0:t.resolved)||!1}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function e(t){var n=t.callback,r=t.params,i=t.objs,a=t.commonObjs,o=t.operatorList,s=t.pageIndex,l=t.canvasFactory,c=t.useRequestAnimationFrame,u=void 0!==c&&c,d=t.pdfBug,h=void 0!==d&&d;_classCallCheck(this,e),this.callback=n,this.params=r,this.objs=i,this.commonObjs=a,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=s,this.canvasFactory=l,this._pdfBug=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var t;return _createClass(e,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(t){var n,r=t.transparency,i=void 0!==r&&r,a=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(e.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,s=o.viewport,l=o.transform,c=o.background;this.gfx=new _canvas.CanvasGraphics(o.canvasContext,this.commonObjs,this.objs,this.canvasFactory,o.imageLayer,a),this.gfx.beginDrawing({transform:l,viewport:s,transparency:i,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){e._nextBound().catch(e._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(t=_asyncToGenerator(_regenerator.default.mark(function t(){return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),e}(),version="2.11.338";exports.version=version;var build="dedff3c98";exports.build=build},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i,a=(i=n(2))&&i.__esModule?i:{default:i},o=n(4);function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}var m,v=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature,i=t.ownerDocument,a=void 0===i?globalThis.document:i;f(this,e),this.constructor===e&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=a,this.nativeFontFaces=[],this.styleElement=null}var t,n;return g(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){var e,t=d(this.nativeFontFaces);try{for(t.s();!(e=t.n()).done;)this._document.fonts.delete(e.value)}catch(n){t.e(n)}finally{t.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(t=a.default.mark(function e(t){var n,r,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise(function(e){var n=i._queueLoadingCallback(e);i._prepareFontLoadEvent([r],[t],n)});case 26:case"end":return e.stop()}},e,this,[[7,12]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(e){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e,t=!(null===(e=this._document)||void 0===e||!e.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}();t.FontLoader=m,t.FontLoader=m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=c(t);if(n){var i=c(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return l(this,e)});function i(e){var t;return f(this,i),(t=r.call(this,e)).loadingContext={requests:[],nextRequestId:0},t.loadTestFontId=0,t}return g(i,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"==typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==t?void 0:t[1])>=14&&(e=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,o.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,o.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,n){var r,i,a=this;function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function l(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var c=this._document.createElement("canvas");c.width=1,c.height=1;var u=c.getContext("2d"),h=0,f="lt".concat(Date.now()).concat(this.loadTestFontId++),p=this._loadTestFont,g=1482184792,m=s(p=l(p,976,f.length,f),16);for(r=0,i=f.length-3;r<i;r+=4)m=m-g+s(f,r)|0;r<f.length&&(m=m-g+s(f+"XXX",r)|0),p=l(p,16,4,(0,o.string32)(m));var v="url(data:font/opentype;base64,".concat(btoa(p),");"),y='@font-face {font-family:"'.concat(f,'";src:').concat(v,"}");this.insertRule(y);var b,_=[],w=d(t);try{for(w.s();!(b=w.n()).done;)_.push(b.value.loadedName)}catch(P){w.e(P)}finally{w.f()}_.push(f);var A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(var x=0,k=_;x<k.length;x++){var S=k[x],C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,A.appendChild(C)}this._document.body.appendChild(A),function e(t,n){if(++h>30)return(0,o.warn)("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(f,function(){a._document.body.removeChild(A),n.complete()})}}]),i}(v),t.FontFaceObject=function(){function e(t,n){var r=n.isEvalSupported,i=void 0===r||r,a=n.disableFontFace,o=void 0!==a&&a,s=n.ignoreErrors,l=void 0!==s&&s,c=n.onUnsupportedFeature,u=n.fontRegistry,d=void 0===u?null:u;for(var h in f(this,e),this.compiledGlyphs=Object.create(null),t)this[h]=t[h];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._onUnsupportedFeature=c,this.fontRegistry=d}return g(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e;if(this.cssFontInfo){var t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e,t=(0,o.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");if(this.cssFontInfo){var r="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(r+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(r,"src:").concat(n,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,n),e}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n;try{n=e.get(this.loadedName+"_path_"+t)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)('getPathGenerator - ignoring character: "'.concat(c,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){var r,i=[],a=d(n);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=void 0!==s.args?s.args.join(","):"";i.push("c.",s.cmd,"(",l,");\n")}}catch(u){a.e(u)}finally{a.f()}return this.compiledGlyphs[t]=new Function("c","size",i.join(""))}return this.compiledGlyphs[t]=function(e,t){var r,i=d(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;"scale"===a.cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}catch(u){i.e(u)}finally{i.f()}}}}]),e}()},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var i=n(118),a=n(6),o=n(4);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=function e(){p(this,e),(0,o.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=g;var m=function e(){p(this,e),(0,o.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=m;var v=function e(){p(this,e),(0,o.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(t.NodeStandardFontDataFactory=v,a.isNodeJS){var y=function(e){return new Promise(function(t,n){__webpack_require__(2767).readFile(e,function(e,r){!e&&r?t(new Uint8Array(r)):n(new Error(e))})})};t.NodeCanvasFactory=g=function(e){c(n,e);var t=d(n);function n(){return p(this,n),t.apply(this,arguments)}return l(n,[{key:"_createCanvas",value:function(e,t){return __webpack_require__(4601).createCanvas(e,t)}}]),n}(i.BaseCanvasFactory),t.NodeCMapReaderFactory=m=function(e){c(n,e);var t=d(n);function n(){return p(this,n),t.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(e,t){return y(e).then(function(e){return{cMapData:e,compressionType:t}})}}]),n}(i.BaseCMapReaderFactory),t.NodeStandardFontDataFactory=v=function(e){c(n,e);var t=d(n);function n(){return p(this,n),t.apply(this,arguments)}return l(n,[{key:"_fetchData",value:function(e){return y(e)}}]),n}(i.BaseStandardFontDataFactory)}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var r=n(4);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.AnnotationStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}var t;return(t=[{key:"getValue",value:function(e,t){var n=this._storage.get(e);return void 0===n?t:Object.assign(t,n)}},{key:"setValue",value:function(e,t){var n,r=this._storage.get(e),a=!1;if(void 0!==r)for(var o=0,s=Object.entries(t);o<s.length;o++){var l=(2,function(e){if(Array.isArray(e))return e}(n=s[o])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1];r[c]!==u&&(a=!0,r[c]=u)}else a=!0,this._storage.set(e,t);a&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(4),i=n(124),a=n(1);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=4096,g=16;function m(e){if(!e.mozCurrentTransform){e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._originalResetTransform=e.resetTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[];try{var t=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"lineWidth");e._setLineWidth=t.set,e._getLineWidth=t.get,Object.defineProperty(e,"lineWidth",{set:function(e){this._setLineWidth(1.000001*e)},get:function(){return this._getLineWidth()}})}catch(n){}Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=d(this._transformMatrix,6),t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=t*i-n*r,l=n*r-t*i;return[i/s,n/l,r/l,t/s,(i*a-r*o)/l,(n*a-t*o)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]*=e,n[1]*=e,n[2]*=t,n[3]*=t,this._originalScale(e,t)},e.transform=function(t,n,r,i,a,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*i,s[1]*r+s[3]*i,s[0]*a+s[2]*o+s[4],s[1]*a+s[3]*o+s[5]],e._originalTransform(t,n,r,i,a,o)},e.setTransform=function(t,n,r,i,a,o){this._transformMatrix=[t,n,r,i,a,o],e._originalSetTransform(t,n,r,i,a,o)},e.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],e._originalResetTransform()},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)}}}var v=function(){function e(t){l(this,e),this.canvasFactory=t,this.cache=Object.create(null)}return u(e,[{key:"getCanvas",value:function(e,t,n,r){var i;return void 0!==this.cache[e]?(this.canvasFactory.reset(i=this.cache[e],t,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),r&&m(i.context),i}},{key:"clear",value:function(){for(var e in this.cache)this.canvasFactory.destroy(this.cache[e]),delete this.cache[e]}}]),e}(),y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l(this,e),this._cache=new Map,this._maxSize=t}return u(e,[{key:"has",value:function(e){return this._cache.has(e)}},{key:"get",value:function(e){if(this._cache.has(e)){var t=this._cache.get(e);this._cache.delete(e),this._cache.set(e,t)}return this._cache.get(e)}},{key:"set",value:function(e,t){this._maxSize<=0||(this._cache.size+1>this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(e,t))}},{key:"clear",value:function(){this._cache.clear()}}]),e}(),b=function(){function e(){l(this,e),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return u(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}();function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var i,a,o,s,l,c,u,d,h,f=t.height,p=t.width,m=f%g,v=(f-m)/g,y=0===m?v:v+1,b=e.createImageData(p,g),_=0,w=t.data,A=b.data;if(n)switch(n.length){case 1:c=n[0],u=n[0],d=n[0],h=n[0];break;case 4:c=n[0],u=n[1],d=n[2],h=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var x=w.byteLength,k=new Uint32Array(A.buffer,0,A.byteLength>>2),S=k.length,C=p+7>>3,P=4294967295,T=r.IsLittleEndianCached.value?4278190080:255;if(h&&255===h[0]&&0===h[255]){var O=[T,P];P=O[0],T=O[1]}for(a=0;a<y;a++){for(s=a<v?g:m,i=0,o=0;o<s;o++){for(var M=x-_,E=0,R=M>C?p:8*M-7,D=-8&R,I=0,L=0;E<D;E+=8)L=w[_++],k[i++]=128&L?P:T,k[i++]=64&L?P:T,k[i++]=32&L?P:T,k[i++]=16&L?P:T,k[i++]=8&L?P:T,k[i++]=4&L?P:T,k[i++]=2&L?P:T,k[i++]=1&L?P:T;for(;E<R;E++)0===I&&(L=w[_++],I=128),k[i++]=L&I?P:T,I>>=1}for(;i<S;)k[i++]=0;e.putImageData(b,0,a*g)}}else if(t.kind===r.ImageKind.RGBA_32BPP){var F=!!(c||u||d);for(o=0,l=p*g*4,a=0;a<v;a++){if(A.set(w.subarray(_,_+l)),_+=l,F)for(var N=0;N<l;N+=4)c&&(A[N+0]=c[A[N+0]]),u&&(A[N+1]=u[A[N+1]]),d&&(A[N+2]=d[A[N+2]]);e.putImageData(b,0,o),o+=g}if(a<y){if(A.set(w.subarray(_,_+(l=p*m*4))),F)for(var j=0;j<l;j+=4)c&&(A[j+0]=c[A[j+0]]),u&&(A[j+1]=u[A[j+1]]),d&&(A[j+2]=d[A[j+2]]);e.putImageData(b,0,o)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var Z=!!(c||u||d);for(l=p*(s=g),a=0;a<y;a++){for(a>=v&&(l=p*(s=m)),i=0,o=l;o--;)A[i++]=w[_++],A[i++]=w[_++],A[i++]=w[_++],A[i++]=255;if(Z)for(var q=0;q<i;q+=4)c&&(A[q+0]=c[A[q+0]]),u&&(A[q+1]=u[A[q+1]]),d&&(A[q+2]=d[A[q+2]]);e.putImageData(b,0,a*g)}}}}function w(e,t){for(var n=t.height,r=t.width,i=n%g,a=(n-i)/g,o=0===i?a:a+1,s=e.createImageData(r,g),l=0,c=t.data,u=s.data,d=0;d<o;d++){for(var h=d<a?g:i,f=3,p=0;p<h;p++)for(var m=void 0,v=0,y=0;y<r;y++)v||(m=c[l++],v=128),u[f]=m&v?0:255,f+=4,v>>=1;e.putImageData(s,0,d*g)}}function A(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var a=n[r];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function x(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function k(e,t,n,r){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=n,e[a-1]=r;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+n*s>>8,e[a-1]=e[a-1]*o+r*s>>8}}}function S(e,t,n){for(var r=e.length,i=3;i<r;i+=4)t[i]=t[i]*(n?n[e[i]]:e[i])*.00392156862745098|0}function C(e,t,n){for(var r=e.length,i=3;i<r;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=n?t[i]*n[a>>8]>>8:t[i]*a>>16}}function P(e,t,n){var r=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY),function(e,t,n,r,i,a,o){var s,l=!!a,c=l?a[0]:0,u=l?a[1]:0,d=l?a[2]:0;s="Luminosity"===i?C:S;for(var h=Math.min(r,Math.ceil(1048576/n)),f=0;f<r;f+=h){var p=Math.min(h,r-f),g=e.getImageData(0,f,n,p),m=t.getImageData(0,f,n,p);l&&k(g.data,c,u,d),s(g.data,m.data,o),e.putImageData(m,0,f)}}(i,n,r.width,r.height,t.subtype,t.backdrop,t.transferMap),e.drawImage(r,0,0)}function T(e,t){var n=r.Util.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var i=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==t?t:n[0]<=i||n[1]<=i}var O=["butt","round","square"],M=["miter","round","bevel"],E={},R={},D=function(){function e(t,n,r,i,a,o){l(this,e),this.ctx=t,this.current=new b,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=o,this.cachedCanvases=new v(this.canvasFactory),this.cachedCanvasPatterns=new y(2),this.cachedPatterns=new Map,t&&m(t),this._cachedGetSinglePixelWidth=null}return u(e,[{key:"beginDrawing",value:function(e){var t=e.transform,n=e.viewport,r=e.transparency,i=void 0!==r&&r,a=e.background,o=void 0===a?null:a,s=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,l),this.ctx.restore(),i){var c=this.cachedCanvases.getCanvas("transparent",s,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),x(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(e,t,n,i){var a=e.argsArray,o=e.fnArray,l=t||0,c=a.length;if(c===l)return l;for(var u,d=c-l>10&&"function"==typeof n,h=d?Date.now()+15:0,f=0,p=this.commonObjs,g=this.objs;;){if(void 0!==i&&l===i.nextBreakPoint)return i.breakIt(l,n),l;if((u=o[l])!==r.OPS.dependency)this[u].apply(this,a[l]);else{var m,v=s(a[l]);try{for(v.s();!(m=v.n()).done;){var y=m.value,b=y.startsWith("g_")?p:g;if(!b.has(y))return b.get(y,n),l}}catch(_){v.e(_)}finally{v.f()}}if(++l===c)return l;if(d&&++f>10){if(Date.now()>h)return n(),l;f=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedCanvasPatterns.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(e,t){for(var n,r,i=e.width,a=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=a,u="prescale1";o>2&&l>1||s>2&&c>1;){var d=l,h=c;o>2&&l>1&&(o/=l/(d=Math.ceil(l/2))),s>2&&c>1&&(s/=c/(h=Math.ceil(c/2))),(r=(n=this.cachedCanvases.getCanvas(u,d,h)).context).clearRect(0,0,d,h),r.drawImage(e,0,0,l,c,0,0,d,h),e=n.canvas,l=d,c=h,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}},{key:"_createMaskCanvas",value:function(e){var t=this.ctx,n=e.width,i=e.height,a=this.current.fillColor,o=this.current.patternFill,s=this.cachedCanvases.getCanvas("maskCanvas",n,i);w(s.context,e);var l=r.Util.transform(t.mozCurrentTransform,[1/n,0,0,-1/i,0,0]);l=r.Util.transform(l,[1,0,0,1,0,-i]);var c=r.Util.applyTransform([0,0],l),u=r.Util.applyTransform([n,i],l),d=r.Util.normalizeRect([c[0],c[1],u[0],u[1]]),h=Math.ceil(d[2]-d[0]),f=Math.ceil(d[3]-d[1]),p=this.cachedCanvases.getCanvas("fillCanvas",h,f,!0),g=p.context,m=Math.min(c[0],u[0]),v=Math.min(c[1],u[1]);g.translate(-m,-v),g.transform.apply(g,l);var y=this._scaleImage(s.canvas,g.mozCurrentTransformInverse);g.imageSmoothingEnabled=T(g.mozCurrentTransform,e.interpolate),g.drawImage(y.img,0,0,y.img.width,y.img.height,0,0,n,i),g.globalCompositeOperation="source-in";var b=r.Util.transform(g.mozCurrentTransformInverse,[1,0,0,1,-m,-v]);return g.fillStyle=o?a.getPattern(t,this,b,!1):a,g.fillRect(0,0,n,i),{canvas:p.canvas,offsetX:Math.round(m),offsetY:Math.round(v)}}},{key:"setLineWidth",value:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e}},{key:"setLineCap",value:function(e){this.ctx.lineCap=O[e]}},{key:"setLineJoin",value:function(e){this.ctx.lineJoin=M[e]}},{key:"setMiterLimit",value:function(e){this.ctx.miterLimit=e}},{key:"setDash",value:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r[1];switch(r[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}}},{key:"beginSMaskGroup",value:function(){var e=this.current.activeSMask,t=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,e.canvas.width,e.canvas.height,!0),n=this.ctx,r=n.mozCurrentTransform;this.ctx.save();var i=t.context;i.scale(1/e.scaleX,1/e.scaleY),i.translate(-e.offsetX,-e.offsetY),i.transform.apply(i,r),e.startTransformInverse=i.mozCurrentTransformInverse,A(n,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),P(this.ctx,this.current.activeSMask,e),this.ctx.restore(),this.ctx.save(),A(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()}},{key:"resumeSMaskGroup",value:function(){var e=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(e),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),P(this.ctx,this.current.activeSMask,e),this.ctx.restore(),A(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)}},{key:"save",value:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(e,t,n,r,i,a){this.ctx.transform(e,t,n,r,i,a),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(e,t){for(var n=this.ctx,i=this.current,a=i.x,o=i.y,s=0,l=0,c=e.length;s<c;s++)switch(0|e[s]){case r.OPS.rectangle:a=t[l++],o=t[l++];var u=t[l++],d=t[l++],h=a+u,f=o+d;n.moveTo(a,o),0===u||0===d?n.lineTo(h,f):(n.lineTo(h,o),n.lineTo(h,f),n.lineTo(a,f)),n.closePath();break;case r.OPS.moveTo:a=t[l++],o=t[l++],n.moveTo(a,o);break;case r.OPS.lineTo:a=t[l++],o=t[l++],n.lineTo(a,o);break;case r.OPS.curveTo:n.bezierCurveTo(t[l],t[l+1],t[l+2],t[l+3],a=t[l+4],o=t[l+5]),l+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(a,o,t[l],t[l+1],t[l+2],t[l+3]),a=t[l+2],o=t[l+3],l+=4;break;case r.OPS.curveTo3:n.bezierCurveTo(t[l],t[l+1],a=t[l+2],o=t[l+3],a,o),l+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(a,o)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===o(n)&&null!=n&&n.getPattern){var r=this.getSinglePixelWidth();t.save(),t.strokeStyle=n.getPattern(t,this,t.mozCurrentTransformInverse),t.lineWidth=Math.max(r,this.current.lineWidth),t.stroke(),t.restore()}else{var i=this.getSinglePixelWidth();i<0&&-i>=this.current.lineWidth?(t.save(),t.resetTransform(),t.lineWidth=Math.round(this._combinedScaleFactor),t.stroke(),t.restore()):(t.lineWidth=Math.max(i,this.current.lineWidth),t.stroke())}e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(e){e=void 0===e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,t.mozCurrentTransformInverse),r=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=E}},{key:"eoClip",value:function(){this.pendingClip=R}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setFont",value:function(e,t){var n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal",s='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font="".concat(o," ").concat(a," ").concat(l,"px ").concat(s)}}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"moveText",value:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){this.current.textMatrix=[e,t,n,r,i,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(e,t,n,i,a){var o,s=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,h=u&r.TextRenderingMode.FILL_STROKE_MASK,f=!!(u&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=l.patternFill&&!c.missingFile;(c.disableFontFace||f||p)&&(o=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||p?(s.save(),s.translate(t,n),s.beginPath(),o(s,d),i&&s.setTransform.apply(s,i),h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fill(),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(a&&(s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor)),s.stroke()),s.restore()):(h!==r.TextRenderingMode.FILL&&h!==r.TextRenderingMode.FILL_STROKE||s.fillText(e,t,n),h!==r.TextRenderingMode.STROKE&&h!==r.TextRenderingMode.FILL_STROKE||(a?(s.save(),s.moveTo(t,n),s.resetTransform(),s.lineWidth=Math.round(this._combinedScaleFactor),s.strokeText(e,0,0),s.restore()):s.strokeText(e,t,n))),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:s.mozCurrentTransform,x:t,y:n,fontSize:d,addToPath:o})}},{key:"isFontSubpixelAAEnabled",get:function(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var i=t.fontSize;if(0!==i){var a,o=this.ctx,s=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*t.fontMatrix[0],v=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(o.save(),t.patternFill){o.save();var y=t.fillColor.getPattern(o,this,o.mozCurrentTransformInverse);a=o.mozCurrentTransform,o.restore(),o.fillStyle=y}o.transform.apply(o,t.textMatrix),o.translate(t.x,t.y+t.textRise),o.scale(d,u>0?-1:1);var b=t.lineWidth,_=!1,w=t.textMatrixScale;if(0===w||0===b){var A=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;A!==r.TextRenderingMode.STROKE&&A!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,_=(b=this.getSinglePixelWidth())<0)}else b/=w;1!==s&&(o.scale(s,s),b/=s),o.lineWidth=b;var x,k=0;for(x=0;x<h;++x){var S=e[x];if((0,r.isNum)(S))k+=p*S*i/1e3;else{var C=!1,P=(S.isSpace?c:0)+l,T=S.fontChar,O=S.accent,M=void 0,E=void 0,R=S.width;if(f){var D=S.vmetric||g,I=-(S.vmetric?D[1]:.5*R)*m;R=D?-D[0]:R,M=I/s,E=(k+D[2]*m)/s}else M=k/s,E=0;if(n.remeasure&&R>0){var L=1e3*o.measureText(T).width/i*s;if(R<L&&this.isFontSubpixelAAEnabled){var F=R/L;C=!0,o.save(),o.scale(F,1),M/=F}else R!==L&&(M+=(R-L)/2e3*i/s)}this.contentVisible&&(S.isInFont||n.missingFile)&&(v&&!O?o.fillText(T,M,E):(this.paintChar(T,M,E,a,_),O&&this.paintChar(O.fontChar,M+i*O.offset.x/s,E-i*O.offset.y/s,a,_))),k+=f?R*m-P*u:R*m+P*u,C&&o.restore()}}f?t.y-=k:t.x+=k*d,o.restore()}}},{key:"showType3Text",value:function(e){var t,n,i,a,o=this.ctx,s=this.current,l=s.font,c=s.fontSize,u=s.fontDirection,d=l.vertical?1:-1,h=s.charSpacing,f=s.wordSpacing,p=s.textHScale*u,g=s.fontMatrix||r.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==c){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,s.textMatrix),o.translate(s.x,s.y),o.scale(p,u),t=0;t<m;++t)if((0,r.isNum)(n=e[t]))this.ctx.translate(a=d*n*c/1e3,0),s.x+=a*p;else{var v=(n.isSpace?f:0)+h,y=l.charProcOperatorList[n.operatorListId];if(y){this.contentVisible&&(this.processingType3=n,this.save(),o.scale(c,c),o.transform.apply(o,g),this.executeOperatorList(y),this.restore());var b=r.Util.applyTransform([n.width,0],g);o.translate(i=b[0]*c+v,0),s.x+=i*p}else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}o.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(e,t){}},{key:"setCharWidthAndBounds",value:function(e,t,n,r,i,a){this.ctx.rect(n,r,i-n,a-r),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(t){var n,r=this;if("TilingPattern"===t[0]){var a=t[1],o=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new i.TilingPattern(t,a,this.ctx,{createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory)}},o)}else n=this._getPattern(t[1],t[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}},{key:"setFillRGBColor",value:function(e,t,n){var i=r.Util.makeHexColor(e,t,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}},{key:"_getPattern",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=(0,i.getShadingPattern)(this.objs.get(e),this.cachedCanvasPatterns),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}},{key:"shadingFill",value:function(e){if(this.contentVisible){var t=this.ctx;this.save();var n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,t.mozCurrentTransformInverse,!0);var i=t.mozCurrentTransformInverse;if(i){var a=t.canvas,o=a.width,s=a.height,l=r.Util.applyTransform([0,0],i),c=r.Util.applyTransform([0,s],i),u=r.Util.applyTransform([o,0],i),d=r.Util.applyTransform([o,s],i),h=Math.min(l[0],c[0],u[0],d[0]),f=Math.min(l[1],c[1],u[1],d[1]),p=Math.max(l[0],c[0],u[0],d[0]),g=Math.max(l[1],c[1],u[1],d[1]);this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()))}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform);i=r.Util.intersect(i,[0,0,t.canvas.width,t.canvas.height])||[0,0,0,0];var a=Math.floor(i[0]),o=Math.floor(i[1]),s=Math.max(Math.ceil(i[2])-a,1),l=Math.max(Math.ceil(i[3])-o,1),c=1,u=1;s>p&&(c=s/p,s=p),l>p&&(u=l/p,l=p);var d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);var h=this.cachedCanvases.getCanvas(d,s,l,!0),f=h.context;f.scale(1/c,1/u),f.translate(-a,-o),f.transform.apply(f,n),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,scaleX:c,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.scale(c,u)),A(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(e,t,n,r){this.save(),x(this.ctx),this.current=new b,Array.isArray(t)&&4===t.length&&(this.ctx.rect(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.clip(),this.endPath()),this.transform.apply(this,n),this.transform.apply(this,r)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(e){if(this.contentVisible){var t=this.ctx,n=e.width,r=e.height,i=this.processingType3;if(i&&void 0===i.compiled&&(i.compiled=n<=1e3&&r<=1e3?function(e){var t,n,r,i,a=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e.width,s=e.height,l=o+1,c=new Uint8Array(l*(s+1)),u=o+7&-8,d=e.data,h=new Uint8Array(u*s),f=0;for(t=0,n=d.length;t<n;t++)for(var p=d[t],g=128;g>0;)h[f++]=p&g?0:255,g>>=1;var m=0;for(0!==h[f=0]&&(c[0]=1,++m),r=1;r<o;r++)h[f]!==h[f+1]&&(c[r]=h[f]?2:1,++m),f++;for(0!==h[f]&&(c[r]=2,++m),t=1;t<s;t++){i=t*l,h[(f=t*u)-u]!==h[f]&&(c[i]=h[f]?1:8,++m);var v=(h[f]?4:0)+(h[f-u]?8:0);for(r=1;r<o;r++)a[v=(v>>2)+(h[f+1]?4:0)+(h[f-u+1]?8:0)]&&(c[i+r]=a[v],++m),f++;if(h[f-u]!==h[f]&&(c[i+r]=h[f]?2:4,++m),m>1e3)return null}for(i=t*l,0!==h[f=u*(s-1)]&&(c[i]=8,++m),r=1;r<o;r++)h[f]!==h[f+1]&&(c[i+r]=h[f]?4:8,++m),f++;if(0!==h[f]&&(c[i+r]=4,++m),m>1e3)return null;var y=new Int32Array([0,l,-1,0,-l,0,0,0,1]),b=[];for(t=0;m&&t<=s;t++){for(var _=t*l,w=_+o;_<w&&!c[_];)_++;if(_!==w){var A=[_%l,t],x=_,k=c[_];do{var S=y[k];do{_+=S}while(!c[_]);var C=c[_];5!==C&&10!==C?(k=C,c[_]=0):c[_]&=(k=C&51*k>>4)>>2|k<<2,A.push(_%l,_/l|0),c[_]||--m}while(x!==_);b.push(A),--t}}return function(e){e.save(),e.scale(1/o,-1/s),e.translate(0,-s),e.beginPath();for(var t=0,n=b.length;t<n;t++){var r=b[t];e.moveTo(r[0],r[1]);for(var i=2,a=r.length;i<a;i+=2)e.lineTo(r[i],r[i+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:n,height:r}):null),null!=i&&i.compiled)i.compiled(t);else{var a=this._createMaskCanvas(e),o=a.canvas;t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(o,a.offsetX,a.offsetY),t.restore()}}}},{key:"paintImageMaskXObjectRepeat",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=this.ctx;s.save();var l=s.mozCurrentTransform;s.transform(t,n,i,a,0,0);var c=this._createMaskCanvas(e);s.setTransform(1,0,0,1,0,0);for(var u=0,h=o.length;u<h;u+=2){var f=r.Util.transform(l,[t,n,i,a,o[u],o[u+1]]),p=r.Util.applyTransform([0,0],f),g=d(p,2),m=g[0],v=g[1];s.drawImage(c.canvas,m,v)}s.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(e){if(this.contentVisible)for(var t=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=0,a=e.length;i<a;i++){var o=e[i],s=o.width,l=o.height,c=this.cachedCanvases.getCanvas("maskCanvas",s,l),u=c.context;u.save(),w(u,o),u.globalCompositeOperation="source-in",u.fillStyle=r?n.getPattern(u,this,t.mozCurrentTransformInverse,!1):n,u.fillRect(0,0,s,l),u.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(c.canvas,0,0,s,l,0,-1,1,1),t.restore()}}},{key:"paintImageXObject",value:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(e,t,n,i){if(this.contentVisible){var a=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(a){for(var o=a.width,s=a.height,l=[],c=0,u=i.length;c<u;c+=2)l.push({transform:[t,0,0,n,i[c],i[c+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(a,l)}else(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(e){if(this.contentVisible){var t,n=e.width,r=e.height,i=this.ctx;if(this.save(),i.scale(1/n,-1/r),"function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)t=e;else{var a=this.cachedCanvases.getCanvas("inlineImage",n,r);_(a.context,e,this.current.transferMaps),t=a.canvas}var o=this._scaleImage(t,i.mozCurrentTransformInverse);if(i.imageSmoothingEnabled=T(i.mozCurrentTransform,e.interpolate),i.drawImage(o.img,0,0,o.paintWidth,o.paintHeight,0,-r,n,r),this.imageLayer){var s=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:s[0],top:s[1],width:n/i.mozCurrentTransformInverse[0],height:r/i.mozCurrentTransformInverse[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(e,t){if(this.contentVisible){var n=this.ctx,r=e.width,i=e.height,a=this.cachedCanvases.getCanvas("inlineImage",r,i);_(a.context,e,this.current.transferMaps);for(var o=0,s=t.length;o<s;o++){var l=t[o];if(n.save(),n.transform.apply(n,l.transform),n.scale(1,-1),n.drawImage(a.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:c[0],top:c[1],width:r,height:i})}n.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(e){}},{key:"markPointProps",value:function(e,t){}},{key:"beginMarkedContent",value:function(e){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(e,t){this.markedContentStack.push("OC"===e?{visible:this.optionalContentConfig.isVisible(t)}:{visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===R?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var e=this.ctx.mozCurrentTransform,t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.pow(e[0],2)+Math.pow(e[2],2),r=Math.pow(e[1],2)+Math.pow(e[3],2),i=Math.sqrt(Math.max(n,r))/t;this._cachedGetSinglePixelWidth=n!==r&&this._combinedScaleFactor*i>1?-this._combinedScaleFactor*i:t>Number.EPSILON?i:1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]}},{key:"isContentVisible",value:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}]),e}();for(var I in t.CanvasGraphics=D,r.OPS)void 0!==D.prototype[I]&&(D.prototype[r.OPS[I]]=D.prototype[I])},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPattern=function(e,t){switch(e[0]){case"RadialAxial":return new v(e,t);case"Mesh":return new _(e);case"Dummy":return new w}throw new Error("Unknown IR type: ".concat(e[0]))},t.TilingPattern=void 0;var i=n(4);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function g(e,t){if(t&&"undefined"!=typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}}var m=function(){function e(){h(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}return p(e,[{key:"getPattern",value:function(){(0,i.unreachable)("Abstract method `getPattern` called.")}}]),e}(),v=function(e){s(n,e);var t=c(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._type=e[1],i._bbox=e[2],i._colorStops=e[3],i._p0=e[4],i._p1=e[5],i._r0=e[6],i._r1=e[7],i.matrix=null,i.cachedCanvasPatterns=r,i}return p(n,[{key:"_createGradient",value:function(e){var t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=a(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.addColorStop(i[0],i[1])}}catch(o){r.e(o)}finally{r.f()}return t}},{key:"getPattern",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(a)g(e,this._bbox),r=this._createGradient(e);else if(this.cachedCanvasPatterns.has(this))r=this.cachedCanvasPatterns.get(this);else{var o=t.cachedCanvases.getCanvas("pattern",t.ctx.canvas.width,t.ctx.canvas.height,!0),s=o.context;s.clearRect(0,0,s.canvas.width,s.canvas.height),s.beginPath(),s.rect(0,0,s.canvas.width,s.canvas.height),s.setTransform.apply(s,t.baseTransform),this.matrix&&s.transform.apply(s,this.matrix),g(s,this._bbox),s.fillStyle=this._createGradient(s),s.fill(),r=e.createPattern(o.canvas,"repeat"),this.cachedCanvasPatterns.set(this,r)}if(!a){var l=new DOMMatrix(n);try{r.setTransform(l)}catch(c){(0,i.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==c?void 0:c.message,'".'))}}return r}}]),n}(m);function y(e,t,n,r,i,a,o,s){var l,c=t.coords,u=t.colors,d=e.data,h=4*e.width;c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=a,a=o,o=l),c[r+1]>c[i+1]&&(l=r,r=i,i=l,l=o,o=s,s=l),c[n+1]>c[r+1]&&(l=n,n=r,r=l,l=a,a=o,o=l);var f=(c[n]+t.offsetX)*t.scaleX,p=(c[n+1]+t.offsetY)*t.scaleY,g=(c[r]+t.offsetX)*t.scaleX,m=(c[r+1]+t.offsetY)*t.scaleY,v=(c[i]+t.offsetX)*t.scaleX,y=(c[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b,_,w,A,x,k,S,C,P=u[a],T=u[a+1],O=u[a+2],M=u[o],E=u[o+1],R=u[o+2],D=u[s],I=u[s+1],L=u[s+2],F=Math.round(p),N=Math.round(y),j=F;j<=N;j++){var Z,q;if(j<m)b=f-(f-g)*(Z=j<p?0:(p-j)/(p-m)),_=P-(P-M)*Z,w=T-(T-E)*Z,A=O-(O-R)*Z;else b=g-(g-v)*(q=j>y?1:m===y?0:(m-j)/(m-y)),_=M-(M-D)*q,w=E-(E-I)*q,A=R-(R-L)*q;var U=void 0;x=f-(f-v)*(U=j<p?0:j>y?1:(p-j)/(p-y)),k=P-(P-D)*U,S=T-(T-I)*U,C=O-(O-L)*U;for(var B=Math.round(Math.min(b,x)),z=Math.round(Math.max(b,x)),V=h*j+4*B,W=B;W<=z;W++)(U=(b-W)/(b-x))<0?U=0:U>1&&(U=1),d[V++]=_-(_-k)*U|0,d[V++]=w-(w-S)*U|0,d[V++]=A-(A-C)*U|0,d[V++]=255}}function b(e,t,n){var r,i,a=t.coords,o=t.colors;switch(t.type){case"lattice":var s=t.verticesPerRow,l=Math.floor(a.length/s)-1,c=s-1;for(r=0;r<l;r++)for(var u=r*s,d=0;d<c;d++,u++)y(e,n,a[u],a[u+1],a[u+s],o[u],o[u+1],o[u+s]),y(e,n,a[u+s+1],a[u+1],a[u+s],o[u+s+1],o[u+1],o[u+s]);break;case"triangles":for(r=0,i=a.length;r<i;r+=3)y(e,n,a[r],a[r+1],a[r+2],o[r],o[r+1],o[r+2]);break;default:throw new Error("illegal figure")}}var _=function(e){s(n,e);var t=c(n);function n(e){var r;return h(this,n),(r=t.call(this))._coords=e[2],r._colors=e[3],r._figures=e[4],r._bounds=e[5],r._bbox=e[7],r._background=e[8],r.matrix=null,r}return p(n,[{key:"_createMeshCanvas",value:function(e,t,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,s=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(o*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),u=o/l,d=s/c,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/u,scaleY:1/d},f=n.getCanvas("mesh",l+4,c+4,!1),p=f.context,g=p.createImageData(l,c);if(t)for(var m=g.data,v=0,y=m.length;v<y;v+=4)m[v]=t[0],m[v+1]=t[1],m[v+2]=t[2],m[v+3]=255;var _,w=a(this._figures);try{for(w.s();!(_=w.n()).done;)b(g,_.value,h)}catch(A){w.e(A)}finally{w.f()}return p.putImageData(g,2,2),{canvas:f.canvas,offsetX:r-2*u,offsetY:i-2*d,scaleX:u,scaleY:d}}},{key:"getPattern",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(g(e,this._bbox),a)r=i.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(r=i.Util.singularValueDecompose2dScale(t.baseTransform),this.matrix){var o=i.Util.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}var s=this._createMeshCanvas(r,a?null:this._background,t.cachedCanvases);return a||(e.setTransform.apply(e,t.baseTransform),this.matrix&&e.transform.apply(e,this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}]),n}(m),w=function(e){s(n,e);var t=c(n);function n(){return h(this,n),t.apply(this,arguments)}return p(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(m);t.TilingPattern=function(){function e(t,n,r,i,a){h(this,e),this.operatorList=t[2],this.matrix=t[3]||[1,0,0,1,0,0],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=a}return p(e,[{key:"createPatternCanvas",value:function(e){var t=this.operatorList,n=this.bbox,r=this.xstep,a=this.ystep,o=this.paintType,s=this.color,l=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);var c=n[0],u=n[1],d=n[2],h=n[3],f=i.Util.singularValueDecompose2dScale(this.matrix),p=i.Util.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*p[0],f[1]*p[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(a,this.ctx.canvas.height,g[1]),y=e.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),b=y.context,_=l.createCanvasGraphics(b);_.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(_,o,s);var w=c,A=u,x=d,k=h;return c<0&&(w=0,x+=Math.abs(c)),u<0&&(A=0,k+=Math.abs(u)),b.translate(-m.scale*w,-v.scale*A),_.transform(m.scale,0,0,v.scale,0,0),this.clipBbox(_,w,A,x,k),_.baseTransform=_.ctx.mozCurrentTransform.slice(),_.executeOperatorList(t),_.endDrawing(),{canvas:y.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:w,offsetY:A}}},{key:"getSizeAndScale",value:function(t,n,r){t=Math.abs(t);var i=Math.max(e.MAX_PATTERN_SIZE,n),a=Math.ceil(t*r);return a>=i?a=i:r=a/t,{scale:r,size:a}}},{key:"clipBbox",value:function(e,t,n,r,i){e.ctx.rect(t,n,r-t,i-n),e.clip(),e.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(e,t,n){var r=e.ctx,a=e.current;switch(t){case 1:var o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,a.fillColor=o.fillStyle,a.strokeColor=o.strokeStyle;break;case 2:var s=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,a.fillColor=s,a.strokeColor=s;break;default:throw new i.FormatError("Unsupported paint type: ".concat(t))}}},{key:"getPattern",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n;r||(a=i.Util.transform(a,t.baseTransform),this.matrix&&(a=i.Util.transform(a,this.matrix)));var o=this.createPatternCanvas(t),s=new DOMMatrix(a);s=(s=s.translate(o.offsetX,o.offsetY)).scale(1/o.scaleX,1/o.scaleY);var l=e.createPattern(o.canvas,"repeat");try{l.setTransform(s)}catch(c){(0,i.warn)('TilingPattern.getPattern: "'.concat(null==c?void 0:c.message,'".'))}return l}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),e}()},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4);function o(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){if(!(e instanceof Error||"object"===s(e)&&null!==e))return(0,a.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e;switch(e.name){case"AbortException":return new a.AbortException(e.message);case"MissingPDFException":return new a.MissingPDFException(e.message);case"PasswordException":return new a.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new a.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new a.UnknownErrorException(e.message,e.details);default:return new a.UnknownErrorException(e.message,e.toString())}}t.MessageHandler=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var n=t.callbackId,a=i.callbackCapabilities[n];if(!a)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],1===t.callback)a.resolve(t.data);else{if(2!==t.callback)throw new Error("Unexpected callback case");a.reject(l(t.reason))}}else{var o=i.actionHandler[t.action];if(!o)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var s=i.sourceName,c=t.sourceName;new Promise(function(e){e(o(t.data))}).then(function(e){r.postMessage({sourceName:s,targetName:c,callback:1,callbackId:t.callbackId,data:e})},function(e){r.postMessage({sourceName:s,targetName:c,callback:2,callbackId:t.callbackId,reason:l(e)})})}else t.streamId?i._createStreamSink(t):o(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}var t,n,r,s;return t=e,(n=[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var r=this.callbackId++,i=(0,a.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(o){i.reject(o)}return i.promise}},{key:"sendWithStream",value:function(e,t,n,r){var i=this,o=this.streamId++,s=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var l=(0,a.createPromiseCapability)();return i.streamControllers[o]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:s,targetName:c,action:e,streamId:o,data:t,desiredSize:n.desiredSize},r),l.promise},pull:function(e){var t=(0,a.createPromiseCapability)();return i.streamControllers[o].pullCall=t,u.postMessage({sourceName:s,targetName:c,stream:6,streamId:o,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,a.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,a.createPromiseCapability)();return i.streamControllers[o].cancelCall=t,i.streamControllers[o].isClosed=!0,u.postMessage({sourceName:s,targetName:c,stream:1,streamId:o,reason:l(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,o=this,s=this.actionHandler[e.action],c={enqueue:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var l=this.desiredSize;this.desiredSize-=i,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,a.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o._postMessage({sourceName:n,targetName:r,stream:4,streamId:t,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:3,streamId:t}),delete o.streamSinks[t])},error:function(e){(0,a.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:5,streamId:t,reason:l(e)}))},sinkCapability:(0,a.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,new Promise(function(t){t(s(e.data,c))}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:t,reason:l(e)})})}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,o=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case 8:e.success?o.startCall.resolve():o.startCall.reject(l(e.reason));break;case 7:e.success?o.pullCall.resolve():o.pullCall.reject(l(e.reason));break;case 6:if(!s){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,new Promise(function(e){e(s.onPull&&s.onPull())}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:t,reason:l(e)})});break;case 4:if((0,a.assert)(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case 3:if((0,a.assert)(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this._deleteStreamController(o,t);break;case 5:(0,a.assert)(o,"error should have stream controller"),o.controller.error(l(e.reason)),this._deleteStreamController(o,t);break;case 2:e.success?o.cancelCall.resolve():o.cancelCall.reject(l(e.reason)),this._deleteStreamController(o,t);break;case 1:if(!s)break;new Promise(function(t){t(s.onCancel&&s.onCancel(l(e.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:t,success:!0})},function(e){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:t,reason:l(e)})}),s.sinkCapability.reject(l(e.reason)),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(r=i.default.mark(function e(t,n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return e.stop()}},e,this)}),s=function(){var e=this,t=arguments;return new Promise(function(n,i){var a=r.apply(e,t);function s(e){o(a,n,i,s,l,"next",e)}function l(e){o(a,n,i,s,l,"throw",e)}s(void 0)})},function(e,t){return s.apply(this,arguments)})},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(4);t.Metadata=function(){function e(t){var n=t.parsedData,r=t.rawData;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._metadataMap=n,this._data=r}var t;return(t=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(e){var t;return null!==(t=this._metadataMap.get(e))&&void 0!==t?t:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(4);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function e(t,n){o(this,e),this.visible=!0,this.name=t,this.intent=n};t.OptionalContentConfig=function(){function e(t){if(o(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;var n,r=i(t.groups);try{for(r.s();!(n=r.n()).done;){var a=n.value;this._groups.set(a.id,new s(a.name,a.intent))}}catch(p){r.e(p)}finally{r.f()}if("OFF"===t.baseState){var l,c=i(this._groups);try{for(c.s();!(l=c.n()).done;)l.value.visible=!1}catch(p){c.e(p)}finally{c.f()}}var u,d=i(t.on);try{for(d.s();!(u=d.n()).done;)this._groups.get(u.value).visible=!0}catch(p){d.e(p)}finally{d.f()}var h,f=i(t.off);try{for(f.s();!(h=f.n()).done;)this._groups.get(h.value).visible=!1}catch(p){f.e(p)}finally{f.f()}}}var t;return(t=[{key:"_evaluateVisibilityExpression",value:function(e){var t=e.length;if(t<2)return!0;for(var n=e[0],i=1;i<t;i++){var a=e[i],o=void 0;if(Array.isArray(a))o=this._evaluateVisibilityExpression(a);else{if(!this._groups.has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;o=this._groups.get(a).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}},{key:"isVisible",value:function(e){if(0===this._groups.size)return!0;if(!e)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return this._evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){var t,n=i(e.ids);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!this._groups.has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;if(this._groups.get(a).visible)return!0}}catch(g){n.e(g)}finally{n.f()}return!1}if("AllOn"===e.policy){var o,s=i(e.ids);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(!this._groups.has(l))return(0,r.warn)("Optional content group not found: ".concat(l)),!0;if(!this._groups.get(l).visible)return!1}}catch(g){s.e(g)}finally{s.f()}return!0}if("AnyOff"===e.policy){var c,u=i(e.ids);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(!this._groups.has(d))return(0,r.warn)("Optional content group not found: ".concat(d)),!0;if(!this._groups.get(d).visible)return!0}}catch(g){u.e(g)}finally{u.f()}return!1}if("AllOff"===e.policy){var h,f=i(e.ids);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(!this._groups.has(p))return(0,r.warn)("Optional content group not found: ".concat(p)),!0;if(this._groups.get(p).visible)return!1}}catch(g){f.e(g)}finally{f.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,r.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(1);function s(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)})}}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}t.PDFDataTransportStream=function(){function e(t,n){var r=this;d(this,e),(0,a.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;var i=t.initialData;if((null==i?void 0:i.length)>0){var o=new Uint8Array(i).buffer;this._queuedChunks.push(o)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})}),this._pdfDataRangeTransport.addProgressListener(function(e,t){r._onProgress({loaded:e,total:t})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){r._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return f(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some(function(n){return n._begin===e.begin&&(n._enqueue(t),!0)});(0,a.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];null!=t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;null!=n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,a.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new p(this,e,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new g(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=c(this._rangeReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),e}();var p=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;d(this,e),this._stream=t,this._done=r||!1,this._filename=(0,o.isPdfFile)(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var a,s=c(this._queuedChunks);try{for(s.s();!(a=s.n()).done;){var l=a.value;this._loaded+=l.byteLength}}catch(u){s.e(u)}finally{s.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}var t;return f(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),g=function(){function e(t,n,r){d(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var t;return f(e,[{key:"_enqueue",value:function(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),e}()},(e,t)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0,t.XfaText=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,i;return t=e,(i=[{key:"textContent",value:function(t){var r=[],i={items:r,styles:Object.create(null)};return function t(i){var a;if(i){var o=null,s=i.name;if("#text"===s)o=i.value;else{if(!e.shouldBuildText(s))return;null!=i&&null!==(a=i.attributes)&&void 0!==a&&a.textContent?o=i.attributes.textContent:i.value&&(o=i.value)}if(null!==o&&r.push({str:o}),i.children){var l,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}(i.children);try{for(c.s();!(l=c.n()).done;)t(l.value)}catch(u){c.e(u)}finally{c.f()}}}}(t),i}},{key:"shouldBuildText",value:function(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}])&&r(t,i),e}()},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var i=n(4),a=n(1),o=n(122),s=n(132);function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||y(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}var x=1e3,k=new WeakSet,S=function(){function e(){_(this,e)}return A(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case i.AnnotationType.LINK:return new P(e);case i.AnnotationType.TEXT:return new T(e);case i.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new M(e);case"Btn":return e.data.radioButton?new R(e):e.data.checkBox?new E(e):new D(e);case"Ch":return new I(e)}return new O(e);case i.AnnotationType.POPUP:return new L(e);case i.AnnotationType.FREETEXT:return new N(e);case i.AnnotationType.LINE:return new j(e);case i.AnnotationType.SQUARE:return new Z(e);case i.AnnotationType.CIRCLE:return new q(e);case i.AnnotationType.POLYLINE:return new U(e);case i.AnnotationType.CARET:return new z(e);case i.AnnotationType.INK:return new V(e);case i.AnnotationType.POLYGON:return new B(e);case i.AnnotationType.HIGHLIGHT:return new W(e);case i.AnnotationType.UNDERLINE:return new H(e);case i.AnnotationType.SQUIGGLY:return new Y(e);case i.AnnotationType.STRIKEOUT:return new G(e);case i.AnnotationType.STAMP:return new Q(e);case i.AnnotationType.FILEATTACHMENT:return new J(e);default:return new C(e)}}}]),e}(),C=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,a=n.ignoreBorder,o=void 0!==a&&a,s=n.createQuadrilaterals,l=void 0!==s&&s;_(this,e),this.isRenderable=i,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,i&&(this.container=this._createContainer(o)),l&&(this.quadrilaterals=this._createQuadrilaterals(o))}return A(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,a=document.createElement("section"),o=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];a.setAttribute("data-annotation-id",t.id);var l=i.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(a.style.transform="matrix(".concat(r.transform.join(","),")"),a.style.transformOrigin="".concat(-l[0],"px ").concat(-l[1],"px"),!e&&t.borderStyle.width>0){a.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(o-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var c=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(c>0||u>0){var d="".concat(c,"px / ").concat(u,"px");a.style.borderRadius=d}switch(t.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}var h=t.borderColor||t.color||null;h?a.style.borderColor=i.Util.makeHexColor(0|t.color[0],0|t.color[1],0|t.color[2]):a.style.borderWidth=0}return a.style.left="".concat(l[0],"px"),a.style.top="".concat(l[1],"px"),a.style.width="".concat(o,"px"),a.style.height="".concat(s,"px"),a}},{key:"_createQuadrilaterals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var t,n=[],r=this.data.rect,i=v(this.data.quadPoints);try{for(i.s();!(t=i.n()).done;){var a=t.value;this.data.rect=[a[2].x,a[2].y,a[1].x,a[1].y],n.push(this._createContainer(e))}}catch(o){i.e(o)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(e,t){var n=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,n=this.quadrilaterals[0]),e||((e=document.createElement("div")).style.height=n.style.height,e.style.width=n.style.width,n.appendChild(e));var r=new F({container:n,trigger:e,color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}},{key:"_renderQuadrilaterals",value:function(e){var t,n=v(this.quadrilaterals);try{for(n.s();!(t=n.n()).done;)t.value.className=e}catch(r){n.e(r)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var r=this._fieldObjects[e];if(r){var a,o=v(r);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=s.page,c=s.id,u=s.exportValues;if(-1!==l&&c!==t){var d="string"==typeof u?u:null,h=document.getElementById(c);!h||k.has(h)?n.push({id:c,exportValue:d,domElement:h}):(0,i.warn)("_getElementsByName - element not allowed: ".concat(c))}}}catch(b){o.e(b)}finally{o.f()}}return n}var f,p=v(document.getElementsByName(e));try{for(p.s();!(f=p.n()).done;){var g=f.value,m=g.id,y=g.exportValue;m!==t&&k.has(g)&&n.push({id:m,exportValue:y,domElement:g})}}catch(b){p.e(b)}finally{p.f()}return n}}],[{key:"platform",get:function(){var e="undefined"!=typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}]),e}(),P=function(e){d(n,e);var t=f(n);function n(e){return _(this,n),t.call(this,e,{isRenderable:!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return A(n,[{key:"render",value:function(){var e,t=this.data,n=this.linkService,r=document.createElement("a");if(t.url)n.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(e=n.addLinkAttributes)||void 0===e||e.call(n,r,t.url,t.newWindow);else if(t.action)this._bindNamedAction(r,t.action);else if(t.dest)this._bindLink(r,t.dest);else{var a=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(a=!0,this._bindJSAction(r,t)),t.resetForm?this._bindResetFormAction(r,t.resetForm):a||this._bindLink(r,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var n=0===t?r:r.cloneNode();return e.appendChild(n),e}):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.goToDestination(t),!1},(t||""===t)&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}},{key:"_bindJSAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=o[a],s=r.get(i);if(!s)return"continue";e[s]=function(){var e;return null===(e=n.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:n,detail:{id:t.id,name:i}}),!1}},a=0,o=Object.keys(t.actions);a<o.length;a++)i();e.onclick||(e.onclick=function(){return!1}),e.className="internalLink"}},{key:"_bindResetFormAction",value:function(e,t){var n=this,r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(e.onclick=function(){return!1}));e.onclick=function(){r&&r();var e,i=t.fields,a=t.refs,o=t.include,s=[];if(0!==i.length||0!==a.length){var l,c=new Set(a),u=v(i);try{for(u.s();!(l=u.n()).done;){var d,h=v(n._fieldObjects[l.value]||[]);try{for(h.s();!(d=h.n()).done;)c.add(d.value.id)}catch(D){h.e(D)}finally{h.f()}}}catch(D){u.e(D)}finally{u.f()}for(var f=0,p=Object.values(n._fieldObjects);f<p.length;f++){var g,m=v(p[f]);try{for(m.s();!(g=m.n()).done;){var _=g.value;c.has(_.id)===o&&s.push(_)}}catch(D){m.e(D)}finally{m.f()}}}else for(var w=0,A=Object.values(n._fieldObjects);w<A.length;w++)s.push.apply(s,function(e){if(Array.isArray(e))return b(e)}(e=A[w])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());for(var x,S=n.annotationStorage,C=[],P=0,T=s;P<T.length;P++){var O=T[P],M=O.id;switch(C.push(M),O.type){case"text":var E=O.defaultValue||"";S.setValue(M,{value:E,valueAsString:E});break;case"checkbox":case"radiobutton":S.setValue(M,{value:O.defaultValue===O.exportValues});break;case"combobox":case"listbox":S.setValue(M,{value:O.defaultValue||""});break;default:continue}var R=document.getElementById(M);R&&k.has(R)&&R.dispatchEvent(new Event("resetform"))}return n.enableScripting&&(null===(x=n.linkService.eventBus)||void 0===x||x.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:C,name:"ResetForm"}})),!1}}}]),n}(C),T=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a})}return A(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}]),n}(C),O=function(e){d(n,e);var t=f(n);function n(){return _(this,n),t.apply(this,arguments)}return A(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(e){var t=C.platform;return t.isWin&&e.ctrlKey||t.isMac&&e.metaKey}},{key:"_setEventListener",value:function(e,t,n,r){var i=this;t.includes("mouse")?e.addEventListener(t,function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})}):e.addEventListener(t,function(e){var t;null===(t=i.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:e.target.checked}})})}},{key:"_setEventListeners",value:function(e,t,n){var r,i=v(t);try{for(i.s();!(r=i.n()).done;){var a,o=u(r.value,2),s=o[1];("Action"===s||null!==(a=this.data.actions)&&void 0!==a&&a[s])&&this._setEventListener(e,o[0],s,n)}}catch(l){i.e(l)}finally{i.f()}}},{key:"_setBackgroundColor",value:function(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":i.Util.makeHexColor(t[0],t[1],t[2])}},{key:"_dispatchEventFromSandbox",value:function(e,t){for(var n=this,r=function(e,t,n){var r=n.detail[e];n.target.style[t]=s.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))},i={display:function(e){var t=e.detail.display%2==1;e.target.style.visibility=t?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:t,print:0===e.detail.display||3===e.detail.display})},print:function(e){n.annotationStorage.setValue(n.data.id,{print:e.detail.print})},hidden:function(e){e.target.style.visibility=e.detail.hidden?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:e.detail.hidden})},focus:function(e){setTimeout(function(){return e.target.focus({preventScroll:!1})},0)},userName:function(e){e.target.title=e.detail.userName},readonly:function(e){e.detail.readonly?e.target.setAttribute("readonly",""):e.target.removeAttribute("readonly")},required:function(e){e.detail.required?e.target.setAttribute("required",""):e.target.removeAttribute("required")},bgColor:function(e){r("bgColor","backgroundColor",e)},fillColor:function(e){r("fillColor","backgroundColor",e)},fgColor:function(e){r("fgColor","color",e)},textColor:function(e){r("textColor","color",e)},borderColor:function(e){r("borderColor","borderColor",e)},strokeColor:function(e){r("strokeColor","borderColor",e)}},a=0,o=Object.keys(t.detail);a<o.length;a++){var l=o[a],c=e[l]||i[l];c&&c(t)}}}]),n}(C),M=function(e){d(n,e);var t=f(n);function n(e){return _(this,n),t.call(this,e,{isRenderable:e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue})}return A(n,[{key:"setPropertyOnSiblings",value:function(e,t,n,r){var i,a=this.annotationStorage,o=v(this._getElementsByName(e.name,e.id));try{for(o.s();!(i=o.n()).done;){var s=i.value;s.domElement&&(s.domElement[t]=n),a.setValue(s.id,c({},r,n))}}catch(l){o.e(l)}finally{o.f()}}},{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderForms){var i=t.getValue(n,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),a=i.valueAsString||i.value||"",o={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(r=document.createElement("textarea")).textContent=a:((r=document.createElement("input")).type="text",r.setAttribute("value",a)),k.add(r),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=x,o.userValue=a,r.setAttribute("id",n),r.addEventListener("input",function(i){t.setValue(n,{value:i.target.value}),e.setPropertyOnSiblings(r,"value",i.target.value,"value")}),r.addEventListener("resetform",function(t){r.value=o.userValue=e.data.defaultFieldValue||"",delete o.formattedValue});var s=function(e){o.formattedValue&&(e.target.value=o.formattedValue),e.target.scrollLeft=0,o.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;r.addEventListener("focus",function(e){o.userValue&&(e.target.value=o.userValue)}),r.addEventListener("updatefromsandbox",function(r){e._dispatchEventFromSandbox({value:function(e){o.userValue=e.detail.value||"",t.setValue(n,{value:o.userValue.toString()}),o.formattedValue||(e.target.value=o.userValue)},valueAsString:function(e){o.formattedValue=e.detail.valueAsString||"",e.target!==document.activeElement&&(e.target.value=o.formattedValue),t.setValue(n,{formattedValue:o.formattedValue})},selRange:function(e){var t=u(e.detail.selRange,2),n=t[0],r=t[1];n>=0&&r<e.target.value.length&&e.target.setSelectionRange(n,r)}},r)}),r.addEventListener("keydown",function(t){var r;o.beforeInputValue=t.target.value;var i=-1;"Escape"===t.key?i=0:"Enter"===t.key?i=2:"Tab"===t.key&&(i=3),-1!==i&&(o.userValue=t.target.value,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))});var c=s;s=null,r.addEventListener("blur",function(t){var r;e._mouseState.isDown&&(o.userValue=t.target.value,null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:t.target.value,willCommit:!0,commitKey:1,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),c(t)}),r.addEventListener("mousedown",function(e){o.beforeInputValue=e.target.value,o.beforeInputSelectionRange=null}),r.addEventListener("keyup",function(e){e.target.selectionStart===e.target.selectionEnd&&(o.beforeInputSelectionRange=null)}),r.addEventListener("select",function(e){o.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]}),null!==(l=this.data.actions)&&void 0!==l&&l.Keystroke&&r.addEventListener("input",function(t){var r,i=-1,a=-1;if(o.beforeInputSelectionRange){var s=u(o.beforeInputSelectionRange,2);i=s[0],a=s[1]}null===(r=e.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:o.beforeInputValue,change:t.data,willCommit:!1,selStart:i,selEnd:a}})}),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})}if(s&&r.addEventListener("blur",s),null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var d=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(d,"px - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this._setBackgroundColor(r),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function(e){var t=this.data.defaultAppearanceData,n=t.fontSize,r=t.fontColor,a=e.style;n&&(a.fontSize="".concat(n,"px")),a.color=i.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(a.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(O),E=function(e){d(n,e);var t=f(n);function n(e){return _(this,n),t.call(this,e,{isRenderable:e.renderForms})}return A(n,[{key:"render",value:function(){var e=this,t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"==typeof i&&t.setValue(r,{value:i="Off"!==i}),this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return k.add(a),a.disabled=n.readOnly,a.type="checkbox",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("id",r),a.setAttribute("exportValue",n.exportValue),a.tabIndex=x,a.addEventListener("change",function(i){var a,o=i.target,s=o.checked,l=v(e._getElementsByName(o.name,r));try{for(l.s();!(a=l.n()).done;){var c=a.value,u=s&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}}catch(d){l.e(d)}finally{l.f()}t.setValue(r,{value:s})}),a.addEventListener("resetform",function(e){e.target.checked=(n.defaultFieldValue||"Off")===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",function(n){e._dispatchEventFromSandbox({value:function(e){e.target.checked="Off"!==e.detail.value,t.setValue(r,{value:e.target.checked})}},n)}),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})),this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),n}(O),R=function(e){d(n,e);var t=f(n);function n(e){return _(this,n),t.call(this,e,{isRenderable:e.renderForms})}return A(n,[{key:"render",value:function(){var e=this;this.container.className="buttonWidgetAnnotation radioButton";var t=this.annotationStorage,n=this.data,r=n.id,i=t.getValue(r,{value:n.fieldValue===n.buttonValue}).value;"string"==typeof i&&t.setValue(r,{value:i=i!==n.buttonValue});var a=document.createElement("input");if(k.add(a),a.disabled=n.readOnly,a.type="radio",a.name=n.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("id",r),a.tabIndex=x,a.addEventListener("change",function(n){var i,a=n.target,o=a.checked,s=v(e._getElementsByName(a.name,r));try{for(s.s();!(i=s.n()).done;)t.setValue(i.value.id,{value:!1})}catch(l){s.e(l)}finally{s.f()}t.setValue(r,{value:o})}),a.addEventListener("resetform",function(e){var t=n.defaultFieldValue;e.target.checked=null!=t&&t===n.buttonValue}),this.enableScripting&&this.hasJSActions){var o=n.buttonValue;a.addEventListener("updatefromsandbox",function(n){var i={value:function(n){var i,a=o===n.detail.value,s=v(e._getElementsByName(n.target.name));try{for(s.s();!(i=s.n()).done;){var l=i.value,c=a&&l.id===r;l.domElement&&(l.domElement.checked=c),t.setValue(l.id,{value:c})}}catch(u){s.e(u)}finally{s.f()}}};e._dispatchEventFromSandbox(i,n)}),this._setEventListeners(a,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}return this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),n}(O),D=function(e){d(n,e);var t=f(n);function n(){return _(this,n),t.apply(this,arguments)}return A(n,[{key:"render",value:function(){var e=l(m(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}]),n}(P),I=function(e){d(n,e);var t=f(n);function n(e){return _(this,n),t.call(this,e,{isRenderable:e.renderForms})}return A(n,[{key:"render",value:function(){var e=this;this.container.className="choiceWidgetAnnotation";var t=this.annotationStorage,n=this.data.id;t.getValue(n,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var r=this.data.defaultAppearanceData.fontSize;r||(r=9);var i="calc(".concat(r,"px * var(--zoom-factor))"),a=document.createElement("select");k.add(a),a.disabled=this.data.readOnly,a.name=this.data.fieldName,a.setAttribute("id",n),a.tabIndex=x,a.style.fontSize="".concat(r,"px"),this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",function(t){var n,r=e.data.defaultFieldValue,i=v(a.options);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.selected=o.value===r}}catch(s){i.e(s)}finally{i.f()}});var o,s=v(this.data.options);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=document.createElement("option");c.textContent=l.displayValue,c.value=l.exportValue,this.data.combo&&(c.style.fontSize=i),this.data.fieldValue.includes(l.exportValue)&&c.setAttribute("selected",!0),a.appendChild(c)}}catch(h){s.e(h)}finally{s.f()}var u=function(e,t){var n=t?"value":"textContent",r=e.target.options;return e.target.multiple?Array.prototype.filter.call(r,function(e){return e.selected}).map(function(e){return e[n]}):-1===r.selectedIndex?null:r[r.selectedIndex][n]},d=function(e){return Array.prototype.map.call(e.target.options,function(e){return{displayValue:e.textContent,exportValue:e.value}})};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",function(r){e._dispatchEventFromSandbox({value:function(e){var r,i=e.detail.value,o=new Set(Array.isArray(i)?i:[i]),s=v(a.options);try{for(s.s();!(r=s.n()).done;){var l=r.value;l.selected=o.has(l.value)}}catch(h){s.e(h)}finally{s.f()}t.setValue(n,{value:u(e,!0)})},multipleSelection:function(e){a.multiple=!0},remove:function(e){var r=a.options,i=e.detail.remove;r[i].selected=!1,a.remove(i),r.length>0&&-1===Array.prototype.findIndex.call(r,function(e){return e.selected})&&(r[0].selected=!0),t.setValue(n,{value:u(e,!0),items:d(e)})},clear:function(e){for(;0!==a.length;)a.remove(0);t.setValue(n,{value:null,items:[]})},insert:function(e){var r=e.detail.insert,i=r.index,o=r.displayValue,s=r.exportValue,l=document.createElement("option");l.textContent=o,l.value=s,a.insertBefore(l,a.children[i]),t.setValue(n,{value:u(e,!0),items:d(e)})},items:function(e){for(var r=e.detail.items;0!==a.length;)a.remove(0);var i,o=v(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.displayValue,c=s.exportValue,f=document.createElement("option");f.textContent=l,f.value=c,a.appendChild(f)}}catch(h){o.e(h)}finally{o.f()}a.options.length>0&&(a.options[0].selected=!0),t.setValue(n,{value:u(e,!0),items:d(e)})},indices:function(e){var r,i=new Set(e.detail.indices),a=v(e.target.options);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.selected=i.has(o.index)}}catch(h){a.e(h)}finally{a.f()}t.setValue(n,{value:u(e,!0)})},editable:function(e){e.target.disabled=!e.detail.editable}},r)}),a.addEventListener("input",function(r){var i,a=u(r,!0),o=u(r,!1);t.setValue(n,{value:a}),null===(i=e.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:e,detail:{id:n,name:"Keystroke",value:o,changeEx:a,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})):a.addEventListener("input",function(e){t.setValue(n,{value:u(e)})}),this._setBackgroundColor(a),this.container.appendChild(a),this.container}}]),n}(O),L=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a})}return A(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelectorAll(e);if(0===t.length)return this.container;var n=new F({container:this.container,trigger:Array.from(t),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj}),r=this.page,a=i.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),o=a[0]+this.data.parentRect[2]-this.data.parentRect[0],s=a[1];return this.container.style.transformOrigin="".concat(-o,"px ").concat(-s,"px"),this.container.style.left="".concat(o,"px"),this.container.style.top="".concat(s,"px"),this.container.appendChild(n.render()),this.container}}]),n}(C),F=function(){function e(t){_(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return A(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.hidden=!0;var t=document.createElement("div");t.className="popup";var n=this.color;n&&(t.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));var r=document.createElement("h1");r.dir=this.titleObj.dir,r.textContent=this.titleObj.str,t.appendChild(r);var o=a.PDFDateString.toDateObject(this.modificationDate);if(o){var s=document.createElement("span");s.textContent="{{date}}, {{time}}",s.dataset.l10nId="annotation_date_string",s.dataset.l10nArgs=JSON.stringify({date:o.toLocaleDateString(),time:o.toLocaleTimeString()}),t.appendChild(s)}var l=this._formatContents(this.contentsObj);t.appendChild(l),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var c,u=v(this.trigger);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.addEventListener("click",this._toggle.bind(this)),d.addEventListener("mouseover",this._show.bind(this,!1)),d.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(h){u.e(h)}finally{u.f()}return t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){var t=e.str,n=e.dir,r=document.createElement("p");r.dir=n;for(var i=t.split(/(?:\r\n?|\n)/),a=0,o=i.length;a<o;++a)r.appendChild(document.createTextNode(i[a])),a<o-1&&r.appendChild(document.createElement("br"));return r}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),e}(),N=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),j=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),n.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),n.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),n.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),n.setAttribute("stroke-width",e.borderStyle.width||1),n.setAttribute("stroke","transparent"),t.appendChild(n),this.container.append(t),this._createPopup(n,e),this.container}}]),n}(C),Z=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",n-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(a,e),this.container}}]),n}(C),q=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),i=e.borderStyle.width,a=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",n/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","none"),r.appendChild(a),this.container.append(r),this._createPopup(a,e),this.container}}]),n}(C),U=function(e){d(n,e);var t=f(n);function n(e){var r,i,a;_(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return(a=t.call(this,e,{isRenderable:o,ignoreBorder:!0})).containerClassName="polylineAnnotation",a.svgElementName="svg:polyline",a}return A(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=[],i=v(t.vertices);try{for(i.s();!(e=i.n()).done;){var a=e.value;r.push(a.x-t.rect[0]+","+(t.rect[3]-a.y))}}catch(s){i.e(s)}finally{i.f()}r=r.join(" ");var o=this.svgFactory.createElement(this.svgElementName);return o.setAttribute("points",r),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),n.appendChild(o),this.container.append(n),this._createPopup(o,t),this.container}}]),n}(C),B=function(e){d(n,e);var t=f(n);function n(e){var r;return _(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(U),z=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),V=function(e){d(n,e);var t=f(n);function n(e){var r,i,a;_(this,n);var o=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return(a=t.call(this,e,{isRenderable:o,ignoreBorder:!0})).containerClassName="inkAnnotation",a.svgElementName="svg:polyline",a}return A(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),r=v(t.inkLists);try{for(r.s();!(e=r.n()).done;){var i,a=[],o=v(e.value);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=t.rect[3]-s.y;a.push("".concat(s.x-t.rect[0],",").concat(l))}}catch(u){o.e(u)}finally{o.f()}a=a.join(" ");var c=this.svgFactory.createElement(this.svgElementName);c.setAttribute("points",a),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","none"),this._createPopup(c,t),n.appendChild(c)}}catch(u){r.e(u)}finally{r.f()}return this.container.append(n),this.container}}]),n}(C),W=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return A(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(C),H=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return A(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(C),Y=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return A(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(C),G=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0,createQuadrilaterals:!0})}return A(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(C),Q=function(e){d(n,e);var t=f(n);function n(e){var r,i;_(this,n);var a=!!(e.data.hasPopup||null!==(r=e.data.titleObj)&&void 0!==r&&r.str||null!==(i=e.data.contentsObj)&&void 0!==i&&i.str);return t.call(this,e,{isRenderable:a,ignoreBorder:!0})}return A(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),J=function(e){d(n,e);var t=f(n);function n(e){var r,o;_(this,n);var s=(o=t.call(this,e,{isRenderable:!0})).data.file,l=s.filename,c=s.content;return o.filename=(0,a.getFilenameFromUrl)(l),o.content=c,null===(r=o.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:g(o),id:(0,i.stringToPDFString)(l),filename:l,content:c}),o}return A(n,[{key:"render",value:function(){var e,t;this.container.className="fileAttachmentAnnotation";var n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(e=this.data.titleObj)&&void 0!==e&&e.str||null!==(t=this.data.contentsObj)&&void 0!==t&&t.str)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}},{key:"_download",value:function(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(C);t.AnnotationLayer=function(){function e(){_(this,e)}return A(e,null,[{key:"render",value:function(e){var t,n=[],r=[],s=v(e.annotations);try{for(s.s();!(t=s.n()).done;){var l=t.value;l&&(l.annotationType!==i.AnnotationType.POPUP?n.push(l):r.push(l))}}catch(m){s.e(m)}finally{s.f()}r.length&&n.push.apply(n,r);for(var c=0,u=n;c<u.length;c++){var d=u[c],h=S.create({data:d,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new a.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(h.isRenderable){var f=h.render();if(d.hidden&&(f.style.visibility="hidden"),Array.isArray(f)){var p,g=v(f);try{for(g.s();!(p=g.n()).done;)e.div.appendChild(p.value)}catch(m){g.e(m)}finally{g.f()}}else h instanceof L?e.div.prepend(f):e.div.appendChild(f)}}}},{key:"update",value:function(e){var t,n="matrix(".concat(e.viewport.transform.join(","),")"),r=v(e.annotations);try{for(r.s();!(t=r.n()).done;){var i=e.div.querySelectorAll('[data-annotation-id="'.concat(t.value.id,'"]'));if(i){var a,o=v(i);try{for(o.s();!(a=o.n()).done;)a.value.style.transform=n}catch(s){o.e(s)}finally{o.f()}}}}catch(s){r.e(s)}finally{r.f()}e.div.hidden=!1}}]),e}()},(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0,t.ColorConverters=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,(r=[{key:"CMYK_G",value:function(e){var t=n(e,4);return["G",1-Math.min(1,.3*t[0]+.59*t[2]+.11*t[1]+t[3])]}},{key:"G_CMYK",value:function(e){return["CMYK",0,0,0,1-n(e,1)[0]]}},{key:"G_RGB",value:function(e){var t=n(e,1)[0];return["RGB",t,t,t]}},{key:"G_HTML",value:function(e){var t=a(n(e,1)[0]);return"#".concat(t).concat(t).concat(t)}},{key:"RGB_G",value:function(e){var t=n(e,3);return["G",.3*t[0]+.59*t[1]+.11*t[2]]}},{key:"RGB_HTML",value:function(e){var t=n(e,3),r=t[1],i=t[2],o=a(t[0]),s=a(r),l=a(i);return"#".concat(o).concat(s).concat(l)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(e){var t=n(e,4),r=t[1],i=t[2],a=t[3];return["RGB",1-Math.min(1,t[0]+a),1-Math.min(1,i+a),1-Math.min(1,r+a)]}},{key:"CMYK_HTML",value:function(e){return this.RGB_HTML(this.CMYK_RGB(e))}},{key:"RGB_CMYK",value:function(e){var t=n(e,3),r=1-t[0],i=1-t[1],a=1-t[2];return["CMYK",r,i,a,Math.min(r,i,a)]}}])&&i(t,r),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=function(e){var t=new p({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t};var r=n(4);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=30,s=new Map,l=/^\s+$/g;function c(e,t,n,i){var a=document.createElement("span"),c=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL};e._textDivs.push(a);var u=r.Util.transform(e._viewport.transform,t.transform),d=Math.atan2(u[1],u[0]),h=n[t.fontName];h.vertical&&(d+=Math.PI/2);var f,p,g=Math.hypot(u[2],u[3]),m=g*function(e,t){var n=s.get(e);if(n)return n;t.save(),t.font="".concat(o,"px ").concat(e);var r=t.measureText(""),i=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(i){t.restore();var l=i/(i+a);return s.set(e,l),l}t.strokeStyle="red",t.clearRect(0,0,o,o),t.strokeText("g",0,0);var c=t.getImageData(0,0,o,o).data;a=0;for(var u=c.length-1-3;u>=0;u-=4)if(c[u]>0){a=Math.ceil(u/4/o);break}t.clearRect(0,0,o,o),t.strokeText("A",0,o),i=0;for(var d=0,h=(c=t.getImageData(0,0,o,o).data).length;d<h;d+=4)if(c[d]>0){i=o-Math.floor(d/4/o);break}if(t.restore(),i){var f=i/(i+a);return s.set(e,f),f}return s.set(e,.8),.8}(h.fontFamily,i);0===d?(f=u[4],p=u[5]-m):(f=u[4]+m*Math.sin(d),p=u[5]-m*Math.cos(d)),a.style.left="".concat(f,"px"),a.style.top="".concat(p,"px"),a.style.fontSize="".concat(g,"px"),a.style.fontFamily=h.fontFamily,a.setAttribute("role","presentation"),a.textContent=t.str,a.dir=t.dir,e._fontInspectorEnabled&&(a.dataset.fontName=t.fontName),0!==d&&(c.angle=d*(180/Math.PI));var v=!1;if(t.str.length>1||e._enhanceTextSelection&&l.test(t.str))v=!0;else if(t.transform[0]!==t.transform[3]){var y=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(v=!0)}if(v&&(c.canvasWidth=h.vertical?t.height*e._viewport.scale:t.width*e._viewport.scale),e._textDivProperties.set(a,c),e._textContentStream&&e._layoutText(a),e._enhanceTextSelection&&c.hasText){var _=1,w=0;0!==d&&(_=Math.cos(d),w=Math.sin(d));var A,x,k=(h.vertical?t.height:t.width)*e._viewport.scale,S=g;x=0!==d?r.Util.getAxialAlignedBoundingBox([0,0,k,S],A=[_,w,-w,_,f,p]):[f,p,f+k,p+S],e._bounds.push({left:x[0],top:x[1],right:x[2],bottom:x[3],div:a,size:[k,S],m:A})}}function u(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var i=0;i<r;i++)e._layoutText(t[i]);e._renderingDone=!0,n.resolve()}}function d(e,t,n){for(var r=0,i=0;i<n;i++){var a=e[t++];a>0&&(r=r?Math.min(a,r):a)}return r}function h(e){for(var t=e._bounds,n=e._viewport,a=function(e,t,n){var r=n.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}});f(e,r);var a,o=new Array(n.length),s=i(r);try{for(s.s();!(a=s.n()).done;){var l=a.value;o[l.index]={left:l.x1New,top:0,right:l.x2New,bottom:0}}}catch(p){s.e(p)}finally{s.f()}n.map(function(t,n){var i=o[n],a=r[n];a.x1=t.top,a.y1=e-i.right,a.x2=t.bottom,a.y2=e-i.left,a.index=n,a.x1New=void 0,a.x2New=void 0}),f(t,r);var c,u=i(r);try{for(u.s();!(c=u.n()).done;){var d=c.value,h=d.index;o[h].top=d.x1New,o[h].bottom=d.x2New}}catch(p){u.e(p)}finally{u.f()}return o}(n.width,n.height,t),o=0;o<a.length;o++){var s=t[o].div,l=e._textDivProperties.get(s);if(0!==l.angle){for(var c=a[o],u=t[o],h=u.m,p=h[0],g=h[1],m=[[0,0],[0,u.size[1]],[u.size[0],0],u.size],v=new Float64Array(64),y=0,b=m.length;y<b;y++){var _=r.Util.applyTransform(m[y],h);v[y+0]=p&&(c.left-_[0])/p,v[y+4]=g&&(c.top-_[1])/g,v[y+8]=p&&(c.right-_[0])/p,v[y+12]=g&&(c.bottom-_[1])/g,v[y+16]=g&&(c.left-_[0])/-g,v[y+20]=p&&(c.top-_[1])/p,v[y+24]=g&&(c.right-_[0])/-g,v[y+28]=p&&(c.bottom-_[1])/p,v[y+32]=p&&(c.left-_[0])/-p,v[y+36]=g&&(c.top-_[1])/-g,v[y+40]=p&&(c.right-_[0])/-p,v[y+44]=g&&(c.bottom-_[1])/-g,v[y+48]=g&&(c.left-_[0])/g,v[y+52]=p&&(c.top-_[1])/-p,v[y+56]=g&&(c.right-_[0])/g,v[y+60]=p&&(c.bottom-_[1])/-p}var w=1+Math.min(Math.abs(p),Math.abs(g));l.paddingLeft=d(v,32,16)/w,l.paddingTop=d(v,48,16)/w,l.paddingRight=d(v,0,16)/w,l.paddingBottom=d(v,16,16)/w,e._textDivProperties.set(s,l)}else l.paddingLeft=t[o].left-a[o].left,l.paddingTop=t[o].top-a[o].top,l.paddingRight=a[o].right-t[o].right,l.paddingBottom=a[o].bottom-t[o].bottom,e._textDivProperties.set(s,l)}}function f(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var n,r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],a=i(t);try{for(a.s();!(n=a.n()).done;){for(var o=n.value,s=0;s<r.length&&r[s].end<=o.y1;)s++;for(var l=r.length-1;l>=0&&r[l].start>=o.y2;)l--;var c=void 0,u=void 0,d=void 0,h=void 0,f=-1/0;for(d=s;d<=l;d++){var p;(p=(u=(c=r[d]).boundary).x2>o.x1?u.index>o.index?u.x1New:o.x1:void 0===u.x2New?(u.x2+o.x1)/2:u.x2New)>f&&(f=p)}for(o.x1New=f,d=s;d<=l;d++)void 0===(u=(c=r[d]).boundary).x2New?u.x2>o.x1?u.index>o.index&&(u.x2New=u.x2):u.x2New=f:u.x2New>f&&(u.x2New=Math.max(f,u.x2));var g=[],m=null;for(d=s;d<=l;d++){var v=(u=(c=r[d]).boundary).x2>o.x2?u:o;m===v?g[g.length-1].end=c.end:(g.push({start:c.start,end:c.end,boundary:v}),m=v)}for(r[s].start<o.y1&&(g[0].start=o.y1,g.unshift({start:r[s].start,end:o.y1,boundary:r[s].boundary})),o.y2<r[l].end&&(g[g.length-1].end=o.y2,g.push({start:o.y2,end:r[l].end,boundary:r[l].boundary})),d=s;d<=l;d++)if(void 0===(u=(c=r[d]).boundary).x2New){var y=!1;for(h=s-1;!y&&h>=0&&r[h].start>=u.y1;h--)y=r[h].boundary===u;for(h=l+1;!y&&h<r.length&&r[h].end<=u.y2;h++)y=r[h].boundary===u;for(h=0;!y&&h<g.length;h++)y=g[h].boundary===u;y||(u.x2New=f)}Array.prototype.splice.apply(r,[s,l-s+1].concat(g))}}catch(A){a.e(A)}finally{a.f()}for(var b=0,_=r;b<_.length;b++){var w=_[b].boundary;void 0===w.x2New&&(w.x2New=Math.max(e,w.x2))}}var p=function(){function e(t){var n,i=this,a=t.textContent,o=t.textContentStream,s=t.container,l=t.viewport,c=t.textDivs,u=t.textContentItemsStr,d=t.enhanceTextSelection;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._textContent=a,this._textContentStream=o,this._container=s,this._document=s.ownerDocument,this._viewport=l,this._textDivs=c||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!d,this._fontInspectorEnabled=!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){i._enhanceTextSelection||(i._textDivProperties=null),i._layoutTextCtx&&(i._layoutTextCtx.canvas.width=0,i._layoutTextCtx.canvas.height=0,i._layoutTextCtx=null)}).catch(function(){})}var t;return(t=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(e,t){for(var n=0,r=e.length;n<r;n++)if(void 0!==e[n].str)this._textContentItemsStr.push(e[n].str),c(this,e[n],t,this._layoutTextCtx);else if("beginMarkedContentProps"===e[n].type||"beginMarkedContent"===e[n].type){var i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==e[n].id&&this._container.setAttribute("id","".concat(e[n].id)),i.appendChild(this._container)}else"endMarkedContent"===e[n].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(e){var t=this._textDivProperties.get(e),n="";if(0!==t.canvasWidth&&t.hasText){var r=e.style,i=r.fontSize,a=r.fontFamily;i===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(a),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(e.textContent).width;if(o>0){var s=t.canvasWidth/o;this._enhanceTextSelection&&(t.scale=s),n="scaleX(".concat(s,")")}}if(0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),t.hasText&&this._container.appendChild(e),t.hasEOL){var l=document.createElement("br");l.setAttribute("role","presentation"),this._container.appendChild(l)}}},{key:"_render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,r.createPromiseCapability)(),i=Object.create(null),a=this._document.createElement("canvas");if(a.height=a.width=o,a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var c=function t(){e._reader.read().then(function(r){var a=r.value;r.done?n.resolve():(Object.assign(i,a.styles),e._processItems(a.items,i),t())},n.reject)};this._reader=this._textContentStream.getReader(),c()}n.promise.then(function(){i=null,t?e._renderTimer=setTimeout(function(){u(e),e._renderTimer=null},t):u(e)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(h(this),this._bounds=null);for(var t=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var a=this._textDivs[r],o=this._textDivProperties.get(a);o.hasText&&(e?(t.length=0,n.length=0,o.originalTransform&&t.push(o.originalTransform),o.paddingTop>0?(n.push("".concat(o.paddingTop,"px")),t.push("translateY(".concat(-o.paddingTop,"px)"))):n.push(0),n.push(o.paddingRight>0?"".concat(o.paddingRight/o.scale,"px"):0),n.push(o.paddingBottom>0?"".concat(o.paddingBottom,"px"):0),o.paddingLeft>0?(n.push("".concat(o.paddingLeft/o.scale,"px")),t.push("translateX(".concat(-o.paddingLeft/o.scale,"px)"))):n.push(0),a.style.padding=n.join(" "),t.length&&(a.style.transform=t.join(" "))):(a.style.padding=null,a.style.transform=o.originalTransform))}}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(4),i=n(1),a=n(6);function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function e(){f(this,e),(0,r.unreachable)("Not implemented: SVGGraphics")};t.SVGGraphics=p;var g=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},m=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(g(e[0])," ").concat(g(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(g(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(g(e[4])," ").concat(g(e[5]),")");return"matrix(".concat(g(e[0])," ").concat(g(e[1])," ").concat(g(e[2])," ").concat(g(e[3])," ").concat(g(e[4])," ")+"".concat(g(e[5]),")")},v="normal",y="#000000",b=["butt","round","square"],_=["miter","round","bevel"],w=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var i=n,o=0;o<8;o++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;t[n]=i}function s(e,n,r,i){var a=i,o=n.length;r[a]=o>>24&255,r[a+1]=o>>16&255,r[a+2]=o>>8&255,r[a+3]=255&o,r[a+=4]=255&e.charCodeAt(0),r[a+1]=255&e.charCodeAt(1),r[a+2]=255&e.charCodeAt(2),r[a+3]=255&e.charCodeAt(3),r.set(n,a+=4);var s=function(e,n,r){for(var i=-1,a=n;a<r;a++)i=i>>>8^t[255&(i^e[a])];return-1^i}(r,i+4,a+=n.length);r[a]=s>>24&255,r[a+1]=s>>16&255,r[a+2]=s>>8&255,r[a+3]=255&s}function l(e){var t=e.length,n=65535,r=Math.ceil(t/n),i=new Uint8Array(2+t+5*r+4),a=0;i[a++]=120,i[a++]=156;for(var o=0;t>n;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(o,o+n),a),a+=n,o+=n,t-=n;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(o),a),a+=e.length-o;var s=function(e,t,n){for(var r=1,i=0,a=0;a<n;++a)i=(i+(r=(r+(255&e[a]))%65521))%65521;return i<<16|r}(e,0,e.length);return i[a++]=s>>24&255,i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s,i}return function(t,n,i){return function(t,n,i,o){var c,u,d,h=t.width,f=t.height,p=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:u=0,c=1,d=h+7>>3;break;case r.ImageKind.RGB_24BPP:u=2,c=8,d=3*h;break;case r.ImageKind.RGBA_32BPP:u=6,c=8,d=4*h;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+d)*f),m=0,v=0,y=0;y<f;++y)g[m++]=0,g.set(p.subarray(v,v+d),m),v+=d,m+=d;if(n===r.ImageKind.GRAYSCALE_1BPP&&o){m=0;for(var b=0;b<f;b++){m++;for(var _=0;_<d;_++)g[m++]^=255}}var w=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,f>>24&255,f>>16&255,f>>8&255,255&f,c,u,0,0,0]),A=function(e){if(!a.isNodeJS)return l(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(7324).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return l(e)}(g),x=new Uint8Array(e.length+36+w.length+A.length),k=0;return x.set(e,k),s("IHDR",w,x,k+=e.length),s("IDATA",A,x,k+=12+w.length),k+=12+A.length,s("IEND",new Uint8Array(0),x,k),(0,r.createObjectURL)(x,"image/png",i)}(t,void 0===t.kind?r.ImageKind.GRAYSCALE_1BPP:t.kind,n,i)}}(),A=function(){function e(){f(this,e),this.fontSizeScale=1,this.fontWeight=v,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return h(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),x=0,k=0,S=0;t.SVGGraphics=p=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in f(this,e),this.svgFactory=new i.DOMSVGFactory,this.current=new A,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!a,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[o]]=o}return h(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,i=e.argsArray,a=0,o=n.length;a<o;a++)if(n[a]===r.OPS.dependency){var s,c=l(i[a]);try{var u=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise(function(t){n.get(e,t)});t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)u()}catch(d){c.e(d)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,i,a,o){this.transformMatrix=r.Util.transform(this.transformMatrix,[e,t,n,i,a,o]),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var i=this._initialize(t);return this.loadDependencies(e).then(function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),i})}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,i=[],a=0,o=r.length;a<o;a++){var s=r[a];i.push({fnId:s,fn:t[s],args:n[a]})}return function(e){var t,n=[],r=[],i=l(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;"save"!==a.fn?"restore"===a.fn?n=r.pop():n.push(a):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(o){i.e(o)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=t.value,a=i.fn,o=i.args;switch(0|i.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(o);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(o[0],o[1]);break;case r.OPS.setFont:this.setFont(o);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(o[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(o[0],o[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(o[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(o[0]);break;case r.OPS.setHScale:this.setHScale(o[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(o[0],o[1],o[2],o[3],o[4],o[5]);break;case r.OPS.setTextRise:this.setTextRise(o[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(o[0]);break;case r.OPS.setLineWidth:this.setLineWidth(o[0]);break;case r.OPS.setLineJoin:this.setLineJoin(o[0]);break;case r.OPS.setLineCap:this.setLineCap(o[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(o[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(o[0],o[1],o[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(o[0],o[1],o[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(o);break;case r.OPS.setFillColorN:this.setFillColorN(o);break;case r.OPS.shadingFill:this.shadingFill(o[0]);break;case r.OPS.setDash:this.setDash(o[0],o[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(o[0]);break;case r.OPS.setFlatness:this.setFlatness(o[0]);break;case r.OPS.setGState:this.setGState(o[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(o[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(o[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(o[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(o[0],o[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(o[0],o[1],o[2],o[3],o[4],o[5]);break;case r.OPS.constructPath:this.constructPath(o[0],o[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(a))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,i,a){var o=this.current;o.textMatrix=o.lineMatrix=[e,t,n,r,i,a],o.textMatrixScale=Math.hypot(e,t),o.x=o.lineX=0,o.y=o.lineY=0,o.xcoords=[],o.ycoords=[],o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size","".concat(g(o.fontSize),"px")),o.tspan.setAttributeNS(null,"y",g(-o.y)),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtElement.appendChild(o.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(g(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",g(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,i=t.fontSize;if(0!==i){var a,o=t.fontSizeScale,s=t.charSpacing,c=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=n.vertical,f=h?1:-1,p=n.defaultVMetrics,b=i*t.fontMatrix[0],_=0,w=l(e);try{for(w.s();!(a=w.n()).done;){var A=a.value;if(null!==A)if((0,r.isNum)(A))_+=f*A*i/1e3;else{var x=(A.isSpace?c:0)+s,k=A.fontChar,S=void 0,C=void 0,P=A.width;if(h){var T=void 0,O=A.vmetric||p;T=A.vmetric?O[1]:.5*P,P=O?-O[0]:P,S=(T=-T*b)/o,C=(_+O[2]*b)/o}else S=_/o,C=0;(A.isInFont||n.missingFile)&&(t.xcoords.push(t.x+S),h&&t.ycoords.push(-t.y+C),t.tspan.textContent+=k),_+=h?P*b-x*u:P*b+x*u}else _+=u*c}}catch(R){w.e(R)}finally{w.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(g).join(" ")),t.tspan.setAttributeNS(null,"y",h?t.ycoords.map(g).join(" "):g(-t.y)),h?t.y-=_:t.x+=_*d,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(g(t.fontSize),"px")),"normal"!==t.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==v&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var M=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;M===r.TextRenderingMode.FILL||M===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==y&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.tspan.setAttributeNS(null,"fill",t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(M===r.TextRenderingMode.STROKE||M===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(t.tspan,1/(t.textMatrixScale||1));var E=t.textMatrix;0!==t.textRise&&((E=E.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(m(E)," scale(").concat(g(d),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),i=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;var a="normal";n.black?a="900":n.bold&&(a="bold");var o=n.italic?"italic":"normal";i<0?(i=-i,t.fontDirection=-1):t.fontDirection=1,t.fontSize=i,t.fontFamily=n.loadedName,t.fontWeight=a,t.fontStyle=o,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",g(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e,t=this.current;t.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(e=t.txtElement)&&void 0!==e&&e.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=b[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=_[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeHexColor(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeHexColor(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),a=r.Util.applyTransform([0,0],i),o=r.Util.applyTransform([0,n],i),s=r.Util.applyTransform([t,0],i),l=r.Util.applyTransform([t,n],i),c=Math.min(a[0],o[0],s[0],l[0]),u=Math.min(a[1],o[1],s[1],l[1]),d=Math.max(a[0],o[0],s[0],l[0]),h=Math.max(a[1],o[1],s[1],l[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",d-c),f.setAttributeNS(null,"height",h-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],i=e[3]||r.IDENTITY_MATRIX,a=s(e[4],4),l=a[0],c=a[1],u=a[2],d=a[3],h=e[5],f=e[6],p=e[7],g="shading".concat(S++),m=s(r.Util.normalizeRect([].concat(o(r.Util.applyTransform([l,c],i)),o(r.Util.applyTransform([u,d],i)))),4),v=m[0],y=m[1],b=m[2],_=m[3],w=s(r.Util.singularValueDecompose2dScale(i),2),A=h*w[0],x=f*w[1],k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",g),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",A),k.setAttributeNS(null,"height",x),k.setAttributeNS(null,"x","".concat(v)),k.setAttributeNS(null,"y","".concat(y));var C=this.svg,P=this.transformMatrix,T=this.current.fillColor,O=this.current.strokeColor,M=this.svgFactory.create(b-v,_-y);if(this.svg=M,this.transformMatrix=i,2===p){var E=r.Util.makeHexColor.apply(r.Util,o(t));this.current.fillColor=E,this.current.strokeColor=E}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=P,this.current.fillColor=T,this.current.strokeColor=O,k.appendChild(M.childNodes[0]),this.defs.appendChild(k),"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(S++),i=e[3];switch(e[1]){case"axial":var a=e[4],o=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",a[0]),t.setAttributeNS(null,"y1",a[1]),t.setAttributeNS(null,"x2",o[0]),t.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=e[4],c=e[5],u=e[6],d=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",d),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",u);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var h,f=l(i);try{for(f.s();!(h=f.n()).done;){var p=h.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",p[0]),g.setAttributeNS(null,"stop-color",p[1]),t.appendChild(g)}}catch(m){f.e(m)}finally{f.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,i=this.current,a=i.x,o=i.y,s=[],c=0,u=l(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case r.OPS.rectangle:a=t[c++],o=t[c++];var d=a+t[c++],h=o+t[c++];s.push("M",g(a),g(o),"L",g(d),g(o),"L",g(d),g(h),"L",g(a),g(h),"Z");break;case r.OPS.moveTo:a=t[c++],o=t[c++],s.push("M",g(a),g(o));break;case r.OPS.lineTo:a=t[c++],o=t[c++],s.push("L",g(a),g(o));break;case r.OPS.curveTo:a=t[c+4],o=t[c+5],s.push("C",g(t[c]),g(t[c+1]),g(t[c+2]),g(t[c+3]),g(a),g(o)),c+=6;break;case r.OPS.curveTo2:s.push("C",g(a),g(o),g(t[c]),g(t[c+1]),g(t[c+2]),g(t[c+3])),a=t[c+2],o=t[c+3],c+=4;break;case r.OPS.curveTo3:a=t[c+2],o=t[c+3],s.push("C",g(t[c]),g(t[c+1]),g(a),g(o),g(a),g(o)),c+=4;break;case r.OPS.closePath:s.push("Z")}}catch(f){u.e(f)}finally{u.f()}s=s.join(" "),i.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?s=i.path.getAttributeNS(null,"d")+s:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",s),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(a,o)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(x++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",m(this.transformMatrix));var r=e.element.cloneNode(!0);if(r.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl){e.clipGroup=null;var i,a=l(this.extraStack);try{for(a.s();!(i=a.n()).done;)i.value.clipGroup=null}catch(o){a.e(o)}finally{a.f()}n.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){var i=s(t.value,2),a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(a))}}}catch(c){n.e(c)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map(function(e){return t*e})),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",g(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",g(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(g).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",g(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,i=w(e,this.forceDataSchema,!!t),a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width",g(n)),a.setAttributeNS(null,"height",g(r)),this.current.element=a,this.clip("nonzero");var o=this.svgFactory.createElement("svg:image");o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",g(-r)),o.setAttributeNS(null,"width",g(n)+"px"),o.setAttributeNS(null,"height",g(r)+"px"),o.setAttributeNS(null,"transform","scale(".concat(g(1/n)," ").concat(g(-1/r),")")),t?t.appendChild(o):this._ensureTransformGroup().appendChild(o)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,i=t.fillColor;t.maskId="mask".concat(k++);var a=this.svgFactory.createElement("svg:mask");a.setAttributeNS(null,"id",t.maskId);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",g(n)),o.setAttributeNS(null,"height",g(r)),o.setAttributeNS(null,"fill",i),o.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(a),this._ensureTransformGroup().appendChild(o),this.paintInlineImageXObject(e,a)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",t[0]),i.setAttributeNS(null,"y",t[1]),i.setAttributeNS(null,"width",g(n)),i.setAttributeNS(null,"height",g(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",m(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var r=n(4),i=n(130);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.XfaLayer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"setupStorage",value:function(e,t,n,r,i){var a=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",function(e){r.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",function(e){r.setValue(t,{value:e.target.getAttribute(e.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",function(e){r.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){var s,l=o(n.children);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.attributes.value===a.value&&(c.attributes.selected=!0)}}catch(u){l.e(u)}finally{l.f()}}e.addEventListener("input",function(e){var n=e.target.options;r.setValue(t,{value:-1===n.selectedIndex?"":n[n.selectedIndex].value})})}}},{key:"setAttributes",value:function(e){var t,n=e.html,i=e.element,o=e.storage,s=void 0===o?null:o,l=e.intent,c=e.linkService,u=i.attributes,d=n instanceof HTMLAnchorElement;"radio"===u.type&&(u.name="".concat(u.name,"-").concat(l));for(var h=0,f=Object.entries(u);h<f.length;h++){var p=a(f[h],2),g=p[0],m=p[1];if(null!=m&&"dataId"!==g)if("style"!==g)if("textContent"===g)n.textContent=m;else if("class"===g)n.setAttribute(g,m.join(" "));else{if(d&&("href"===g||"newWindow"===g))continue;n.setAttribute(g,m)}else Object.assign(n.style,m)}d&&(c.addLinkAttributes||(0,r.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(t=c.addLinkAttributes)||void 0===t||t.call(c,n,u.href,u.newWindow)),s&&u.dataId&&this.setupStorage(n,u.dataId,i,s)}},{key:"render",value:function(e){var t=e.annotationStorage,n=e.linkService,r=e.xfa,s=e.intent||"display",l=document.createElement(r.name);r.attributes&&this.setAttributes({html:l,element:r,intent:s,linkService:n});var c=[[r,-1,l]],u=e.div;u.appendChild(l);var d="matrix(".concat(e.viewport.transform.join(","),")");u.style.transform=d,u.setAttribute("class","xfaLayer xfaFont");for(var h=[];c.length>0;){var f,p=a(c[c.length-1],3),g=p[0],m=p[2];if(p[1]+1!==g.children.length){var v=g.children[++c[c.length-1][1]];if(null!==v){var y=v.name;if("#text"!==y){var b=void 0;if(b=null!=v&&null!==(f=v.attributes)&&void 0!==f&&f.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y),m.appendChild(b),v.attributes&&this.setAttributes({html:b,element:v,storage:t,intent:s,linkService:n}),v.children&&v.children.length>0)c.push([v,-1,b]);else if(v.value){var _=document.createTextNode(v.value);i.XfaText.shouldBuildText(y)&&h.push(_),b.appendChild(_)}}else{var w=document.createTextNode(v.value);h.push(w),m.appendChild(w)}}}else c.pop()}var A,x=o(u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(x.s();!(A=x.n()).done;)A.value.setAttribute("readOnly",!0)}catch(k){x.e(k)}finally{x.f()}return{textDivs:h}}},{key:"update",value:function(e){var t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}])&&c(t,n),e}()},(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i,a=(i=n(2))&&i.__esModule?i:{default:i},o=n(4),s=n(137);function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)})}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}var b=__webpack_require__(2767),_=__webpack_require__(8251),w=__webpack_require__(7677),A=__webpack_require__(1543),x=/^file:\/\/\/[a-zA-Z]:\//;t.PDFNodeStream=function(){function e(t){var n,r;m(this,e),this.source=t,this.url="file:"===(r=A.parse(n=t.url)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?A.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return y(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O(this):new P(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new M(this,e,t):new T(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}}}]),e}();var k=function(){function e(t){m(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}var t;return y(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=p(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),S=function(){function e(t){m(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!t.source.disableStream}var t;return y(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=p(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,o.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",function(){t._readCapability.resolve()}),e.on("end",function(){e.destroy(),t._done=!0,t._readCapability.resolve()}),e.on("error",function(e){t._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function C(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var P=function(e){l(n,e);var t=u(n);function n(e){var r;m(this,n);var i=function(t){if(404===t.statusCode){var n=new o.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(t);var i=function(e){return r._readableStream.headers[e.toLowerCase()]},a=(0,s.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=a.suggestedLength;r._isRangeSupported=a.allowRangeRequests,r._contentLength=l||r._contentLength,r._filename=(0,s.extractFilenameFromHeader)(i)};return(r=t.call(this,e))._request=null,r._request="http:"===r._url.protocol?_.request(C(r._url,e.httpHeaders),i):w.request(C(r._url,e.httpHeaders),i),r._request.on("error",function(e){r._storedError=e,r._headersCapability.reject(e)}),r._request.end(),r}return n}(k),T=function(e){l(n,e);var t=u(n);function n(e,r,i){var a;for(var s in m(this,n),(a=t.call(this,e))._httpHeaders={},e.httpHeaders){var l=e.httpHeaders[s];void 0!==l&&(a._httpHeaders[s]=l)}a._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var c=function(e){if(404!==e.statusCode)a._setReadableStream(e);else{var t=new o.MissingPDFException('Missing PDF "'.concat(a._url,'".'));a._storedError=t}};return a._request=null,a._request="http:"===a._url.protocol?_.request(C(a._url,a._httpHeaders),c):w.request(C(a._url,a._httpHeaders),c),a._request.on("error",function(e){a._storedError=e}),a._request.end(),a}return n}(S),O=function(e){l(n,e);var t=u(n);function n(e){var r;m(this,n),r=t.call(this,e);var i=decodeURIComponent(r._url.path);return x.test(r._url.href)&&(i=i.replace(/^\//,"")),b.lstat(i,function(e,t){if(e)return"ENOENT"===e.code&&(e=new o.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(b.createReadStream(i)),r._headersCapability.resolve()}),r}return n}(k),M=function(e){l(n,e);var t=u(n);function n(e,r,i){var a;m(this,n),a=t.call(this,e);var o=decodeURIComponent(a._url.path);return x.test(a._url.href)&&(o=o.replace(/^\//,"")),a._setReadableStream(b.createReadStream(o,{start:r,end:i-1})),a}return n}(S)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,i.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if((0,a.isPdfFile)(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,i=e.rangeChunkSize,a=e.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(o.suggestedLength=s,s<=2*i||a||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(4),i=n(138),a=n(1)},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=s("filename\\*","i").exec(e);if(n){var a=u(n=n[1]);return c(a=h(a=d(a=unescape(a))))}if(n=function(e){for(var t,n=[],r=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var a=i(t,4),o=a[1],l=a[2],c=a[3];if((o=parseInt(o,10))in n){if(0===o)break}else n[o]=[l,c]}for(var h=[],f=0;f<n.length&&f in n;++f){var p=i(n[f],2),g=p[0],m=p[1];m=u(m),g&&(m=unescape(m),0===f&&(m=d(m))),h.push(m)}return h.join("")}(e))return c(h(n));if(n=s("filename","i").exec(e)){var o=u(n=n[1]);return c(o=h(o))}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function l(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(e,{fatal:!0}),a=(0,r.stringToBytes)(n);n=i.decode(a),t=!1}catch(o){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(s){}}}return n}function c(e){return t&&/[\x80-\xff]/.test(e)&&(e=l("utf-8",e),t&&(e=l("iso-8859-1",e))),e}function u(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function d(e){var t=e.indexOf("'");return-1===t?e:l(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function h(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,r){if("q"===n||"Q"===n)return l(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{r=atob(r)}catch(i){}return l(t,r)})}return""};var r=n(4);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(137);function s(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)})}}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(this,e),this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var i in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var a=this.httpHeaders[i];void 0!==a&&t.setRequestHeader(i,a)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n,r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===r.status&&this.isHttp){var i;null===(i=n.onError)||void 0===i||i.call(n,r.status)}else{var o=r.status||200;if(200===o&&206===n.expectedStatus||o===n.expectedStatus){var s=function(e){var t=e.response;return"string"!=typeof t?t:(0,a.stringToBytes)(t).buffer}(r);if(206===o){var l=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);n.onDone({begin:parseInt(c[1],10),chunk:s})}else if(s)n.onDone({begin:0,chunk:s});else{var u;null===(u=n.onError)||void 0===u||u.call(n,r.status)}}else{var d;null===(d=n.onError)||void 0===d||d.call(n,r.status)}}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}();t.PDFNetworkStream=function(){function e(t){d(this,e),this._source=t,this._manager=new p(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new m(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);var n,r=c(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;)n.value.cancel(e)}catch(i){r.e(i)}finally{r.f()}}}]),e}();var g=function(){function e(t,n){d(this,e),this._manager=t;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(r),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var t;return f(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.suggestedLength;r.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(e){this._storedError=(0,o.createResponseStatusError)(e,this._url),this._headersReceivedCapability.reject(this._storedError);var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e);var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),m=function(){function e(t,n,r){d(this,e),this._manager=t;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}var t;return f(e,[{key:"_close",value:function(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;var n,r=c(this._requests);try{for(r.s();!(n=r.n()).done;)n.value.resolve({value:void 0,done:!0})}catch(i){r.e(i)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(e){this._storedError=(0,o.createResponseStatusError)(e,this._url);var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(e){var t;this.isStreamingSupported||null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){e.next=6;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 6:if(!this._done){e.next=8;break}return e.abrupt("return",{value:void 0,done:!0});case 8:return n=(0,a.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 11:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._done=!0;var t,n=c(this._requests);try{for(n.s();!(t=n.n()).done;)t.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(137);function s(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)})}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function f(e,t,n){return{method:"GET",headers:e,signal:null==n?void 0:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function p(e){var t=new Headers;for(var n in e){var r=e[n];void 0!==r&&t.append(n,r)}return t}t.PDFFetchStream=function(){function e(t){u(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return h(e,[{key:"_progressiveDataLength",get:function(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}},{key:"getFullReader",value:function(){return(0,a.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new m(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(t=n.n()).done;)t.value.cancel(e)}catch(r){n.e(r)}finally{n.f()}}}]),e}();var g=function(){function e(t){var n=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var r=t.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,a.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=p(this._stream.httpHeaders);var i=r.url;fetch(i,f(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,i);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},r=(0,o.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),s=r.suggestedLength;n._isRangeSupported=r.allowRangeRequests,n._contentLength=s||n._contentLength,n._filename=(0,o.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new a.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var t;return h(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}(),m=function(){function e(t,n,r){var i=this;u(this,e),this._stream=t,this._reader=null,this._loaded=0;var s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=(0,a.createPromiseCapability)(),this._isStreamingSupported=!s.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var l=s.url;fetch(l,f(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,o.validateResponseStatus)(e.status))throw(0,o.createResponseStatusError)(e.status,l);i._readCapability.resolve(),i._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}var t;return h(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=l(i.default.mark(function e(){var t,n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(n=(t=e.sent).value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}()}],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLinkAttributes",{enumerable:!0,get:function(){return t.addLinkAttributes}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return t.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return t.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return t.getXfaPageViewport}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return t.isPdfFile}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return t.LinkTarget}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return t.loadScript}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return t.PDFDateString}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return t.PixelsPerInch}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return t.RenderingCancelledException}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(e,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(e,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(e,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(e,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return l.SVGGraphics}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(119),i=__w_pdfjs_require__(131),a=__w_pdfjs_require__(125),o=__w_pdfjs_require__(6),s=__w_pdfjs_require__(133),l=__w_pdfjs_require__(134),c=__w_pdfjs_require__(135);if(o.isNodeJS){var u=__w_pdfjs_require__(136).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(e){return new u(e)})}else{var d=__w_pdfjs_require__(139).PDFNetworkStream,h=__w_pdfjs_require__(140).PDFFetchStream;(0,r.setPDFNetworkStreamFactory)(function(e){return(0,t.isValidFetchUrl)(e.url)?new h(e):new d(e)})}})(),__webpack_exports__})()},module.exports=factory()},2917:function(e,t,n){var r;r=function(){return(()=>{"use strict";var e=[,(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAnnotationLayerFactory=t.AnnotationLayerBuilder=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(5),s=n(6);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}var p=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,i=t.linkService,a=t.downloadManager,s=t.annotationStorage,l=void 0===s?null:s,c=t.imageResourcesPath,u=void 0===c?"":c,h=t.renderForms,f=void 0===h||h,p=t.l10n,g=void 0===p?o.NullL10n:p,m=t.enableScripting,v=void 0!==m&&m,y=t.hasJSActionsPromise,b=void 0===y?null:y,_=t.fieldObjectsPromise,w=void 0===_?null:_,A=t.mouseState,x=void 0===A?null:A;d(this,e),this.pageDiv=n,this.pdfPage=r,this.linkService=i,this.downloadManager=a,this.imageResourcesPath=u,this.renderForms=f,this.l10n=g,this.annotationStorage=l,this.enableScripting=v,this._hasJSActionsPromise=b,this._fieldObjectsPromise=w,this._mouseState=x,this.div=null,this._cancelled=!1}var t,n;return f(e,[{key:"render",value:(t=i.default.mark(function e(t){var n,r,o,s,c,u,d,h,f=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"display",e.next=3,Promise.all([this.pdfPage.getAnnotations({intent:n}),this._hasJSActionsPromise,this._fieldObjectsPromise]);case 3:if(r=l(e.sent,3),o=r[0],c=void 0!==(s=r[1])&&s,d=void 0===(u=r[2])?null:u,!this._cancelled&&0!==o.length){e.next=12;break}return e.abrupt("return");case 12:h={viewport:t.clone({dontFlip:!0}),div:this.div,annotations:o,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:c,fieldObjects:d,mouseState:this._mouseState},this.div?a.AnnotationLayer.update(h):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),h.div=this.div,a.AnnotationLayer.render(h),this.l10n.translate(this.div));case 14:case"end":return e.stop()}},e,this)}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)})},function(e){return n.apply(this,arguments)})},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),e}();t.AnnotationLayerBuilder=p,t.DefaultAnnotationLayerFactory=function(){function e(){d(this,e)}return f(e,[{key:"createAnnotationLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:o.NullL10n,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new p({pageDiv:e,pdfPage:t,imageResourcesPath:r,renderForms:i,linkService:new s.SimpleLinkService,l10n:a,annotationStorage:n,enableScripting:l,hasJSActionsPromise:c,fieldObjectsPromise:d,mouseState:u})}}]),e}()},(e,t,n)=>{e.exports=n(3)},(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=Object.create((t&&t.prototype instanceof v?t:v).prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r=h;return function(i,a){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=d(e,t,n);if("normal"===l.type){if(r=n.done?g:f,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=g,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};c(_,o,function(){return this});var w=Object.getPrototypeOf,A=w&&w(w(M([])));A&&A!==n&&i.call(A,o)&&(_=A);var x=b.prototype=v.prototype=Object.create(_);function k(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function S(e,t){function n(a,o,s,l){var c=d(e[a],e,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"===r(h)&&i.call(h,"__await")?t.resolve(h.__await).then(function(e){n("next",e,s,l)},function(e){n("throw",e,s,l)}):t.resolve(h).then(function(e){u.value=e,s(u)},function(e){return n("throw",e,s,l)})}l(c.arg)}var a;this._invoke=function(e,r){function i(){return new t(function(t,i){n(e,r,t,i)})}return a=a?a.then(i,i):i()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function M(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return y.prototype=b,c(x,"constructor",b),c(b,"constructor",y),y.displayName=c(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(S.prototype),c(S.prototype,s,function(){return this}),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},k(x),c(x,l,"Generator"),c(x,o,function(){return this}),c(x,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:M(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}("object"===r(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=i}catch(a){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},e=>{var t;t="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(1465),e.exports=t},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fixupLangCode=function(e){return c[null==e?void 0:e.toLowerCase()]||e},t.getL10nFallback=l,t.NullL10n=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function a(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}var s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function l(e,t){switch(e){case"find_match_count":e="find_match_count[".concat(1===t.total?"one":"other","]");break;case"find_match_count_limit":e="find_match_count_limit[".concat(1===t.limit?"one":"other","]")}return s[e]||""}var c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function u(e,t){return t?e.replace(/\{\{\s*(\w+)\s*\}\}/g,function(e,n){return n in t?t[n]:"{{"+n+"}}"}):e}t.NullL10n={getLanguage:function(){return o(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","en-us");case 1:case"end":return e.stop()}},e)}))()},getDirection:function(){return o(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","ltr");case 1:case"end":return e.stop()}},e)}))()},get:function(e){var t=arguments;return o(i.default.mark(function n(){var r,a;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:null,a=t.length>2&&void 0!==t[2]?t[2]:l(e,r),n.abrupt("return",u(a,r));case 3:case"end":return n.stop()}},n)}))()},translate:function(e){return o(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}}},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(7);function s(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)})}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}t.PDFLinkService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.eventBus,r=t.externalLinkTarget,i=void 0===r?null:r,a=t.externalLinkRel,o=void 0===a?null:a,s=t.ignoreDestinationZoom,l=void 0!==s&&s;u(this,e),this.eventBus=n,this.externalLinkTarget=i,this.externalLinkRel=o,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=l,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var t;return h(e,[{key:"setDocument",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=t,this.pdfDocument=e,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setHistory",value:function(e){this.pdfHistory=e}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(e){this.pdfViewer.currentPageNumber=e}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(e){this.pdfViewer.pagesRotation=e}},{key:"_goToDestinationHelper",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,a=i[0];if("object"===c(a)&&null!==a){if(null===(t=this._cachedPageNumber(a)))return void this.pdfDocument.getPageIndex(a).then(function(t){n.cachePageRef(t+1,a),n._goToDestinationHelper(e,r,i)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid page reference, for dest="'.concat(e,'".'))})}else{if(!Number.isInteger(a))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(a,'" is not ')+'a valid destination reference, for dest="'.concat(e,'".'));t=a+1}!t||t<1||t>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(t,'" is not ')+'a valid page number, for dest="'.concat(e,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:i,pageNumber:t})),this.pdfViewer.scrollPageIntoView({pageNumber:t,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(t=l(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdfDocument){e.next=2;break}return e.abrupt("return");case 2:if("string"!=typeof t){e.next=9;break}return n=t,e.next=6,this.pdfDocument.getDestination(t);case 6:r=e.sent,e.next=13;break;case 9:return n=null,e.next=12,t;case 12:r=e.sent;case 13:if(Array.isArray(r)){e.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(r,'" is not ')+'a valid destination array, for dest="'.concat(t,'".')),e.abrupt("return");case 16:this._goToDestinationHelper(t,n,r);case 17:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){if(this.pdfDocument){var t="string"==typeof e&&this.pdfViewer.pageLabelToPageNumber(e)||0|e;Number.isInteger(t)&&t>0&&t<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})):console.error('PDFLinkService.goToPage: "'.concat(e,'" is not a valid page.'))}}},{key:"addLinkAttributes",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,a.addLinkAttributes)(e,{url:t,target:n?a.LinkTarget.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(e){if("string"==typeof e){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){var t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(e){return(this.baseUrl||"")+e}},{key:"setHash",value:function(e){var t,n;if(this.pdfDocument)if(e.includes("=")){var r=(0,o.parseQueryString)(e);if(r.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.get("search").replace(/"/g,""),phraseSearch:"true"===r.get("phrase")}),r.has("page")&&(t=0|r.get("page")||1),r.has("zoom")){var i=r.get("zoom").split(","),a=i[0],s=parseFloat(a);a.includes("Fit")?"Fit"===a||"FitB"===a?n=[null,{name:a}]:"FitH"===a||"FitBH"===a||"FitV"===a||"FitBV"===a?n=[null,{name:a},i.length>1?0|i[1]:null]:"FitR"===a?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:a},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error('PDFLinkService.setHash: "'.concat(a,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},i.length>1?0|i[1]:null,i.length>2?0|i[2]:null,s?s/100:a]}n?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:n,allowNegativeOffset:!0}):t&&(this.page=t),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"))}else{n=unescape(e);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(l){}if("string"==typeof n||function(e){if(!Array.isArray(e))return!1;var t=e.length;if(t<2)return!1;var n=e[0];if(!("object"===c(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var r=e[1];if("object"!==c(r)||"string"!=typeof r.name)return!1;var i=!0;switch(r.name){case"XYZ":if(5!==t)return!1;break;case"Fit":case"FitB":return 2===t;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==t)return!1;break;case"FitR":if(6!==t)return!1;i=!1;break;default:return!1}for(var a=2;a<t;a++){var o=e[a];if(!("number"==typeof o||i&&null===o))return!1}return!0}(n))return void this.goToDestination(n);console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(e){var t,n;switch(e){case"GoBack":null===(t=this.pdfHistory)||void 0===t||t.back();break;case"GoForward":null===(n=this.pdfHistory)||void 0===n||n.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:e})}},{key:"cachePageRef",value:function(e,t){if(t){var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);this._pagesRefCache[n]=e}}},{key:"_cachedPageNumber",value:function(e){var t,n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return(null===(t=this._pagesRefCache)||void 0===t?void 0:t[n])||null}},{key:"isPageVisible",value:function(e){return this.pdfViewer.isPageVisible(e)}},{key:"isPageCached",value:function(e){return this.pdfViewer.isPageCached(e)}}]),e}(),t.SimpleLinkService=function(){function e(){u(this,e),this.externalLinkEnabled=!0}var t;return h(e,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(e){}},{key:"rotation",get:function(){return 0},set:function(e){}},{key:"goToDestination",value:(t=l(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"goToPage",value:function(e){}},{key:"addLinkAttributes",value:function(e,t){(0,a.addLinkAttributes)(e,{url:t,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(e){return"#"}},{key:"getAnchorUrl",value:function(e){return"#"}},{key:"setHash",value:function(e){}},{key:"executeNamedAction",value:function(e){}},{key:"cachePageRef",value:function(e,t){}},{key:"isPageVisible",value:function(e){return!0}},{key:"isPageCached",value:function(e){return!0}}]),e}()},(e,t)=>{function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.apiPageLayoutToSpreadMode=function(e){switch(e){case"SinglePage":case"OneColumn":return p.NONE;case"TwoColumnLeft":case"TwoPageLeft":return p.ODD;case"TwoColumnRight":case"TwoPageRight":return p.EVEN}return p.NONE},t.apiPageModeToSidebarView=function(e){switch(e){case"UseNone":return h.NONE;case"UseThumbs":return h.THUMBS;case"UseOutlines":return h.OUTLINE;case"UseAttachments":return h.ATTACHMENTS;case"UseOC":return h.LAYERS}return h.NONE},t.approximateFraction=function(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,i=1,a=1,o=1;;){var s=r+a,l=i+o;if(l>8)break;n<=s/l?(a=s,o=l):(r=s,i=l)}return n-r/i<a/o-n?n===e?[r,i]:[i,r]:n===e?[a,o]:[o,a]},t.backtrackBeforeAllVisibleElements=m,t.binarySearchFirstItem=g,t.getActiveOrFocusedElement=function(){for(var e=document,t=e.activeElement||e.querySelector(":focus");null!==(n=t)&&void 0!==n&&n.shadowRoot;){var n;t=(e=t.shadowRoot).activeElement||e.querySelector(":focus")}return t},t.getOutputScale=function(e){var t=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.backingStorePixelRatio||1);return{sx:t,sy:t,scaled:1!==t}},t.getPageSizeInches=function(e){var t,n=e.userUnit,r=e.rotate,i=function(e){if(Array.isArray(e))return e}(t=e.view)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),4!==a.length);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t)||u(t,4)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=r%180!=0,o=(i[2]-i[0])/72*n,s=(i[3]-i[1])/72*n;return{width:a?s:o,height:a?o:s}},t.getVisibleElements=function(e){var t=e.scrollEl,n=e.views,r=e.sortByVisibility,i=void 0!==r&&r,a=e.horizontal,o=void 0!==a&&a,s=e.rtl,l=void 0!==s&&s,c=t.scrollTop,u=c+t.clientHeight,d=t.scrollLeft,h=d+t.clientWidth,f=[],p=n.length,v=g(n,o?function(e){var t=e.div,n=t.offsetLeft+t.clientLeft;return l?n<h:n+t.clientWidth>d}:function(e){var t=e.div;return t.offsetTop+t.clientTop+t.clientHeight>c});v>0&&v<p&&!o&&(v=m(v,n,c));for(var y=o?h:-1,b=v;b<p;b++){var _=n[b],w=_.div,A=w.offsetLeft+w.clientLeft,x=w.offsetTop+w.clientTop,k=w.clientWidth,S=w.clientHeight,C=A+k,P=x+S;if(-1===y)P>=u&&(y=P);else if((o?A:x)>y)break;if(!(P<=c||x>=u||C<=d||A>=h)){var T=Math.max(0,c-x)+Math.max(0,P-u),O=(k-(Math.max(0,d-A)+Math.max(0,C-h)))/k;f.push({id:_.id,x:A,y:x,view:_,percent:(S-T)/S*O*100|0,widthPercent:100*O|0})}}var M=f[0],E=f[f.length-1];return i&&f.sort(function(e,t){var n=e.percent-t.percent;return Math.abs(n)>.001?-n:e.id-t.id}),{first:M,last:E,views:f}},t.isPortraitOrientation=function(e){return e.width<=e.height},t.isValidRotation=function(e){return Number.isInteger(e)&&e%90==0},t.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(f).includes(e)&&e!==f.UNKNOWN},t.isValidSpreadMode=function(e){return Number.isInteger(e)&&Object.values(p).includes(e)&&e!==p.UNKNOWN},t.moveToEndOfArray=function(e,t){for(var n=[],r=e.length,i=0,a=0;a<r;++a)t(e[a])?n.push(e[a]):(e[i]=e[a],++i);for(var o=0;i<r;++o,++i)e[i]=n[o]},t.noContextMenuHandler=function(e){e.preventDefault()},t.normalizeWheelEventDelta=function(e){var t=v(e);return 0===e.deltaMode?t/=900:1===e.deltaMode&&(t/=30),t},t.normalizeWheelEventDirection=v,t.parseQueryString=function(e){var t,n=new Map,r=c(e.split("&"));try{for(r.s();!(t=r.n()).done;){var i=t.value.split("="),a=i[0].toLowerCase(),o=i.length>1?i[1]:"";n.set(decodeURIComponent(a),decodeURIComponent(o))}}catch(s){r.e(s)}finally{r.f()}return n},t.roundToDivide=function(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)},t.scrollIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.offsetParent;if(r){for(var i=e.offsetTop+e.clientTop,a=e.offsetLeft+e.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&(r.classList.contains("markedContent")||"hidden"===getComputedStyle(r).overflow);)if(i+=r.offsetTop,a+=r.offsetLeft,!(r=r.offsetParent))return;t&&(void 0!==t.top&&(i+=t.top),void 0!==t.left&&(r.scrollLeft=a+=t.left)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")},t.waitOnEventOrTimeout=function(e){var t=e.target,n=e.name,r=e.delay,i=void 0===r?0:r;return new Promise(function(e,r){if("object"!==l(t)||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function a(r){t instanceof _?t._off(n,o):t.removeEventListener(n,o),c&&clearTimeout(c),e(r)}var o=a.bind(null,y.EVENT);t instanceof _?t._on(n,o):t.addEventListener(n,o);var s=a.bind(null,y.TIMEOUT),c=setTimeout(s,i)})},t.watchScroll=function(e,t){var n=function(n){i||(i=window.requestAnimationFrame(function(){i=null;var n=e.scrollLeft,a=r.lastX;n!==a&&(r.right=n>a),r.lastX=n;var o=e.scrollTop,s=r.lastY;o!==s&&(r.down=o>s),r.lastY=o,t(r)}))},r={right:!0,down:!0,lastX:e.scrollLeft,lastY:e.scrollTop,_eventHandler:n},i=null;return e.addEventListener("scroll",n,!0),r},t.WaitOnType=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RendererType=t.ProgressBar=t.PresentationModeState=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.EventBus=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.AutoPrintRegExp=t.AutomationEventBus=t.animationStarted=void 0,t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.DEFAULT_SCALE_DELTA=1.1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5,t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var h={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=h,t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var f={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};t.ScrollMode=f;var p={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function g(e,t){var n=0,r=e.length-1;if(r<0||!t(e[r]))return e.length;if(t(e[n]))return n;for(;n<r;){var i=n+r>>1;t(e[i])?r=i:n=i+1}return n}function m(e,t,n){if(e<2)return e;var r=t[e].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=t[e-1].div).offsetTop+r.clientTop);for(var a=e-2;a>=0&&!((r=t[a].div).offsetTop+r.clientTop+r.clientHeight<=i);--a)e=a;return e}function v(e){var t=Math.hypot(e.deltaX,e.deltaY),n=Math.atan2(e.deltaY,e.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(t=-t),t}t.SpreadMode=p,t.AutoPrintRegExp=/\bprint\s*\(/;var y={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=y;var b=new Promise(function(e){window.requestAnimationFrame(e)});t.animationStarted=b;var _=function(){function e(){a(this,e),this._listeners=Object.create(null)}return s(e,[{key:"on",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(e,t,{external:!0,once:null==n?void 0:n.once})}},{key:"dispatch",value:function(e,t){var n=this._listeners[e];if(n&&0!==n.length){var r,i,a=c(n.slice(0));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.listener,l=o.external;o.once&&this._off(e,s),l?(r||(r=[])).push(s):s(t)}}catch(h){a.e(h)}finally{a.f()}if(r){var u,d=c(r);try{for(d.s();!(u=d.n()).done;)(0,u.value)(t)}catch(h){d.e(h)}finally{d.f()}r=null}}}},{key:"_on",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(n=this._listeners)[e]||(n[e]=[]);i.push({listener:t,external:!0===(null==r?void 0:r.external),once:!0===(null==r?void 0:r.once)})}},{key:"_off",value:function(e,t){var n=this._listeners[e];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===t)return void n.splice(r,1)}}]),e}();t.EventBus=_,t.AutomationEventBus=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(c,e);var t,o,l=(t=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=i(t);if(o){var a=i(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return r(this,e)});function c(){return a(this,c),l.apply(this,arguments)}return s(c,[{key:"dispatch",value:function(e,t){throw new Error("Not implemented: AutomationEventBus.dispatch")}}]),c}(_),t.ProgressBar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,i=n.width,o=n.units;a(this,e),this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=i||100,this.units=o||"%",this.div.style.height=this.height+this.units,this.percent=0}return s(e,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"percent",get:function(){return this._percent},set:function(e){this._indeterminate=isNaN(e),this._percent=Math.min(Math.max(e,0),100),this._updateBar()}},{key:"setWidth",value:function(e){if(e){var t=e.parentNode.offsetWidth-e.offsetWidth;t>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(t,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),e}()},(e,t)=>{function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeLayerBuilder=t.DefaultStructTreeLayerFactory=void 0;var o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/,l=function(){function e(t){var n=t.pdfPage;r(this,e),this.pdfPage=n}return a(e,[{key:"render",value:function(e){return this._walk(e)}},{key:"_setAttributes",value:function(e,t){void 0!==e.alt&&t.setAttribute("aria-label",e.alt),void 0!==e.id&&t.setAttribute("aria-owns",e.id)}},{key:"_walk",value:function(e){if(!e)return null;var t=document.createElement("span");if("role"in e){var r=e.role,i=r.match(s);i?(t.setAttribute("role","heading"),t.setAttribute("aria-level",i[1])):o[r]&&t.setAttribute("role",o[r])}if(this._setAttributes(e,t),e.children)if(1===e.children.length&&"id"in e.children[0])this._setAttributes(e.children[0],t);else{var a,l=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))){r&&(e=r);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}(e.children);try{for(l.s();!(a=l.n()).done;)t.appendChild(this._walk(a.value))}catch(c){l.e(c)}finally{l.f()}}return t}}]),e}();t.StructTreeLayerBuilder=l,t.DefaultStructTreeLayerFactory=function(){function e(){r(this,e)}return a(e,[{key:"createStructTreeLayerBuilder",value:function(e){return new l({pdfPage:e})}}]),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=t.DefaultTextLayerFactory=void 0;var r=n(4);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}var s=function(){function e(t){var n=t.textLayerDiv,r=t.eventBus,a=t.pageIndex,o=t.viewport,s=t.highlighter,l=void 0===s?null:s,c=t.enhanceTextSelection,u=void 0!==c&&c;i(this,e),this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=a+1,this.viewport=o,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=l,this.enhanceTextSelection=u,this._bindMouse()}return o(e,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var e=document.createElement("div");e.className="endOfContent",this.textLayerDiv.appendChild(e)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs.length=0,null===(e=this.highlighter)||void 0===e||e.setTextMapping(this.textDivs,this.textContentItemsStr);var i=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){var e;t.textLayerDiv.appendChild(i),t._finishRendering(),null===(e=t.highlighter)||void 0===e||e.enable()},function(e){})}}},{key:"cancel",value:function(){var e;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(e=this.highlighter)||void 0===e||e.disable()}},{key:"setTextContentStream",value:function(e){this.cancel(),this.textContentStream=e}},{key:"setTextContent",value:function(e){this.cancel(),this.textContent=e}},{key:"_bindMouse",value:function(){var e=this,t=this.textLayerDiv,n=null;t.addEventListener("mousedown",function(r){if(e.enhanceTextSelection&&e.textLayerRenderTask)return e.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=t.querySelector(".endOfContent");if(i){var a=r.target!==t;if(a=a&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var o=t.getBoundingClientRect(),s=Math.max(0,(r.pageY-o.top)/o.height);i.style.top=(100*s).toFixed(2)+"%"}i.classList.add("active")}}),t.addEventListener("mouseup",function(){if(e.enhanceTextSelection&&e.textLayerRenderTask)n=setTimeout(function(){e.textLayerRenderTask&&e.textLayerRenderTask.expandTextDivs(!1),n=null},300);else{var r=t.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}})}}]),e}();t.TextLayerBuilder=s,t.DefaultTextLayerFactory=function(){function e(){i(this,e)}return o(e,[{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return new s({textLayerDiv:e,pageIndex:t,viewport:n,enhanceTextSelection:r,eventBus:i,highlighter:a})}}]),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=t.DefaultXfaLayerFactory=void 0;var r=n(6),i=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var l=function(){function e(t){var n=t.pageDiv,r=t.pdfPage,i=t.annotationStorage,o=t.linkService,s=t.xfaHtml;a(this,e),this.pageDiv=n,this.pdfPage=r,this.annotationStorage=i,this.linkService=o,this.xfaHtml=s,this.div=null,this._cancelled=!1}return s(e,[{key:"render",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===n){var r={viewport:e.clone({dontFlip:!0}),div:this.div,xfa:this.xfaHtml,page:null,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},a=document.createElement("div");this.pageDiv.appendChild(a),r.div=a;var o=i.XfaLayer.render(r);return Promise.resolve(o)}return this.pdfPage.getXfa().then(function(r){if(t._cancelled||!r)return{textDivs:[]};var a={viewport:e.clone({dontFlip:!0}),div:t.div,xfa:r,page:t.pdfPage,annotationStorage:t.annotationStorage,linkService:t.linkService,intent:n};return t.div?i.XfaLayer.update(a):(t.div=document.createElement("div"),t.pageDiv.appendChild(t.div),a.div=t.div,i.XfaLayer.render(a))}).catch(function(e){console.error(e)})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),e}();t.XfaLayerBuilder=l,t.DefaultXfaLayerFactory=function(){function e(){a(this,e)}return s(e,[{key:"createXfaLayerBuilder",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new l({pageDiv:e,pdfPage:t,annotationStorage:n,linkService:new r.SimpleLinkService,xfaHtml:i})}}]),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var r=n(4),i=n(12);function a(e,t){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=e,n.target="_parent","download"in n&&(n.download=t),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}t.DownloadManager=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._openBlobUrls=new WeakMap}var t;return(t=[{key:"downloadUrl",value:function(e,t){(0,r.createValidAbsoluteUrl)(e,"http://example.com")?a(e+"#pdfjs.action=download",t):console.error("downloadUrl - not a valid URL: ".concat(e))}},{key:"downloadData",value:function(e,t,n){a((0,r.createObjectURL)(e,n,i.compatibilityParams.disableCreateObjectURL),t)}},{key:"openOrDownloadData",value:function(e,t,n){var a=(0,r.isPdfFile)(n),o=a?"application/pdf":"";if(a&&!i.compatibilityParams.disableCreateObjectURL){var s,l=this._openBlobUrls.get(e);l||(l=URL.createObjectURL(new Blob([t],{type:o})),this._openBlobUrls.set(e,l)),s="?file="+encodeURIComponent(l+"#"+n);try{return window.open(s),!0}catch(c){console.error("openOrDownloadData: ".concat(c)),URL.revokeObjectURL(l),this._openBlobUrls.delete(e)}}return this.downloadData(t,n,o),!1}},{key:"download",value:function(e,t,n){i.compatibilityParams.disableCreateObjectURL?this.downloadUrl(t,n):a(URL.createObjectURL(e),n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.OptionKind=t.compatibilityParams=t.AppOptions=void 0;var i=Object.create(null);t.compatibilityParams=i;var a="undefined"!=typeof navigator&&navigator.userAgent||"",o="undefined"!=typeof navigator&&navigator.platform||"",s="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,l=/Android/.test(a),c=/\b(iPad|iPhone|iPod)(?=;)/.test(a)||"MacIntel"===o&&s>1;/CriOS/.test(a)&&(i.disableCreateObjectURL=!0),(c||l)&&(i.maxCanvasPixels=5242880);var u={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=u;var d={annotationMode:{value:2,kind:u.VIEWER+u.PREFERENCE},cursorToolOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:u.VIEWER},defaultZoomValue:{value:"",kind:u.VIEWER+u.PREFERENCE},disableHistory:{value:!1,kind:u.VIEWER},disablePageLabels:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePermissions:{value:!1,kind:u.VIEWER+u.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:u.VIEWER+u.PREFERENCE},enableScripting:{value:!0,kind:u.VIEWER+u.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:u.VIEWER},externalLinkTarget:{value:0,kind:u.VIEWER+u.PREFERENCE},historyUpdateUrl:{value:!1,kind:u.VIEWER+u.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:u.VIEWER+u.PREFERENCE},imageResourcesPath:{value:"./images/",kind:u.VIEWER},maxCanvasPixels:{value:16777216,compatibility:i.maxCanvasPixels,kind:u.VIEWER},pdfBugEnabled:{value:!1,kind:u.VIEWER+u.PREFERENCE},printResolution:{value:150,kind:u.VIEWER},renderer:{value:"canvas",kind:u.VIEWER},sidebarViewOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},scrollModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},spreadModeOnLoad:{value:-1,kind:u.VIEWER+u.PREFERENCE},textLayerMode:{value:1,kind:u.VIEWER+u.PREFERENCE},useOnlyCssZoom:{value:!1,kind:u.VIEWER+u.PREFERENCE},viewerCssTheme:{value:0,kind:u.VIEWER+u.PREFERENCE},viewOnLoad:{value:0,kind:u.VIEWER+u.PREFERENCE},cMapPacked:{value:!0,kind:u.API},cMapUrl:{value:"../web/cmaps/",kind:u.API},disableAutoFetch:{value:!1,kind:u.API+u.PREFERENCE},disableFontFace:{value:!1,kind:u.API+u.PREFERENCE},disableRange:{value:!1,kind:u.API+u.PREFERENCE},disableStream:{value:!1,kind:u.API+u.PREFERENCE},docBaseUrl:{value:"",kind:u.API},enableXfa:{value:!0,kind:u.API+u.PREFERENCE},fontExtraProperties:{value:!1,kind:u.API},isEvalSupported:{value:!0,kind:u.API},maxImageSize:{value:-1,kind:u.API},pdfBug:{value:!1,kind:u.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:u.API},verbosity:{value:1,kind:u.API},workerPort:{value:null,kind:u.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:u.WORKER}};d.disablePreferences={value:!1,kind:u.VIEWER},d.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:u.VIEWER},d.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:u.VIEWER},d.renderer.kind+=u.PREFERENCE;var h=Object.create(null);t.AppOptions=function(){function e(){throw function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),new Error("Cannot initialize AppOptions.")}var t,i;return t=e,(i=[{key:"get",value:function(e){var t=h[e];if(void 0!==t)return t;var n,r=d[e];return void 0!==r?null!==(n=r.compatibility)&&void 0!==n?n:r.value:void 0}},{key:"getAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object.create(null);for(var r in d){var i,a=d[r];if(e){if(0==(e&a.kind))continue;if(e===u.PREFERENCE){var o=a.value,s=n(o);if("boolean"===s||"string"===s||"number"===s&&Number.isInteger(o)){t[r]=o;continue}throw new Error("Invalid type for preference: ".concat(r))}}var l=h[r];t[r]=void 0!==l?l:null!==(i=a.compatibility)&&void 0!==i?i:a.value}return t}},{key:"set",value:function(e,t){h[e]=t}},{key:"setAll",value:function(e){for(var t in e)h[t]=e[t]}},{key:"remove",value:function(e){delete h[e]}},{key:"_hasUserOptions",value:function(){return Object.keys(h).length>0}}])&&r(t,i),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};n(14);var a=n(5);function o(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)})}}var l=document.webL10n;t.GenericL10n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._lang=t,this._ready=new Promise(function(e,n){l.setLanguage((0,a.fixupLangCode)(t),function(){e(l)})})}var t,n,r,o,c,u;return t=e,(n=[{key:"getLanguage",value:(u=s(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getLanguage());case 4:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"getDirection",value:(c=s(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.getDirection());case 4:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"get",value:(o=s(i.default.mark(function e(t){var n,r,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]?o[2]:(0,a.getL10nFallback)(t,n),e.next=4,this._ready;case 4:return e.abrupt("return",e.sent.get(t,n,r));case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"translate",value:(r=s(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return e.abrupt("return",e.sent.translate(t));case 4:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},()=>{document.webL10n=function(e,t,n){var r={},i="",a="textContent",o="",s={},l="loading";function c(e,t,n){t=t||function(e){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",e,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?t(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(i){n()}}function u(e,t,n){var i=r[e];if(!i){if(console.warn("#"+e+" is undefined."),!n)return null;i=n}var a={};for(var o in i){var s=i[o];s=h(s=d(s,t,e,o),t,e),a[o]=s}return a}function d(e,t,n,i){var a=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(e);if(!a||!a.length)return e;var o,l=a[1],c=a[2];return t&&c in t?o=t[c]:c in r&&(o=r[c]),l in s&&(e=(0,s[l])(e,o,n,i)),e}function h(e,t,n){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,function(e,i){return t&&i in t?t[i]:i in r?r[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),e)})}function f(e){var n=function(e){if(!e)return{};var t=e.getAttribute("data-l10n-id"),n=e.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+t)}return{id:t,args:r}}(e);if(n.id){var r=u(n.id,n.args);if(r){if(r[a]){if(0===function(e){if(e.children)return e.children.length;if(void 0!==e.childElementCount)return e.childElementCount;for(var t=0,n=0;n<e.childNodes.length;n++)t+=1===e.nodeType?1:0;return t}(e))e[a]=r[a];else{for(var i=e.childNodes,o=!1,s=0,l=i.length;s<l;s++)3===i[s].nodeType&&/\S/.test(i[s].nodeValue)&&(o?i[s].nodeValue="":(i[s].nodeValue=r[a],o=!0));if(!o){var c=t.createTextNode(r[a]);e.insertBefore(c,e.firstChild)}}delete r[a]}for(var d in r)e[d]=r[d]}else console.warn("#"+n.id+" is undefined.")}}return s.plural=function(e,t,n,i){var l=parseFloat(t);if(isNaN(l))return e;if(i!=a)return e;s._pluralRules||(s._pluralRules=function(e){function t(e,t){return-1!==t.indexOf(e)}function n(e,t,n){return t<=e&&e<=n}var r={0:function(e){return"other"},1:function(e){return n(e%100,3,10)?"few":0===e?"zero":n(e%100,11,99)?"many":2==e?"two":1==e?"one":"other"},2:function(e){return 0!==e&&e%10==0?"many":2==e?"two":1==e?"one":"other"},3:function(e){return 1==e?"one":"other"},4:function(e){return n(e,0,1)?"one":"other"},5:function(e){return n(e,0,2)&&2!=e?"one":"other"},6:function(e){return 0===e?"zero":e%10==1&&e%100!=11?"one":"other"},7:function(e){return 2==e?"two":1==e?"one":"other"},8:function(e){return n(e,3,6)?"few":n(e,7,10)?"many":2==e?"two":1==e?"one":"other"},9:function(e){return 0===e||1!=e&&n(e%100,1,19)?"few":1==e?"one":"other"},10:function(e){return n(e%10,2,9)&&!n(e%100,11,19)?"few":e%10!=1||n(e%100,11,19)?"other":"one"},11:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":e%10==0||n(e%10,5,9)||n(e%100,11,14)?"many":e%10==1&&e%100!=11?"one":"other"},12:function(e){return n(e,2,4)?"few":1==e?"one":"other"},13:function(e){return n(e%10,2,4)&&!n(e%100,12,14)?"few":1!=e&&n(e%10,0,1)||n(e%10,5,9)||n(e%100,12,14)?"many":1==e?"one":"other"},14:function(e){return n(e%100,3,4)?"few":e%100==2?"two":e%100==1?"one":"other"},15:function(e){return 0===e||n(e%100,2,10)?"few":n(e%100,11,19)?"many":1==e?"one":"other"},16:function(e){return e%10==1&&11!=e?"one":"other"},17:function(e){return 3==e?"few":0===e?"zero":6==e?"many":2==e?"two":1==e?"one":"other"},18:function(e){return 0===e?"zero":n(e,0,2)&&0!==e&&2!=e?"one":"other"},19:function(e){return n(e,2,10)?"few":n(e,0,1)?"one":"other"},20:function(e){return!n(e%10,3,4)&&e%10!=9||n(e%100,10,19)||n(e%100,70,79)||n(e%100,90,99)?e%1e6==0&&0!==e?"many":e%10!=2||t(e%100,[12,72,92])?e%10!=1||t(e%100,[11,71,91])?"other":"one":"two":"few"},21:function(e){return 0===e?"zero":1==e?"one":"other"},22:function(e){return n(e,0,1)||n(e,11,99)?"one":"other"},23:function(e){return n(e%10,1,2)||e%20==0?"one":"other"},24:function(e){return n(e,3,10)||n(e,13,19)?"few":t(e,[2,12])?"two":t(e,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[e.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+e+"]"),function(){return"other"})}(o));var c="["+s._pluralRules(l)+"]";return 0===l&&n+"[zero]"in r?e=r[n+"[zero]"][i]:1==l&&n+"[one]"in r?e=r[n+"[one]"][i]:2==l&&n+"[two]"in r?e=r[n+"[two]"][i]:n+c in r?e=r[n+c][i]:n+"[other]"in r&&(e=r[n+"[other]"][i]),e},{get:function(e,t,n){var r,i=e.lastIndexOf("."),o=a;i>0&&(o=e.substring(i+1),e=e.substring(0,i)),n&&((r={})[o]=n);var s=u(e,t,r);return s&&o in s?s[o]:"{{"+e+"}}"},getData:function(){return r},getText:function(){return i},getLanguage:function(){return o},setLanguage:function(e,n){!function(e,n){e&&(e=e.toLowerCase()),n=n||function(){},r={},i="",o="",o=e;var s=t.querySelectorAll('link[type="application/l10n"]'),u=s.length;if(0!==u){var d,h,f=0;h=function(){++f>=u&&(n(),l="complete")};for(var p=0;p<u;p++)new y(s[p]).load(e,h)}else{var g=(d=t.querySelector('script[type="application/l10n"]'))?JSON.parse(d.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(r=g.locales[e])){var m=g.default_locale.toLowerCase();for(var v in g.locales){if((v=v.toLowerCase())===e){r=g.locales[e];break}v===m&&(r=g.locales[m])}}n()}else console.log("no resource to load, early way out");l="complete"}function y(e){var t=e.href;this.load=function(e,n){!function(e,t,n,o){var s=e.replace(/[^\/]*$/,"")||"./";function l(e){return e.lastIndexOf("\\")<0?e:e.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(e,function(e){i+=e,function(e,i){var o={},u=/^\s*|\s*$/,d=/^\s*#|^\s*$/,h=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function g(e,n,r){var i=e.replace(u,"").split(/[\r\n]+/),a="*",c=t.split("-",1)[0],g=!1,v="";!function e(){for(;;){if(!i.length)return void r();var u=i.shift();if(!d.test(u)){if(n){if(v=h.exec(u)){a=v[1].toLowerCase(),g="*"!==a&&a!==t&&a!==c;continue}if(g)continue;if(v=f.exec(u))return void m(s+v[1],e)}var y=u.match(p);y&&3==y.length&&(o[y[1]]=l(y[2]))}}}()}function m(e,t){c(e,function(e){g(e,!1,t)},function(){console.warn(e+" not found."),t()})}g(e,!0,function(){!function(e){for(var t in e){var i,o,s=t.lastIndexOf(".");s>0?(i=t.substring(0,s),o=t.substring(s+1)):(i=t,o=a),r[i]||(r[i]={}),r[i][o]=e[t]}n&&n()}(o)})}(e)},o)}(t,e,n,function(){console.warn(t+" not found."),console.warn('"'+e+'" resource not found'),o="",n()})}}}(e,function(){n&&n()})},getDirection:function(){var e=o.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(e)>=0?"rtl":"ltr"},translate:function(e){for(var n=function(e){return e?e.querySelectorAll("*[data-l10n-id]"):[]}(e=e||t.documentElement),r=n.length,i=0;i<r;i++)f(n[i]);f(e)},getReadyState:function(){return l},ready:function(n){n&&("complete"==l||"interactive"==l?e.setTimeout(function(){n()}):t.addEventListener&&t.addEventListener("localized",function e(){t.removeEventListener("localized",e),n()}))}}}(window,document)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var r=n(4),i=n(16),a=n(7);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=u;var d={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},h=null;function f(e){if(!h){var t=Object.keys(d).join("");h=new RegExp("[".concat(t,"]"),"g")}var n=null;return[e.replace(h,function(e,t){var r=d[e],i=r.length-e.length;return 0!==i&&(n||(n=[])).push([t,i]),r}),n]}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return e;var n,r=0,i=s(t);try{for(i.s();!(n=i.n()).done;){var a=o(n.value,2),l=a[0],c=a[1],u=l+r;if(u>=e)break;if(u+c>e){r+=e-u;break}r+=c}}catch(d){i.e(d)}finally{i.f()}return e-r}t.PDFFindController=function(){function e(t){var n=t.linkService,r=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._linkService=n,this._eventBus=r,this._reset(),r._on("findbarclose",this._onFindBarClose.bind(this))}var t;return(t=[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(e){this._pdfDocument&&this._reset(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(e,t){var n=this;if(t){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(e,t))&&(this._dirtyMatch=!0),this._state=t,"findhighlightallchange"!==e&&this._updateUIState(u.PENDING),this._firstPageCapability.promise.then(function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var t=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===e?n._findTimeout=setTimeout(function(){n._nextMatch(),n._findTimeout=null},250):n._dirtyMatch?n._nextMatch():"findagain"===e?(n._nextMatch(),t&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===e?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(e){var t=e.element,n=void 0===t?null:t,r=e.selectedLeft,i=void 0===r?0:r,o=e.pageIndex,s=void 0===o?-1:o,l=e.matchIndex,c=void 0===l?-1:l;this._scrollMatches&&n&&-1!==c&&c===this._selected.matchIdx&&-1!==s&&s===this._selected.pageIdx&&(this._scrollMatches=!1,(0,a.scrollIntoView)(n,{top:-50,left:i+-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var e=o(f(this._state.query),1);this._normalizedQuery=e[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(e,t){if(t.query!==this._state.query)return!0;switch(e){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(e,t,n){function r(t){var n=e[t];if(t<e.length-1&&n.match===e[t+1].match)return n.skipped=!0,!0;for(var r=t-1;r>=0;r--){var i=e[r];if(!i.skipped){if(i.match+i.matchLength<n.match)break;if(i.match+i.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}e.sort(function(e,t){return e.match===t.match?e.matchLength-t.matchLength:e.match-t.match});for(var i=0,a=e.length;i<a;i++)r(i)||(t.push(e[i].match),n.push(e[i].matchLength))}},{key:"_isEntireWord",value:function(e,t,n){if(t>0){var r=e.charCodeAt(t),a=e.charCodeAt(t-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(a))return!1}var o=t+n-1;if(o<e.length-1){var s=e.charCodeAt(o),l=e.charCodeAt(o+1);if((0,i.getCharacterType)(s)===(0,i.getCharacterType)(l))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(e,t,n,r,i){for(var a=[],o=[],s=e.length,l=-s;-1!==(l=n.indexOf(e,l+s));)if(!i||this._isEntireWord(n,l,s)){var c=p(l,r),u=p(l+s-1,r)-c+1;a.push(c),o.push(u)}this._pageMatches[t]=a,this._pageMatchesLength[t]=o}},{key:"_calculateWordMatch",value:function(e,t,n,r,i){for(var a=[],o=e.match(/\S+/g),s=0,l=o.length;s<l;s++)for(var c=o[s],u=c.length,d=-u;-1!==(d=n.indexOf(c,d+u));)if(!i||this._isEntireWord(n,d,u)){var h=p(d,r),f=p(d+u-1,r)-h+1;a.push({match:h,matchLength:f,skipped:!1})}this._pageMatchesLength[t]=[],this._pageMatches[t]=[],this._prepareMatches(a,this._pageMatches[t],this._pageMatchesLength[t])}},{key:"_calculateMatch",value:function(e){var t=this._pageContents[e],n=this._pageDiffs[e],r=this._query,i=this._state,a=i.entireWord,o=i.phraseSearch;if(0!==r.length){i.caseSensitive||(t=t.toLowerCase(),r=r.toLowerCase()),o?this._calculatePhraseMatch(r,e,t,n,a):this._calculateWordMatch(r,e,t,n,a),this._state.highlightAll&&this._updatePage(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this._nextPageMatch());var s=this._pageMatches[e].length;s>0&&(this._matchesCountTotal+=s,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var e=this;if(!(this._extractTextPromises.length>0))for(var t=Promise.resolve(),n=function(n,i){var a=(0,r.createPromiseCapability)();e._extractTextPromises[n]=a.promise,t=t.then(function(){return e._pdfDocument.getPage(n+1).then(function(e){return e.getTextContent({normalizeWhitespace:!0})}).then(function(t){for(var r=t.items,i=[],s=0,l=r.length;s<l;s++)i.push(r[s].str);var c=o(f(i.join("")),2);e._pageContents[n]=c[0],e._pageDiffs[n]=c[1],a.resolve(n)},function(t){console.error("Unable to get text content for page ".concat(n+1),t),e._pageContents[n]="",e._pageDiffs[n]=null,a.resolve(n)})})},i=0,a=this._linkService.pagesCount;i<a;i++)n(i)}},{key:"_updatePage",value:function(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var e=this,t=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)this._pendingFindMatches.has(i)||(this._pendingFindMatches.add(i),this._extractTextPromises[i].then(function(t){e._pendingFindMatches.delete(t),e._calculateMatch(t)}))}if(""!==this._query){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=r,null!==a.matchIdx){if(!t&&a.matchIdx+1<this._pageMatches[a.pageIdx].length||t&&a.matchIdx>0)return a.matchIdx=t?a.matchIdx-1:a.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(t)}this._nextPageMatch()}}else this._updateUIState(u.FOUND)}},{key:"_matchesReady",value:function(e){var t=this._offset,n=e.length,r=this._state.findPrevious;return n?(t.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var e=null;do{var t=this._offset.pageIdx;if(!(e=this._pageMatches[t])){this._resumePageIdx=t;break}}while(!this._matchesReady(e))}},{key:"_advanceOffsetPage",value:function(e){var t=this._offset,n=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=n||t.pageIdx<0)&&(t.pageIdx=e?n-1:0,t.wrapped=!0)}},{key:"_updateMatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=u.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,e){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=n?u.WRAPPED:u.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(t,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(e){var t=this,n=this._pdfDocument;this._firstPageCapability.promise.then(function(){!t._pdfDocument||n&&t._pdfDocument!==n||(t._findTimeout&&(clearTimeout(t._findTimeout),t._findTimeout=null),t._resumePageIdx&&(t._resumePageIdx=null,t._dirtyMatch=!0),t._updateUIState(u.FOUND),t._highlightMatches=!1,t._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var e=this._selected,t=e.pageIdx,n=e.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var a=0;a<t;a++){var o;r+=(null===(o=this._pageMatches[a])||void 0===o?void 0:o.length)||0}r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(e,t){var n,r;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,matchesCount:this._requestMatchesCount(),rawQuery:null!==(n=null===(r=this._state)||void 0===r?void 0:r.query)&&void 0!==n?n:null})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCharacterType=function(e){return function(e){return e<11904}(e)?function(e){return 0==(65408&e)}(e)?function(e){return 32===e||9===e||13===e||10===e}(e)?n.SPACE:function(e){return e>=97&&e<=122||e>=65&&e<=90}(e)||function(e){return e>=48&&e<=57}(e)||95===e?n.ALPHA_LETTER:n.PUNCT:function(e){return 3584==(65408&e)}(e)?n.THAI_LETTER:160===e?n.SPACE:n.ALPHA_LETTER:function(e){return e>=13312&&e<=40959||e>=63744&&e<=64255}(e)?n.HAN_LETTER:function(e){return e>=12448&&e<=12543}(e)?n.KATAKANA_LETTER:function(e){return e>=12352&&e<=12447}(e)?n.HIRAGANA_LETTER:function(e){return e>=65376&&e<=65439}(e)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER},t.CharacterType=void 0;var n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=n},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDestArraysEqual=c,t.isDestHashesEqual=l,t.PDFHistory=void 0;var r=n(7);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){return document.location.hash}function l(e,t){return"string"==typeof e&&"string"==typeof t&&(e===t||(0,r.parseQueryString)(e).get("nameddest")===t)}function c(e,t){function n(e,t){if(i(e)!==i(t))return!1;if(Array.isArray(e)||Array.isArray(t))return!1;if(null!==e&&"object"===i(e)&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!n(e[r],t[r]))return!1;return!0}return e===t||Number.isNaN(e)&&Number.isNaN(t)}if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var r=0,a=e.length;r<a;r++)if(!n(e[r],t[r]))return!1;return!0}t.PDFHistory=function(){function e(t){var n=this,i=t.linkService,a=t.eventBus;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.linkService=i,this.eventBus=a,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(e){n._isViewerInPresentationMode=e.state!==r.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",function(e){n._isPagesLoaded=!!e.pagesCount},{once:!0})})}var t;return(t=[{key:"initialize",value:function(e){var t=e.fingerprint,n=e.resetHistory,r=void 0!==n&&n,i=e.updateUrl,a=void 0!==i&&i;if(t&&"string"==typeof t){this._initialized&&this.reset();var o=""!==this._fingerprint&&this._fingerprint!==t;this._fingerprint=t,this._updateUrl=!0===a,this._initialized=!0,this._bindEvents();var l=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=s(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(l,!0)||r){var c=this._parseCurrentHash(!0),u=c.hash,d=c.page,h=c.rotation;return!u||o||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:u,page:d,rotation:h},!0)}var f=l.destination;this._updateInternalState(f,l.uid,!0),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(e){var t=this,n=e.namedDest,r=void 0===n?null:n,i=e.explicitDest,a=e.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(this._isValidPage(a)||null===a&&!this._destination){var o=r||JSON.stringify(i);if(o){var s=!1;if(this._destination&&(l(this._destination.hash,o)||c(this._destination.dest,i))){if(this._destination.page)return;s=!0}this._popStateInProgress&&!s||(this._pushOrReplaceState({dest:i,hash:o,page:a,rotation:this.linkService.rotation},s),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){t._popStateInProgress=!1})))}}else console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(e){var t,n=this;this._initialized&&(this._isValidPage(e)?(null===(t=this._destination)||void 0===t?void 0:t.page)!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(e),page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){n._popStateInProgress=!1})))):console.error('PDFHistory.pushPage: "'.concat(e,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:e};if(this._updateInternalState(e,i.uid),this._updateUrl&&null!=e&&e.hash){var a=document.location.href.split("#")[0];a.startsWith("file://")||(t="".concat(a,"#").concat(e.hash))}r?window.history.replaceState(i,"",t):window.history.pushState(i,"",t)}},{key:"_tryPushCurrentPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var t=this._position;if(e&&((t=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(t,!0);else if(this._destination.hash!==t.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(void 0!==this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(t,n)}}else this._pushOrReplaceState(t)}}},{key:"_isValidPage",value:function(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}},{key:"_isValidState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!t)return!1;if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),r=a(n,1),o=r[0];if("reload"!==(null==o?void 0:o.type))return!1}return!(!Number.isInteger(e.uid)||e.uid<0)&&null!==e.destination&&"object"===i(e.destination)}},{key:"_updateInternalState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=e&&e.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=unescape(s()).substring(1),n=(0,r.parseQueryString)(t),i=n.get("nameddest")||"",a=0|n.get("page");return(!this._isValidPage(a)||e&&i.length>0)&&(a=null),{hash:t,page:a,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(e){var t=this,n=e.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){t._popStateInProgress||t._tryPushCurrentPosition(!0),t._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(e){var t=this,n=e.state,i=s(),a=this._currentHash!==i;if(this._currentHash=i,n){if(this._isValidState(n)){this._popStateInProgress=!0,a&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){t._blockHashChange--}));var o=n.destination;this._updateInternalState(o,n.uid,!0),(0,r.isValidRotation)(o.rotation)&&(this.linkService.rotation=o.rotation),o.dest?this.linkService.goToDestination(o.dest):o.hash?this.linkService.setHash(o.hash):o.page&&(this.linkService.page=o.page),Promise.resolve().then(function(){t._popStateInProgress=!1})}}else{this._uid++;var l=this._parseCurrentHash();this._pushOrReplaceState({hash:l.hash,page:l.page,rotation:l.rotation},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(7),s=n(12),l=n(5),c=n(19);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){f(a,r,i,o,s,"next",e)}function s(e){f(a,r,i,o,s,"throw",e)}o(void 0)})}}var g=s.compatibilityParams.maxCanvasPixels||16777216;t.PDFPageView=function(){function e(t){var n,r,i,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var u=t.container,d=t.defaultViewport;this.id=t.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=t.scale||o.DEFAULT_SCALE,this.viewport=d,this.pdfPageRotate=d.rotation,this._optionalContentConfigPromise=t.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(n=t.textLayerMode)&&void 0!==n?n:o.TextLayerMode.ENABLE,this._annotationMode=null!==(r=t.annotationMode)&&void 0!==r?r:a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=t.imageResourcesPath||"",this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels||g,this.eventBus=t.eventBus,this.renderingQueue=t.renderingQueue,this.textLayerFactory=t.textLayerFactory,this.annotationLayerFactory=t.annotationLayerFactory,this.xfaLayerFactory=t.xfaLayerFactory,this.textHighlighter=null===(i=t.textHighlighterFactory)||void 0===i?void 0:i.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=t.structTreeLayerFactory,this.renderer=t.renderer||o.RendererType.CANVAS,this.l10n=t.l10n||l.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(s=this.renderingQueue)&&void 0!==s&&s.hasViewer()),this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;var h=document.createElement("div");h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",h.setAttribute("data-page-number",this.id),h.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(e){h.setAttribute("aria-label",e)}),this.div=h,u.appendChild(h)}var t,n,r,h,f;return t=e,(n=[{key:"setPdfPage",value:function(e){this.pdfPage=e,this.pdfPageRotate=e.rotate,this.viewport=e.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(f=p(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.annotationLayer.render(this.viewport,"display");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t=e.t0;case 9:return e.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:t}),e.finish(9);case 12:case"end":return e.stop()}},e,this,[[1,6,9,12]])})),function(){return f.apply(this,arguments)})},{key:"_renderXfaLayer",value:(h=p(i.default.mark(function e(){var t,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,this.xfaLayer.render(this.viewport,"display");case 4:n=e.sent,this.textHighlighter&&this._buildXfaTextContentItems(n.textDivs),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t=e.t0;case 11:return e.prev=11,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:t}),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[1,8,11,14]])})),function(){return h.apply(this,arguments)})},{key:"_buildXfaTextContentItems",value:(r=p(i.default.mark(function e(t){var n,r,a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pdfPage.getTextContent();case 2:n=[],r=d(e.sent.items);try{for(r.s();!(a=r.n()).done;)n.push(a.value.str)}catch(i){r.e(i)}finally{r.f()}this.textHighlighter.setTextMapping(t,n),this.textHighlighter.enable();case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var t=this.zoomLayer.firstChild;this.paintedViewportMap.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var e,t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.keepZoomLayer,a=void 0!==i&&i,o=r.keepAnnotationLayer,s=void 0!==o&&o,l=r.keepXfaLayer,u=void 0!==l&&l;this.cancelRendering({keepAnnotationLayer:s,keepXfaLayer:u}),this.renderingState=c.RenderingStates.INITIAL;var d=this.div;d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px";for(var h=d.childNodes,f=a&&this.zoomLayer||null,p=s&&(null===(e=this.annotationLayer)||void 0===e?void 0:e.div)||null,g=u&&(null===(t=this.xfaLayer)||void 0===t?void 0:t.div)||null,m=h.length-1;m>=0;m--){var v=h[m];switch(v){case f:case p:case g:continue}d.removeChild(v)}d.removeAttribute("data-loaded"),p&&this.annotationLayer.hide(),g&&this.xfaLayer.hide(),f||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(e){var t;null===(t=n.loadingIconDiv)||void 0===t||t.setAttribute("aria-label",e)}),d.appendChild(this.loadingIconDiv)}},{key:"update",value:function(e){var t=e.scale,n=void 0===t?0:t,r=e.rotation,i=void 0===r?null:r,o=e.optionalContentConfigPromise,s=void 0===o?null:o;if("object"!==u(arguments[0]))return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});if(this.scale=n||this.scale,"number"==typeof i&&(this.rotation=i),s instanceof Promise&&(this._optionalContentConfigPromise=s),this._isStandalone){var l=document.documentElement;l.style.setProperty("--zoom-factor",this.scale)}var c=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:c}),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var d=!1;if(this.canvas&&this.maxCanvasPixels>0){var h=this.outputScale;(Math.floor(this.viewport.width)*h.sx|0)*(Math.floor(this.viewport.height)*h.sy|0)>this.maxCanvasPixels&&(d=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&d)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}},{key:"cancelRendering",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.keepAnnotationLayer,r=void 0!==n&&n,i=t.keepXfaLayer,a=void 0!==i&&i;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!this.annotationLayer||r&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null),!this.xfaLayer||a&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(e=this.textHighlighter)||void 0===e||e.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}},{key:"cssTransform",value:function(e){var t=e.target,n=e.redrawAnnotationLayer,r=void 0!==n&&n,i=e.redrawXfaLayer,a=void 0!==i&&i,o=this.viewport.width,s=this.viewport.height,l=this.div;t.style.width=t.parentNode.style.width=l.style.width=Math.floor(o)+"px",t.style.height=t.parentNode.style.height=l.style.height=Math.floor(s)+"px";var c=this.viewport.rotation-this.paintedViewportMap.get(t).rotation,u=Math.abs(c),d=1,h=1;if(90!==u&&270!==u||(d=s/o,h=o/s),t.style.transform="rotate(".concat(c,"deg) scale(").concat(d,", ").concat(h,")"),this.textLayer){var f=this.textLayer.viewport,p=Math.abs(this.viewport.rotation-f.rotation),g=o/f.width;90!==p&&270!==p||(g=o/f.height);var m,v,y=this.textLayer.textLayerDiv;switch(p){case 0:m=v=0;break;case 90:m=0,v="-"+y.style.height;break;case 180:m="-"+y.style.width,v="-"+y.style.height;break;case 270:m="-"+y.style.width,v=0;break;default:console.error("Bad rotation value.")}y.style.transform="rotate(".concat(p,"deg) ")+"scale(".concat(g,") ")+"translate(".concat(m,", ").concat(v,")"),y.style.transformOrigin="0% 0%"}r&&this.annotationLayer&&this._renderAnnotationLayer(),a&&this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(e,t){return this.viewport.convertToPdfPoint(e,t)}},{key:"draw",value:function(){var e,t,n=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var r=this.div,s=this.pdfPage;if(!s)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(r.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;var l=document.createElement("div");l.style.width=r.style.width,l.style.height=r.style.height,l.classList.add("canvasWrapper"),null!==(e=this.annotationLayer)&&void 0!==e&&e.div?r.insertBefore(l,this.annotationLayer.div):r.appendChild(l);var u=null;if(this.textLayerMode!==o.TextLayerMode.DISABLE&&this.textLayerFactory){var d,h=document.createElement("div");h.className="textLayer",h.style.width=l.style.width,h.style.height=l.style.height,null!==(d=this.annotationLayer)&&void 0!==d&&d.div?r.insertBefore(h,this.annotationLayer.div):r.appendChild(h),u=this.textLayerFactory.createTextLayerBuilder(h,this.id-1,this.viewport,this.textLayerMode===o.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=u,null!==(t=this.xfaLayer)&&void 0!==t&&t.div&&r.appendChild(this.xfaLayer.div);var f=null;this.renderingQueue&&(f=function(e){if(!n.renderingQueue.isHighestPriority(n))return n.renderingState=c.RenderingStates.PAUSED,void(n.resume=function(){n.renderingState=c.RenderingStates.RUNNING,e()});e()});var g=function(){var e=p(i.default.mark(function e(){var t,o=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,m===n.paintTask&&(n.paintTask=null),!(t instanceof a.RenderingCancelledException)){e.next=5;break}return n._renderError=null,e.abrupt("return");case 5:if(n._renderError=t,n.renderingState=c.RenderingStates.FINISHED,n.loadingIconDiv&&(r.removeChild(n.loadingIconDiv),delete n.loadingIconDiv),n._resetZoomLayer(!0),n.eventBus.dispatch("pagerendered",{source:n,pageNumber:n.id,cssTransform:!1,timestamp:performance.now(),error:n._renderError}),!t){e.next=12;break}throw t;case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=this.renderer===o.RendererType.SVG?this.paintOnSvg(l):this.paintOnCanvas(l);m.onRenderContinue=f,this.paintTask=m;var v=m.promise.then(function(){return g(null).then(function(){if(u){var e=s.streamTextContent({normalizeWhitespace:!0,includeMarkedContent:!0});u.setTextContentStream(e),u.render()}})},function(e){return g(e)});return this._annotationMode!==a.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,s,null,this.imageResourcesPath,this._annotationMode===a.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(r,s,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=function(e){e.pageNumber===n.id&&(n.eventBus._off("textlayerrendered",n._onTextLayerRendered),n._onTextLayerRendered=null,n.canvas&&n.pdfPage.getStructTree().then(function(e){if(e&&n.canvas){var t=n.structTreeLayer.render(e);t.classList.add("structTree"),n.canvas.appendChild(t)}}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(s)),r.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),v}},{key:"paintOnCanvas",value:function(e){var t=(0,a.createPromiseCapability)(),n={promise:t.promise,onRenderContinue:function(e){e()},cancel:function(){g.cancel()}},r=this.viewport,i=document.createElement("canvas");i.hidden=!0;var s=!0,l=function(){s&&(i.hidden=!1,s=!1)};e.appendChild(i),this.canvas=i,i.mozOpaque=!0;var c=i.getContext("2d",{alpha:!1}),u=(0,o.getOutputScale)(c);if(this.outputScale=u,this.useOnlyCssZoom){var d=r.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});u.sx*=d.width/r.width,u.sy*=d.height/r.height,u.scaled=!0}if(this.maxCanvasPixels>0){var h=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));u.sx>h||u.sy>h?(u.sx=h,u.sy=h,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,o.approximateFraction)(u.sx),p=(0,o.approximateFraction)(u.sy);i.width=(0,o.roundToDivide)(r.width*u.sx,f[0]),i.height=(0,o.roundToDivide)(r.height*u.sy,p[0]),i.style.width=(0,o.roundToDivide)(r.width,f[1])+"px",i.style.height=(0,o.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(i,r);var g=this.pdfPage.render({canvasContext:c,transform:u.scaled?[u.sx,0,0,u.sy,0,0]:null,viewport:this.viewport,annotationMode:this._annotationMode,optionalContentConfigPromise:this._optionalContentConfigPromise});return g.onContinue=function(e){l(),n.onRenderContinue?n.onRenderContinue(e):e()},g.promise.then(function(){l(),t.resolve(void 0)},function(e){l(),t.reject(e)}),n}},{key:"paintOnSvg",value:function(e){var t=this,n=!1,r=function(){if(n)throw new a.RenderingCancelledException("Rendering cancelled, page ".concat(t.id),"svg")},i=this.pdfPage,o=this.viewport.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:this._annotationMode}).then(function(n){return r(),new a.SVGGraphics(i.commonObjs,i.objs,s.compatibilityParams.disableCreateObjectURL).getSVG(n,o).then(function(n){r(),t.svg=n,t.paintedViewportMap.set(n,o),n.style.width=e.style.width,n.style.height=e.style.height,t.renderingState=c.RenderingStates.FINISHED,e.appendChild(n)})}),onRenderContinue:function(e){e()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(e){this.pageLabel="string"==typeof e?e:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderingStates=t.PDFRenderingQueue=void 0;var r=n(4);var i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};t.RenderingStates=i,t.PDFRenderingQueue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var t;return(t=[{key:"setViewer",value:function(e){this.pdfViewer=e}},{key:"setThumbnailViewer",value:function(e){this.pdfThumbnailViewer=e}},{key:"isHighestPriority",value:function(e){return this.highestPriorityPage===e.renderingId}},{key:"hasViewer",value:function(){return!!this.pdfViewer}},{key:"renderHighestPriority",value:function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.views,a=i.length;if(0===a)return null;for(var o=0;o<a;++o){var s=i[o].view;if(!this.isViewFinished(s))return s}var l=n?e.last.id:e.first.id-2,c=t[l];return c&&!this.isViewFinished(c)||r&&(c=t[l+=n?1:-1])&&!this.isViewFinished(c)?c:null}},{key:"isViewFinished",value:function(e){return e.renderingState===i.FINISHED}},{key:"renderView",value:function(e){var t=this;switch(e.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case i.RUNNING:this.highestPriorityPage=e.renderingId;break;case i.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(function(){t.renderHighestPriority()}).catch(function(e){e instanceof r.RenderingCancelledException||console.error('renderView: "'.concat(e,'"'))})}return!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4),o=n(7),s=n(19);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){g(a,r,i,o,s,"next",e)}function s(e){g(a,r,i,o,s,"throw",e)}o(void 0)})}}t.PDFScriptingManager=function(){function e(t){var n=this,r=t.eventBus,i=t.sandboxBundleSrc,a=void 0===i?null:i,o=t.scriptingFactory,s=void 0===o?null:o,l=t.docPropertiesLookup,c=void 0===l?null:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=a,this._scriptingFactory=s,this._docPropertiesLookup=c,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(e){n._eventBus.dispatch("updatefromsandbox",{source:window,detail:e.detail})})}var t,r,l,u,g,v,y,b,_,w,A,x;return t=e,(r=[{key:"setViewer",value:function(e){this._pdfViewer=e}},{key:"setDocument",value:(x=m(i.default.mark(function e(t){var n,r,a,o,s,l,u,f,p,g,v,y,b=this;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._pdfDocument){e.next=3;break}return e.next=3,this._destroyScripting();case 3:if(this._pdfDocument=t,t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Promise.all([t.getFieldObjects(),t.getCalculationOrderIds(),t.getJSActions()]);case 8:if(r=h(e.sent,3),o=r[1],s=r[2],(a=r[0])||s){e.next=17;break}return e.next=16,this._destroyScripting();case 16:return e.abrupt("return");case 17:if(t===this._pdfDocument){e.next=19;break}return e.abrupt("return");case 19:e.prev=19,this._scripting=this._createScripting(),e.next=29;break;case 23:return e.prev=23,e.t0=e.catch(19),console.error('PDFScriptingManager.setDocument: "'.concat(null==e.t0?void 0:e.t0.message,'".')),e.next=28,this._destroyScripting();case 28:return e.abrupt("return");case 29:this._internalEvents.set("updatefromsandbox",function(e){(null==e?void 0:e.source)===window&&b._updateFromSandbox(e.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(e){var t;null===(t=b._scripting)||void 0===t||t.dispatchEventInSandbox(e.detail)}),this._internalEvents.set("pagechanging",function(e){var t=e.pageNumber,n=e.previous;t!==n&&(b._dispatchPageClose(n),b._dispatchPageOpen(t))}),this._internalEvents.set("pagerendered",function(e){var t=e.pageNumber;b._pageOpenPending.has(t)&&t===b._pdfViewer.currentPageNumber&&b._dispatchPageOpen(t)}),this._internalEvents.set("pagesdestroy",function(){var e=m(i.default.mark(function e(t){var n,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b._dispatchPageClose(b._pdfViewer.currentPageNumber);case 2:return e.next=4,null===(n=b._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(r=b._closeCapability)||void 0===r||r.resolve();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(e){b._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(e){b._mouseState.isDown=!1}),l=d(this._internalEvents);try{for(l.s();!(u=l.n()).done;)f=h(u.value,2),this._eventBus._on(f[0],f[1])}catch(_){l.e(_)}finally{l.f()}p=d(this._domEvents);try{for(p.s();!(g=p.n()).done;)v=h(g.value,2),window.addEventListener(v[0],v[1])}catch(_){p.e(_)}finally{p.f()}return e.prev=40,e.next=43,this._getDocProperties();case 43:if(y=e.sent,t===this._pdfDocument){e.next=46;break}return e.abrupt("return");case 46:return e.next=48,this._scripting.createSandbox({objects:a,calculationOrder:o,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:c(c({},y),{},{actions:s})});case 48:this._eventBus.dispatch("sandboxcreated",{source:this}),e.next=57;break;case 51:return e.prev=51,e.t1=e.catch(40),console.error('PDFScriptingManager.setDocument: "'.concat(null==e.t1?void 0:e.t1.message,'".')),e.next=56,this._destroyScripting();case 56:return e.abrupt("return");case 57:return e.next=59,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"Open"});case 59:return e.next=61,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 61:Promise.resolve().then(function(){t===b._pdfDocument&&(b._ready=!0)});case 62:case"end":return e.stop()}},e,this,[[19,23],[40,51]])})),function(e){return x.apply(this,arguments)})},{key:"dispatchWillSave",value:(A=m(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return A.apply(this,arguments)})},{key:"dispatchDidSave",value:(w=m(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return w.apply(this,arguments)})},{key:"dispatchWillPrint",value:(_=m(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"dispatchDidPrint",value:(b=m(i.default.mark(function e(t){var n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)})},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var e;return(null===(e=this._destroyCapability)||void 0===e?void 0:e.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,a.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,a.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,a.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,a.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:(y=m(i.default.mark(function e(t){var n,r,a,s,l,c,u,h,g,m,v;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,a=t.siblings,s=t.command,l=t.value,r=t.id){e.next=43;break}e.t0=s,e.next="clear"===e.t0?6:"error"===e.t0?8:"layout"===e.t0?10:"page-num"===e.t0?12:"print"===e.t0?14:"println"===e.t0?18:"zoom"===e.t0?20:"SaveAs"===e.t0?24:"FirstPage"===e.t0?26:"LastPage"===e.t0?28:"NextPage"===e.t0?30:"PrevPage"===e.t0?32:"ZoomViewIn"===e.t0?34:"ZoomViewOut"===e.t0?38:42;break;case 6:return console.clear(),e.abrupt("break",42);case 8:return console.error(l),e.abrupt("break",42);case 10:return this._pdfViewer.spreadMode=(0,o.apiPageLayoutToSpreadMode)(l),e.abrupt("break",42);case 12:return this._pdfViewer.currentPageNumber=l+1,e.abrupt("break",42);case 14:return e.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),e.abrupt("break",42);case 18:return console.log(l),e.abrupt("break",42);case 20:if(!n){e.next=22;break}return e.abrupt("return");case 22:return this._pdfViewer.currentScaleValue=l,e.abrupt("break",42);case 24:return this._eventBus.dispatch("save",{source:this}),e.abrupt("break",42);case 26:return this._pdfViewer.currentPageNumber=1,e.abrupt("break",42);case 28:return this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount,e.abrupt("break",42);case 30:return this._pdfViewer.nextPage(),e.abrupt("break",42);case 32:return this._pdfViewer.previousPage(),e.abrupt("break",42);case 34:if(!n){e.next=36;break}return e.abrupt("return");case 36:return this._pdfViewer.increaseScale(),e.abrupt("break",42);case 38:if(!n){e.next=40;break}return e.abrupt("return");case 40:return this._pdfViewer.decreaseScale(),e.abrupt("break",42);case 42:return e.abrupt("return");case 43:if(!n){e.next=46;break}if(!t.focus){e.next=46;break}return e.abrupt("return");case 46:delete t.id,delete t.siblings,c=a?[r].concat(function(e){if(Array.isArray(e))return p(e)}(i=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||f(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):[r],u=d(c);try{for(u.s();!(h=u.n()).done;)g=h.value,(m=document.getElementById(g))?m.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:t})):null===(v=this._pdfDocument)||void 0===v||v.annotationStorage.setValue(g,t)}catch(y){u.e(y)}finally{u.f()}case 51:case"end":return e.stop()}var i},e,this)})),function(e){return y.apply(this,arguments)})},{key:"_dispatchPageOpen",value:(v=m(i.default.mark(function e(t){var n,r,o,l,c=this,u=arguments;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._pdfDocument,r=this._visitedPages,u.length>1&&void 0!==u[1]&&u[1]&&(this._closeCapability=(0,a.createPromiseCapability)()),this._closeCapability){e.next=5;break}return e.abrupt("return");case 5:if((null==(o=this._pdfViewer.getPageView(t-1))?void 0:o.renderingState)===s.RenderingStates.FINISHED){e.next=9;break}return this._pageOpenPending.add(t),e.abrupt("return");case 9:this._pageOpenPending.delete(t),l=m(i.default.mark(function e(){var a,s,l;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.has(t)?null:null===(a=o.pdfPage)||void 0===a?void 0:a.getJSActions();case 2:if(l=e.sent,n===c._pdfDocument){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,null===(s=c._scripting)||void 0===s?void 0:s.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:t,actions:l});case 7:case"end":return e.stop()}},e)}))(),r.set(t,l);case 12:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"_dispatchPageClose",value:(g=m(i.default.mark(function e(t){var n,r,a,o;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._pdfDocument,a=this._visitedPages,this._closeCapability){e.next=3;break}return e.abrupt("return");case 3:if(!this._pageOpenPending.has(t)){e.next=5;break}return e.abrupt("return");case 5:if(o=a.get(t)){e.next=8;break}return e.abrupt("return");case 8:return a.set(t,null),e.next=11,o;case 11:if(r===this._pdfDocument){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:t});case 15:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"_getDocProperties",value:(u=m(i.default.mark(function e(){var t;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._docPropertiesLookup){e.next=2;break}return e.abrupt("return",this._docPropertiesLookup(this._pdfDocument));case 2:return t=n(21),e.abrupt("return",(0,t.docPropertiesLookup)(this._pdfDocument));case 4:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,a.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(0,n(21).GenericScripting)(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:(l=m(i.default.mark(function e(){var t,n,r,a,o,s,l,c;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._scripting){e.next=4;break}return this._pdfDocument=null,null===(n=this._destroyCapability)||void 0===n||n.resolve(),e.abrupt("return");case 4:if(!this._closeCapability){e.next=8;break}return e.next=7,Promise.race([this._closeCapability.promise,new Promise(function(e){setTimeout(e,1e3)})]).catch(function(e){});case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,e.prev=9,e.next=12,this._scripting.destroySandbox();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:r=d(this._internalEvents);try{for(r.s();!(a=r.n()).done;)o=h(a.value,2),this._eventBus._off(o[0],o[1])}catch(i){r.e(i)}finally{r.f()}this._internalEvents.clear(),s=d(this._domEvents);try{for(s.s();!(l=s.n()).done;)c=h(l.value,2),window.removeEventListener(c[0],c[1])}catch(i){s.e(i)}finally{s.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,null===(t=this._destroyCapability)||void 0===t||t.resolve();case 28:case"end":return e.stop()}},e,this,[[9,14]])})),function(){return l.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,r),e}()},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.docPropertiesLookup=function(e){return d.apply(this,arguments)},t.GenericScripting=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},a=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){c(a,r,i,o,s,"next",e)}function s(e){c(a,r,i,o,s,"throw",e)}o(void 0)})}}function d(){return(d=u(i.default.mark(function e(t){var n,r,o,l,c,u,d;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n="").split("#")[0],e.next=3,t.getMetadata();case 3:if(l=(o=e.sent).info,c=o.metadata,u=o.contentDispositionFilename,d=o.contentLength){e.next=14;break}return e.next=11,t.getDownloadInfo();case 11:d=e.sent.length;case 14:return e.abrupt("return",s(s({},l),{},{baseURL:r,filesize:d,filename:u||(0,a.getPdfFilenameFromUrl)(n),metadata:null==c?void 0:c.getRaw(),authors:null==c?void 0:c.get("dc:creator"),numPages:t.numPages,URL:n}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}t.GenericScripting=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ready=(0,a.loadScript)(t,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}var t,n,r,o,s;return t=e,(n=[{key:"createSandbox",value:(s=u(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.create(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(o=u(i.default.mark(function e(t){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.dispatchEvent(t);case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"destroySandbox",value:(r=u(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:e.sent.nukeSandbox();case 4:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}()},(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFSinglePageViewer=void 0;var i=n(23),a=n(4);function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFSinglePageViewer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(u,e);var t,n,r,i=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=c(n);if(r){var i=c(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return l(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).eventBus._on("pagesinit",function(e){t._ensurePageViewVisible()}),t}return(t=[{key:"_viewerElement",get:function(){return(0,a.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){o(c(u.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var e=this._pages[this._currentPageNumber-1],t=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(e.div);break;case 1:if(n[0]!==t.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(e===t)break;this._shadowViewer.appendChild(t.div),this.viewer.appendChild(e.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),o(c(u.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(e){var t=this,n=e.pageDiv,r=e.pageSpot,i=void 0===r?null:r,a=e.pageNumber,s=void 0===a?null:a;s&&this._setCurrentPageNumber(s);var l=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),o(c(u.prototype),"_scrollIntoView",this).call(this,{pageDiv:n,pageSpot:i,pageNumber:s}),this._updateScrollDown=function(){t.scroll.down=l,t._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(e){}},{key:"_isScrollModeHorizontal",get:function(){return(0,a.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(u.prototype,t),u}(i.BaseViewer)},(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseViewer=void 0;var r=n(4),i=n(7),a=n(19),o=n(1),s=n(5),l=n(18),c=n(6),u=n(8),d=n(24),h=n(9),f=n(10);function p(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=[];this.push=function(n){var r=t.indexOf(n);r>=0&&t.splice(r,1),t.push(n),t.length>e&&t.shift().destroy()},this.resize=function(n,r){if(e=n,r){for(var a=new Set,o=0,s=r.length;o<s;++o)a.add(r[o].id);(0,i.moveToEndOfArray)(t,function(e){return a.has(e.id)})}for(;t.length>e;)t.shift().destroy()},this.has=function(e){return t.includes(e)}}function v(e,t){return t===e||Math.abs(t-e)<1e-15}t.BaseViewer=function(){function e(t){var n,o,l,u,d=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.constructor===e)throw new Error("Cannot initialize BaseViewer.");var h="2.11.338";if(r.version!==h)throw new Error('The API version "'.concat(r.version,'" does not match the Viewer version "').concat(h,'".'));if(this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,"DIV"!==(null===(n=this.container)||void 0===n?void 0:n.tagName.toUpperCase())||"DIV"!==(null===(o=this.viewer)||void 0===o?void 0:o.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=t.eventBus,this.linkService=t.linkService||new c.SimpleLinkService,this.downloadManager=t.downloadManager||null,this.findController=t.findController||null,this._scriptingManager=t.scriptingManager||null,this.removePageBorders=t.removePageBorders||!1,this.textLayerMode=null!==(l=t.textLayerMode)&&void 0!==l?l:i.TextLayerMode.ENABLE,this._annotationMode=null!==(u=t.annotationMode)&&void 0!==u?u:r.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=t.imageResourcesPath||"",this.enablePrintAutoRotate=t.enablePrintAutoRotate||!1,this.renderer=t.renderer||i.RendererType.CANVAS,this.useOnlyCssZoom=t.useOnlyCssZoom||!1,this.maxCanvasPixels=t.maxCanvasPixels,this.l10n=t.l10n||s.NullL10n,this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this._doc=document.documentElement,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){d.eventBus.dispatch("baseviewerinit",{source:d})})}var t;return(t=[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(e){return this._pages[e]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(e){return null==e?void 0:e.pdfPage})}},{key:"renderForms",get:function(){return this._annotationMode===r.AnnotationMode.ENABLE_FORMS}},{key:"enableScripting",get:function(){return!!this._scriptingManager}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error('currentPageNumber: "'.concat(e,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===e)return r&&this._resetCurrentPageView(),!0;if(!(0<e&&e<=this.pagesCount))return!1;var i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:null!==(t=null===(n=this._pageLabels)||void 0===n?void 0:n[e-1])&&void 0!==t?t:null,previous:i}),r&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var e,t;return null!==(e=null===(t=this._pageLabels)||void 0===t?void 0:t[this._currentPageNumber-1])&&void 0!==e?e:null},set:function(e){if(this.pdfDocument){var t=0|e;if(this._pageLabels){var n=this._pageLabels.indexOf(e);n>=0&&(t=n+1)}this._setCurrentPageNumber(t,!0)||console.error('currentPageLabel: "'.concat(e,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(e,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(e){this.pdfDocument&&this._setScale(e,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(e){if(!(0,i.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((e%=360)<0&&(e+=360),this._pagesRotation!==e)){this._pagesRotation=e;var t,n=this._currentPageNumber,r={rotation:e},a=p(this._pages);try{for(a.s();!(t=a.n()).done;)t.value.update(r)}catch(o){a.e(o)}finally{a.f()}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:n}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(e){var t=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=e,e){var n=e.isPureXfa,a=e.numPages,o=e.getPage(1),s=e.getOptionalContentConfig();this._pagesCapability.promise.then(function(){t.eventBus.dispatch("pagesloaded",{source:t,pagesCount:a})}),this._onBeforeDraw=function(e){var n=t._pages[e.pageNumber-1];n&&t._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(e){e.cssTransform||t._onePageRenderedCapability.settled||(t._onePageRenderedCapability.resolve(),t.eventBus._off("pagerendered",t._onAfterDraw),t._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),o.then(function(o){t._firstPageCapability.resolve(o),t._optionalContentConfigPromise=s;for(var c=t.currentScale,u=o.getViewport({scale:c*r.PixelsPerInch.PDF_TO_CSS_UNITS}),d=t.textLayerMode===i.TextLayerMode.DISABLE||n?null:t,h=t._annotationMode!==r.AnnotationMode.DISABLE?t:null,f=n?t:null,p=1;p<=a;++p){var g=new l.PDFPageView({container:t._viewerElement,eventBus:t.eventBus,id:p,scale:c,defaultViewport:u.clone(),optionalContentConfigPromise:s,renderingQueue:t.renderingQueue,textLayerFactory:d,textLayerMode:t.textLayerMode,annotationLayerFactory:h,annotationMode:t._annotationMode,xfaLayerFactory:f,textHighlighterFactory:t,structTreeLayerFactory:t,imageResourcesPath:t.imageResourcesPath,renderer:t.renderer,useOnlyCssZoom:t.useOnlyCssZoom,maxCanvasPixels:t.maxCanvasPixels,l10n:t.l10n});t._pages.push(g)}var m=t._pages[0];m&&(m.setPdfPage(o),t.linkService.cachePageRef(1,o.ref)),t._spreadMode!==i.SpreadMode.NONE&&t._updateSpreadMode(),t._onePageRenderedOrForceFetch().then(function(){if(t.findController&&t.findController.setDocument(e),t._scriptingManager&&t._scriptingManager.setDocument(e),e.loadingParams.disableAutoFetch||a>7500)t._pagesCapability.resolve();else{var n=a-1;if(n<=0)t._pagesCapability.resolve();else for(var r=function(r){e.getPage(r).then(function(e){var i=t._pages[r-1];i.pdfPage||i.setPdfPage(e),t.linkService.cachePageRef(r,e.ref),0==--n&&t._pagesCapability.resolve()},function(e){console.error("Unable to get page ".concat(r," to initialize viewer"),e),0==--n&&t._pagesCapability.resolve()})},i=2;i<=a;++i)r(i)}}),t.eventBus.dispatch("pagesinit",{source:t}),t.defaultRenderingQueue&&t.update()}).catch(function(e){console.error("Unable to initialize viewer",e)})}}},{key:"setPageLabels",value:function(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var t=0,n=this._pages.length;t<n;t++){var r,i;this._pages[t].setPageLabel(null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[t])&&void 0!==r?r:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new m(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(e){var t=e.pageSpot;(0,i.scrollIntoView)(e.pageDiv,void 0===t?null:t)}},{key:"_setScaleUpdatePages",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=t.toString(),v(this._currentScale,e))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});else{this._doc.style.setProperty("--zoom-factor",e);var i,a={scale:e},o=p(this._pages);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.update(a)}}catch(u){o.e(u)}finally{o.f()}if(this._currentScale=e,!n){var l,c=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,l=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:l,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:r?t:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===i.SpreadMode.NONE||this._scrollMode===i.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e);if(n>0)this._setScaleUpdatePages(n,e,t,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var a=this.isInPresentationMode||this.removePageBorders,o=a?0:i.SCROLLBAR_PADDING,s=a?0:i.VERTICAL_PADDING;if(!a&&this._isScrollModeHorizontal){var l=[s,o];o=l[0],s=l[1]}var c=(this.container.clientWidth-o)/r.width*r.scale/this._pageWidthScaleFactor,u=(this.container.clientHeight-s)/r.height*r.scale;switch(e){case"page-actual":n=1;break;case"page-width":n=c;break;case"page-height":n=u;break;case"page-fit":n=Math.min(c,u);break;case"auto":var d=(0,i.isPortraitOrientation)(r)?c:Math.min(u,c);n=Math.min(i.MAX_AUTO_SCALE,d);break;default:return void console.error('_setScale: "'.concat(e,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,e,t,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(e){if(!this._pageLabels)return null;var t=this._pageLabels.indexOf(e);return t<0?null:t+1}},{key:"scrollPageIntoView",value:function(e){var t=e.pageNumber,n=e.destArray,a=void 0===n?null:n,o=e.allowNegativeOffset,s=void 0!==o&&o,l=e.ignoreDestinationZoom,c=void 0!==l&&l;if(this.pdfDocument){var u=Number.isInteger(t)&&this._pages[t-1];if(u)if(!this.isInPresentationMode&&a){var d,h=0,f=0,p=0,g=0,m=u.rotation%180!=0,v=(m?u.height:u.width)/u.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,y=(m?u.width:u.height)/u.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,b=0;switch(a[1].name){case"XYZ":b=a[4],h=null!==(h=a[2])?h:0,f=null!==(f=a[3])?f:y;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":b="page-width",null===(f=a[2])&&this._location?(h=this._location.left,f=this._location.top):"number"!=typeof f&&(f=y);break;case"FitV":case"FitBV":h=a[2],p=v,g=y,b="page-height";break;case"FitR":p=a[4]-(h=a[2]),d=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/(g=a[5]-(f=a[3]))/r.PixelsPerInch.PDF_TO_CSS_UNITS,b=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/p/r.PixelsPerInch.PDF_TO_CSS_UNITS),Math.abs(d));break;default:return void console.error('scrollPageIntoView: "'.concat(a[1].name,'" is not a valid destination type.'))}if(c||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"!==b||a[4]){var _=[u.viewport.convertToViewportPoint(h,f),u.viewport.convertToViewportPoint(h+p,f+g)],w=Math.min(_[0][0],_[1][0]),A=Math.min(_[0][1],_[1][1]);s||(w=Math.max(w,0),A=Math.max(A,0)),this._scrollIntoView({pageDiv:u.div,pageSpot:{left:w,top:A},pageNumber:t})}else this._scrollIntoView({pageDiv:u.div,pageNumber:t})}else this._setCurrentPageNumber(t,!0);else console.error('scrollPageIntoView: "'.concat(t,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(e){var t=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===t?Math.round(1e4*t)/100:n,i=e.id,a="#page="+i;a+="&zoom="+r;var o=this.container,s=this._pages[i-1].getPagePoint(o.scrollLeft-e.x,o.scrollTop-e.y),l=Math.round(s[0]),c=Math.round(s[1]);this._location={pageNumber:i,scale:r,top:c,left:l,rotation:this._pagesRotation,pdfOpenParams:a+=","+l+","+c}}},{key:"_updateHelper",value:function(e){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var e=this._getVisiblePages(),t=e.views,n=t.length;if(0!==n){var r=Math.max(10,2*n+1);this._buffer.resize(r,t),this.renderingQueue.renderHighestPriority(e),this._updateHelper(t),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(e){return this.container.contains(e)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var e=this._pages[this._currentPageNumber-1],t=e.div,n={id:e.id,x:t.offsetLeft+t.clientLeft,y:t.offsetTop+t.clientTop,view:e};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(e){return!!this.pdfDocument&&(Number.isInteger(e)&&e>0&&e<=this.pagesCount?this._getVisiblePages().views.some(function(t){return t.id===e}):(console.error('isPageVisible: "'.concat(e,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(e){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(e)&&e>0&&e<=this.pagesCount))return console.error('isPageCached: "'.concat(e,'" is not a valid page.')),!1;var t=this._pages[e-1];return!!t&&this._buffer.has(t)}},{key:"cleanup",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].renderingState!==a.RenderingStates.FINISHED&&this._pages[e].reset()}},{key:"_cancelRendering",value:function(){for(var e=0,t=this._pages.length;e<t;e++)this._pages[e]&&this._pages[e].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(e){var t=this;if(e.pdfPage)return Promise.resolve(e.pdfPage);if(this._pagesRequests.has(e))return this._pagesRequests.get(e);var n=this.pdfDocument.getPage(e.id).then(function(n){return e.pdfPage||e.setPdfPage(n),t._pagesRequests.delete(e),n}).catch(function(n){console.error("Unable to get page for page view",n),t._pagesRequests.delete(e)});return this._pagesRequests.set(e,n),n}},{key:"forceRendering",value:function(e){var t=this,n=e||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,this._scrollMode===i.ScrollMode.VERTICAL&&this._spreadMode!==i.SpreadMode.NONE&&!this.isInPresentationMode);return!!r&&(this._ensurePdfPageLoaded(r).then(function(){t.renderingQueue.renderView(r)}),!0)}},{key:"createTextLayerBuilder",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return new h.TextLayerBuilder({textLayerDiv:e,eventBus:i,pageIndex:t,viewport:n,enhanceTextSelection:!this.isInPresentationMode&&r,highlighter:a})}},{key:"createTextHighlighter",value:function(e,t){return new d.TextHighlighter({eventBus:t,pageIndex:e,findController:this.isInPresentationMode?null:this.findController})}},{key:"createAnnotationLayerBuilder",value:function(e,t){var n,r,i,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.NullL10n,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new o.AnnotationLayerBuilder({pageDiv:e,pdfPage:t,annotationStorage:l||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),imageResourcesPath:c,renderForms:u,linkService:this.linkService,downloadManager:this.downloadManager,l10n:d,enableScripting:null!=h?h:this.enableScripting,hasJSActionsPromise:f||(null===(r=this.pdfDocument)||void 0===r?void 0:r.hasJSActions()),fieldObjectsPromise:g||(null===(i=this.pdfDocument)||void 0===i?void 0:i.getFieldObjects()),mouseState:p||(null===(a=this._scriptingManager)||void 0===a?void 0:a.mouseState)})}},{key:"createXfaLayerBuilder",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new f.XfaLayerBuilder({pageDiv:e,pdfPage:t,annotationStorage:r||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),linkService:this.linkService})}},{key:"createStructTreeLayerBuilder",value:function(e){return new u.StructTreeLayerBuilder({pdfPage:e})}},{key:"hasEqualPageSizes",get:function(){for(var e=this._pages[0],t=1,n=this._pages.length;t<n;++t){var r=this._pages[t];if(r.width!==e.width||r.height!==e.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var e=this;return this._pages.map(function(t){var n=t.pdfPage.getViewport({scale:1});return!e.enablePrintAutoRotate||(0,i.isPortraitOrientation)(n)?{width:n.width,height:n.height,rotation:n.rotation}:{width:n.height,height:n.width,rotation:(n.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(e){if(!(e instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(e));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=e;var t,n={optionalContentConfigPromise:e},r=p(this._pages);try{for(r.s();!(t=r.n()).done;)t.value.update(n)}catch(i){r.e(i)}finally{r.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(e){if(this._scrollMode!==e){if(!(0,i.isValidScrollMode)(e))throw new Error("Invalid scroll mode: ".concat(e));this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",t===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",t===i.ScrollMode.WRAPPED),this.pdfDocument&&e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(e){if(this._spreadMode!==e){if(!(0,i.isValidSpreadMode)(e))throw new Error("Invalid spread mode: ".concat(e));this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var t=this.viewer,n=this._pages;if(t.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var r=0,a=n.length;r<a;++r)t.appendChild(n[r].div);else for(var o=this._spreadMode-1,s=null,l=0,c=n.length;l<c;++l)null===s?((s=document.createElement("div")).className="spread",t.appendChild(s)):l%2===o&&(s=s.cloneNode(!1),t.appendChild(s)),s.appendChild(n[l].div);e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(e,!0),this.update())}}},{key:"_getPageAdvance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case i.ScrollMode.WRAPPED:var n,r=this._getVisiblePages(),a=r.views,o=new Map,s=p(a);try{for(s.s();!(n=s.n()).done;){var l=n.value,c=l.id,u=l.y,d=l.percent,h=l.widthPercent;if(!(0===d||h<100)){var f=o.get(u);f||o.set(u,f||(f=[])),f.push(c)}}}catch(q){s.e(q)}finally{s.f()}var g,m=p(o.values());try{for(m.s();!(g=m.n()).done;){var v=g.value,y=v.indexOf(e);if(-1!==y){var b=v.length;if(1===b)break;if(t)for(var _=y-1,w=0;_>=w;_--){var A=v[_],x=v[_+1]-1;if(A<x)return e-x}else for(var k=y+1,S=b;k<S;k++){var C=v[k],P=v[k-1]+1;if(C>P)return P-e}if(t){var T=v[0];if(T<e)return e-T+1}else{var O=v[b-1];if(O>e)return O-e+1}break}}}catch(q){m.e(q)}finally{m.f()}break;case i.ScrollMode.HORIZONTAL:break;case i.ScrollMode.VERTICAL:if(this._spreadMode===i.SpreadMode.NONE)break;var M=this._spreadMode-1;if(t&&e%2!==M)break;if(!t&&e%2===M)break;var E,R=this._getVisiblePages(),D=R.views,I=t?e-1:e+1,L=p(D);try{for(L.s();!(E=L.n()).done;){var F=E.value,N=F.id,j=F.percent,Z=F.widthPercent;if(N===I){if(j>0&&100===Z)return 2;break}}}catch(q){L.e(q)}finally{L.f()}}return 1}},{key:"nextPage",value:function(){var e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;var n=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+n,t),!0}},{key:"previousPage",value:function(){var e=this._currentPageNumber;if(e<=1)return!1;var t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}},{key:"increaseScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this._currentScale;do{t=(t*i.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(i.MAX_SCALE,t)}while(--e>0&&t<i.MAX_SCALE);this.currentScaleValue=t}},{key:"decreaseScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this._currentScale;do{t=(t/i.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(i.MIN_SCALE,t)}while(--e>0&&t>i.MIN_SCALE);this.currentScaleValue=t}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlighter=void 0,t.TextHighlighter=function(){function e(t){var n=t.findController,r=t.eventBus,i=t.pageIndex;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.findController=n,this.matches=[],this.eventBus=r,this.pageIdx=i,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}var t;return(t=[{key:"setTextMapping",value:function(e,t){this.textDivs=e,this.textContentItemsStr=t}},{key:"enable",value:function(){var e=this;if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(t){t.pageIndex!==e.pageIdx&&-1!==t.pageIndex||e._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}},{key:"_convertMatches",value:function(e,t){if(!e)return[];for(var n=this.textContentItemsStr,r=0,i=0,a=n.length-1,o=[],s=0,l=e.length;s<l;s++){for(var c=e[s];r!==a&&c>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var u={begin:{divIdx:r,offset:c-i}};for(c+=t[s];r!==a&&c>i+n[r].length;)i+=n[r].length,r++;u.end={divIdx:r,offset:c-i},o.push(u)}return o}},{key:"_renderMatches",value:function(e){if(0!==e.length){var t=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=n===t.selected.pageIdx,o=t.selected.matchIdx,s=null,l={divIdx:-1,offset:void 0},c=o,u=c+1;if(t.state.highlightAll)c=0,u=e.length;else if(!a)return;for(var d=c;d<u;d++){var h=e[d],f=h.begin,p=h.end,g=a&&d===o,m=g?" selected":"",v=0;if(s&&f.divIdx===s.divIdx?w(s.divIdx,s.offset,f.offset):(null!==s&&w(s.divIdx,s.offset,l.offset),_(f)),f.divIdx===p.divIdx)v=w(f.divIdx,f.offset,p.offset,"highlight"+m);else{v=w(f.divIdx,f.offset,l.offset,"highlight begin"+m);for(var y=f.divIdx+1,b=p.divIdx;y<b;y++)i[y].className="highlight middle"+m;_(p,"highlight end"+m)}s=p,g&&t.scrollMatchIntoView({element:i[f.divIdx],selectedLeft:v,pageIndex:n,matchIndex:o})}s&&w(s.divIdx,s.offset,l.offset)}function _(e,t){var n=e.divIdx;return i[n].textContent="",w(n,0,e.offset,t)}function w(e,t,n,a){var o=i[e];if(o.nodeType===Node.TEXT_NODE){var s=document.createElement("span");o.parentNode.insertBefore(s,o),s.appendChild(o),i[e]=s,o=s}var l=r[e].substring(t,n),c=document.createTextNode(l);if(a){var u=document.createElement("span");return u.className="".concat(a," appended"),u.appendChild(c),o.appendChild(u),a.includes("selected")?u.offsetLeft:0}return o.appendChild(c),0}}},{key:"_updateMatches",value:function(){if(this.enabled){for(var e=this.findController,t=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,a=-1,o=0,s=t.length;o<s;o++){for(var l=t[o],c=Math.max(a,l.begin.divIdx),u=l.end.divIdx;c<=u;c++){var d=i[c];d.textContent=r[c],d.className=""}a=l.end.divIdx+1}null!=e&&e.highlightMatches&&(this.matches=this._convertMatches(e.pageMatches[n]||null,e.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()},(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=void 0;var i=n(7),a=n(23),o=n(4);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.PDFViewer=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(f,e);var t,n,r,a=(n=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(r){var i=h(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return d(this,e)});function f(){return l(this,f),a.apply(this,arguments)}return(t=[{key:"_viewerElement",get:function(){return(0,o.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(e){var t=e.pageDiv,n=e.pageSpot,r=void 0===n?null:n,i=e.pageNumber,a=void 0===i?null:i;if(!r&&!this.isInPresentationMode){var o=t.offsetLeft+t.clientLeft,s=this.container,l=s.scrollLeft;(this._isScrollModeHorizontal||o<l||o+t.clientWidth>l+s.clientWidth)&&(r={left:0,top:0})}c(h(f.prototype),"_scrollIntoView",this).call(this,{pageDiv:t,pageSpot:r,pageNumber:a})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():c(h(f.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(e){if(!this.isInPresentationMode){var t,n=this._currentPageNumber,r=!1,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.percent<100)break;if(o.id===n&&this._scrollMode===i.ScrollMode.VERTICAL&&this._spreadMode===i.SpreadMode.NONE){r=!0;break}}}catch(l){a.e(l)}finally{a.f()}r||(n=e[0].id),this._setCurrentPageNumber(n)}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(f.prototype,t),f}(a.BaseViewer)}],t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n](a,a.exports,r),a.loaded=!0,a.exports}r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};return(()=>{var e=i;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return t.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return t.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return n.DefaultStructTreeLayerFactory}}),Object.defineProperty(e,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return a.DefaultTextLayerFactory}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return a.TextLayerBuilder}}),Object.defineProperty(e,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return o.DefaultXfaLayerFactory}}),Object.defineProperty(e,"XfaLayerBuilder",{enumerable:!0,get:function(){return o.XfaLayerBuilder}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return s.EventBus}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return l.PDFLinkService}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return l.SimpleLinkService}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return c.DownloadManager}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return u.GenericL10n}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return d.NullL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return h.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return m.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}});var t=r(1),n=r(8),a=r(9),o=r(10),s=r(7),l=r(6),c=r(11),u=r(13),d=r(5),h=r(15),f=r(17),p=r(18),g=r(20),m=r(22),v=r(25)})(),i})()},e.exports=r()},3259:(e,t,n)=>{"use strict";n.d(t,{w:()=>C});var r=n(8583),i=n(4655),a=n(4182),o=n(3621);function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}var l=n(7716),c=n(3679);function u(e,t){if(1&e&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Oqu(e._placeholder)}}function d(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"span",14),l.TgZ(1,"span",15),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.TgZ(4,"a",16),l.NdJ("click",function(t){const n=l.CHM(e).$implicit;return l.oxw().onItemClick(t,n)}),l._uU(5,"x"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,n=t.index,r=l.oxw();l.xp6(1),l.Q6J("hidden",n>r._settings.itemsShowLimit-1),l.xp6(2),l.hij("",e.text,"\xa0")}}function h(e,t){if(1&e&&(l.TgZ(0,"span",17),l._uU(1),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.hij("+",e.itemShowRemaining(),"")}}function f(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"li",18),l.NdJ("click",function(){return l.CHM(e),l.oxw().toggleSelectAll()}),l._UZ(1,"input",19),l.TgZ(2,"div"),l._uU(3),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("checked",e.isAllItemsSelected())("disabled",e.disabled||e.isLimitSelectionReached()),l.xp6(2),l.Oqu(e.isAllItemsSelected()?e._settings.unSelectAllText:e._settings.selectAllText)}}function p(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"li",20),l.TgZ(1,"input",21),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().filter.text=t})("ngModelChange",function(t){return l.CHM(e),l.oxw().onFilterTextChange(t)}),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("readOnly",e.disabled)("placeholder",e._settings.searchPlaceholderText)("ngModel",e.filter.text)}}function g(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"li",22),l.NdJ("click",function(t){const n=l.CHM(e).$implicit;return l.oxw().onItemClick(t,n)}),l._UZ(1,"input",23),l.TgZ(2,"div"),l._uU(3),l.qZA(),l.qZA()}if(2&e){const e=t.$implicit,n=l.oxw();l.xp6(1),l.Q6J("checked",n.isSelected(e))("disabled",n.disabled||n.isLimitSelectionReached()&&!n.isSelected(e)||e.isDisabled),l.uIk("aria-label",e.text),l.xp6(2),l.Oqu(e.text)}}function m(e,t){if(1&e&&(l.TgZ(0,"li",24),l.TgZ(1,"h5"),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.Oqu(e._settings.noDataAvailablePlaceholderText)}}const v=function(e){return{"dropdown-multiselect--active":e}};class y{constructor(e){"string"!=typeof e&&"number"!=typeof e||(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)}}let b=(()=>{let e=class{transform(e,t){return e&&t?e.filter(e=>this.applyFilter(e,t)):e}applyFilter(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=l.Yjl({name:"multiSelectFilter",type:e,pure:!1}),e})();const _={provide:c.JU,useExisting:(0,l.Gpc)(()=>A),multi:!0},w=()=>{};let A=(()=>{let e=class{constructor(e,t){this.listFilterPipe=e,this.cdr=t,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new y(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new l.vpe,this.onDropDownClose=new l.vpe,this.onSelect=new l.vpe,this.onDeSelect=new l.vpe,this.onSelectAll=new l.vpe,this.onDeSelectAll=new l.vpe,this.onTouchedCallback=w,this.onChangeCallback=w}set placeholder(e){this._placeholder=e||"Select"}set settings(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}set data(e){if(e){const t=e[0];this._sourceDataType=typeof t,this._sourceDataFields=this.getFields(t),this._data=e.map(e=>new y("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(e){this.onFilterChange.emit(e)}onItemClick(e,t){if(this.disabled||t.isDisabled)return!1;const n=this.isSelected(t),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(t):r&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(e){if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){const t=e[0];this.selectedItems=[new y("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]})]}}catch(t){}else{const t=e.map(e=>new y("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?t.splice(0,this._settings.limitSelection):t}else this.selectedItems=[];this.onChangeCallback(e),this.cdr.markForCheck()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(e,t){return t.id}isSelected(e){let t=!1;return this.selectedItems.forEach(n=>{e.id===n.id&&(t=!0)}),t}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let e=this.listFilterPipe.transform(this._data,this.filter);const t=e.filter(e=>e.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&e.length===this.selectedItems.length+t}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}removeSelected(e){this.selectedItems.forEach(t=>{e.id===t.id&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}emittedValue(e){const t=[];if(Array.isArray(e))e.map(e=>{t.push(this.objectify(e))});else if(e)return this.objectify(e);return t}objectify(e){if("object"===this._sourceDataType){const t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}toggleDropdown(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(e=>!e.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(e){const t=[];if("object"!=typeof e)return t;for(const n in e)t.push(n);return t}};return e.\u0275fac=function(t){return new(t||e)(l.Y36(b),l.Y36(l.sBO))},e.\u0275cmp=l.Xpm({type:e,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&l.NdJ("blur",function(){return t.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[l._Bn([_])],decls:16,vars:19,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.NdJ("blur",function(){return t.onTouched()})("clickOutside",function(){return t.closeDropdown()}),l.TgZ(1,"div"),l.TgZ(2,"span",1),l.NdJ("click",function(e){return t.toggleDropdown(e)}),l.YNc(3,u,2,1,"span",2),l.YNc(4,d,6,2,"span",3),l.TgZ(5,"span",4),l.YNc(6,h,2,1,"span",5),l._UZ(7,"span",6),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"div",7),l.TgZ(9,"ul",8),l.YNc(10,f,4,3,"li",9),l.YNc(11,p,2,3,"li",10),l.qZA(),l.TgZ(12,"ul",11),l.YNc(13,g,4,4,"li",12),l.ALo(14,"multiSelectFilter"),l.YNc(15,m,3,1,"li",13),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.ekj("disabled",t.disabled),l.xp6(2),l.Q6J("ngIf",0==t.selectedItems.length),l.xp6(1),l.Q6J("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),l.xp6(1),l.Q6J("ngClass",l.VKq(17,v,t._settings.defaultOpen)),l.xp6(1),l.Q6J("ngIf",t.itemShowRemaining()>0),l.xp6(2),l.Q6J("hidden",!t._settings.defaultOpen),l.xp6(2),l.Q6J("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),l.xp6(1),l.Q6J("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),l.xp6(1),l.Udp("max-height",t._settings.maxHeight+"px"),l.xp6(1),l.Q6J("ngForOf",l.xi3(14,14,t._data,t.filter)),l.xp6(2),l.Q6J("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[x,r.O5,r.sg,r.mk,c.Fj,c.JJ,c.On]},pipes:function(){return[b]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),s([(0,l.IIB)()],e.prototype,"placeholder",null),s([(0,l.IIB)()],e.prototype,"disabled",void 0),s([(0,l.IIB)()],e.prototype,"settings",null),s([(0,l.IIB)()],e.prototype,"data",null),s([(0,l.r_U)("onFilterChange")],e.prototype,"onFilterChange",void 0),s([(0,l.r_U)("onDropDownClose")],e.prototype,"onDropDownClose",void 0),s([(0,l.r_U)("onSelect")],e.prototype,"onSelect",void 0),s([(0,l.r_U)("onDeSelect")],e.prototype,"onDeSelect",void 0),s([(0,l.r_U)("onSelectAll")],e.prototype,"onSelectAll",void 0),s([(0,l.r_U)("onDeSelectAll")],e.prototype,"onDeSelectAll",void 0),s([(0,l.L6J)("blur")],e.prototype,"onTouched",null),e})(),x=(()=>{let e=class{constructor(e){this._elementRef=e,this.clickOutside=new l.vpe}onClick(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}};return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq))},e.\u0275dir=l.lG2({type:e,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&l.NdJ("click",function(e){return t.onClick(e,e.target)},!1,l.evT)},outputs:{clickOutside:"clickOutside"}}),s([(0,l.r_U)()],e.prototype,"clickOutside",void 0),s([(0,l.L6J)("document:click",["$event","$event.target"])],e.prototype,"onClick",null),e})();var k;let S=k=class{static forRoot(){return{ngModule:k}}};S.\u0275fac=function(e){return new(e||S)},S.\u0275mod=l.oAB({type:S}),S.\u0275inj=l.cJS({providers:[b],imports:[[r.ez,c.u5]]});let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.ez,a.m,i.Bz,o.xC,S.forRoot()]]}),e})()},5665:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DashboardModule:()=>v});var r=n(8583),i=n(3259),a=n(4182),o=n(9658),s=n(7118),l=n(4655),c=n(7716);let u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-profile"]],decls:1,vars:0,template:function(e,t){1&e&&c._uU(0,"ddd")},styles:[".action-button{border-radius:4px!important;min-width:6rem!important;min-height:2.3rem!important}.floating-buttons1[_ngcontent-%COMP%]{border-radius:50%!important;height:40px!important;width:40px!important}.logout[_ngcontent-%COMP%]{background-color:initial!important;border-radius:0!important}.list[_ngcontent-%COMP%]{background-color:#fff!important}.list[_ngcontent-%COMP%]:hover{background-color:#006990!important;color:#fff!important}"]}),e})();var d=n(3017),h=n(5072),f=n(8309),p=n(6627);const g=[{path:"",component:(()=>{class e{constructor(e,t){this.observer=e,this.auth=t,this.clientfullName=this.auth.clientfullName,this.clientmiddleName=this.auth.clientmiddleName,this.clientfirstName=this.auth.clientfirstName,this.clientlastName=this.auth.clientlastName,this.clientcontactNo=this.auth.clientcontactNo,this.clientaddress1=this.auth.clientaddress1,this.clientaddress2=this.auth.clientaddress2,this.clientcity=this.auth.clientcity,this.clientzipcode=this.auth.clientzipcode}logout(){this.auth.logout()}ngAfterViewInit(){this.observer.observe(["(max-width: 800px)"]).subscribe(e=>{e.matches?(this.sidenav.mode="over",this.sidenav.close()):(this.sidenav.mode="side",this.sidenav.open())})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(h.Yg),c.Y36(f.e))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-dashboard"]],viewQuery:function(e,t){if(1&e&&c.Gf(d.JX,5),2&e){let e;c.iGM(e=c.CRH())&&(t.sidenav=e.first)}},decls:115,vars:9,consts:[[1,"row","mx-0","phone"],[1,"profile","py-2","pb-4","profile-font"],[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4",2,"font-size","2rem !important"],[1,"row","width","pr-0"],[1,"col-12","d-flex","justify-content-between","col-md-4","px-4","py-2"],[1,"mb-0","fw-bold","ml-4","darkgrey","label"],[1,"mb-0","ml-4","lightgrey","label1"],[1,"row","px-0","mx-0","mt-4","px-1"],[1,"col-md-4","col-12","profilecard","mr-1","border","p-2","pt-3"],[1,"d-flex","justify-content-between","mx-2"],[1,"mb-1","d-inline"],[1,"mb-1","ml-2","count"],[1,"card-footer","client-grey1"],[1,"d-flex","justify-content-end","align-items-center","text-blue"],["mat-icon-button","",1,"mb-0","d-flex","my-auto","hvr-wobble-horizontal"],[1,"my-auto"],[1,"t","mb-1","d-inline"],[1,"col-md-4","col-12","profilecard","mr-1","border","p-2","pt-3","mt-1"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"h3",2),c._uU(3,"Personal Information"),c.qZA(),c.TgZ(4,"div",3),c.TgZ(5,"label",4),c.TgZ(6,"p",5),c._uU(7,"First Name"),c.qZA(),c.TgZ(8,"p",6),c._uU(9),c.qZA(),c.qZA(),c.TgZ(10,"label",4),c.TgZ(11,"p",5),c._uU(12,"Middle Name"),c.qZA(),c.TgZ(13,"p",6),c._uU(14),c.qZA(),c.qZA(),c.TgZ(15,"label",4),c.TgZ(16,"p",5),c._uU(17,"Last Name"),c.qZA(),c.TgZ(18,"p",6),c._uU(19),c.qZA(),c.qZA(),c.TgZ(20,"label",4),c.TgZ(21,"p",5),c._uU(22,"Full Name"),c.qZA(),c.TgZ(23,"p",6),c._uU(24),c.qZA(),c.qZA(),c.TgZ(25,"label",4),c.TgZ(26,"p",5),c._uU(27,"Mobile No"),c.qZA(),c.TgZ(28,"p",6),c._uU(29),c.qZA(),c.qZA(),c.TgZ(30,"label",4),c.TgZ(31,"p",5),c._uU(32,"Address 1"),c.qZA(),c.TgZ(33,"p",6),c._uU(34),c.qZA(),c.qZA(),c.TgZ(35,"label",4),c.TgZ(36,"p",5),c._uU(37,"Address 2"),c.qZA(),c.TgZ(38,"p",6),c._uU(39),c.qZA(),c.qZA(),c.TgZ(40,"label",4),c.TgZ(41,"p",5),c._uU(42,"City"),c.qZA(),c.TgZ(43,"p",6),c._uU(44),c.qZA(),c.qZA(),c.TgZ(45,"label",4),c.TgZ(46,"p",5),c._uU(47,"Zip Code"),c.qZA(),c.TgZ(48,"p",6),c._uU(49),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(50,"div",7),c.TgZ(51,"div",8),c.TgZ(52,"div",9),c.TgZ(53,"h2",10),c._uU(54,"Matter"),c.qZA(),c.TgZ(55,"h3",11),c._uU(56,"03"),c.qZA(),c.qZA(),c.TgZ(57,"p"),c._uU(58,"\xa0"),c.qZA(),c.TgZ(59,"p"),c._uU(60,"\xa0"),c.qZA(),c.TgZ(61,"div",12),c.TgZ(62,"div",13),c.TgZ(63,"span",14),c._uU(64,"View Details "),c.TgZ(65,"mat-icon",15),c._uU(66,"trending_flat"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(67,"div",8),c.TgZ(68,"div",9),c.TgZ(69,"h2",16),c._uU(70,"Invoice"),c.qZA(),c.TgZ(71,"h3",11),c._uU(72,"02"),c.qZA(),c.qZA(),c.TgZ(73,"p"),c._uU(74,"\xa0"),c.qZA(),c.TgZ(75,"p"),c._uU(76,"\xa0"),c.qZA(),c.TgZ(77,"div",12),c.TgZ(78,"div",13),c.TgZ(79,"span",14),c._uU(80,"View Details "),c.TgZ(81,"mat-icon",15),c._uU(82,"trending_flat"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(83,"div",17),c.TgZ(84,"div",9),c.TgZ(85,"h2",10),c._uU(86,"Document"),c.qZA(),c.TgZ(87,"h3",11),c._uU(88,"07"),c.qZA(),c.qZA(),c.TgZ(89,"p"),c._uU(90,"\xa0"),c.qZA(),c.TgZ(91,"p"),c._uU(92,"\xa0"),c.qZA(),c.TgZ(93,"div",12),c.TgZ(94,"div",13),c.TgZ(95,"span",14),c._uU(96,"View Details "),c.TgZ(97,"mat-icon",15),c._uU(98,"trending_flat"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(99,"div",17),c.TgZ(100,"div",9),c.TgZ(101,"h2",10),c._uU(102,"Quotation"),c.qZA(),c.TgZ(103,"h3",11),c._uU(104,"12"),c.qZA(),c.qZA(),c.TgZ(105,"p"),c._uU(106,"\xa0"),c.qZA(),c.TgZ(107,"p"),c._uU(108,"\xa0"),c.qZA(),c.TgZ(109,"div",12),c.TgZ(110,"div",13),c.TgZ(111,"span",14),c._uU(112,"View Details "),c.TgZ(113,"mat-icon",15),c._uU(114,"trending_flat"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(9),c.Oqu(t.clientfirstName),c.xp6(5),c.Oqu(t.clientmiddleName),c.xp6(5),c.Oqu(t.clientlastName),c.xp6(5),c.Oqu(t.clientfullName),c.xp6(5),c.Oqu(t.clientcontactNo),c.xp6(5),c.Oqu(t.clientaddress1),c.xp6(5),c.Oqu(t.clientaddress2),c.xp6(5),c.Oqu(t.clientcity),c.xp6(5),c.Oqu(t.clientzipcode))},directives:[p.Hw],styles:[".profile[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040}.darkgrey[_ngcontent-%COMP%]{color:#7c7c7c!important}.lightgrey[_ngcontent-%COMP%]{color:#979797!important}.width[_ngcontent-%COMP%]{width:100%}.margin-space[_ngcontent-%COMP%]{margin-left:2.5rem!important}  .header-size{font-size:2rem}@media (max-width: 600px){.width[_ngcontent-%COMP%]{width:100%!important}.header-size[_ngcontent-%COMP%]{font-size:1.2rem!important}.detailsfont[_ngcontent-%COMP%]{font-size:12px!important}}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}.detailsfont[_ngcontent-%COMP%]{font-size:14px}.title[_ngcontent-%COMP%]{font-size:1.5rem}label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;text-align:right}.profilecard[_ngcontent-%COMP%]{background-color:#fff;color:#006990}.count[_ngcontent-%COMP%]{font-size:2.3rem!important}"]}),e})(),children:[{path:"profile",component:u,pathMatch:"full",data:{title:"dd",module:"Hoddme"}}]}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[l.Bz.forChild(g)],l.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,a.m,m,i.w,s.ProfileModule,o.InvoiceModule]]}),e})()},3384:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DocumentsModule:()=>ct});var r=n(8583),i=n(4655);function a(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)})}}var s=n(8345),l=n(2091),c=n(5319),u=n(1841),d=n(1494),h=n(9692),f=n(7716),p=n(8309);let g=(()=>{class e{constructor(e,t){this.http=e,this.auth=t,this.setUpServiceapiName="/mnr-setup-service/",this.managementServiceApiName="/mnr-management-service/",this.method="mattergenacc",this.method1="matterdocument",this.method2="documentTemplate",this.url=this.managementServiceApiName+this.method,this.url1=this.managementServiceApiName+this.method1,this.url2=this.setUpServiceapiName+this.method2}createChecklistDocument(e){return this.http.post(this.setUpServiceapiName+"docchecklist",e)}getChecklistDocument(){return this.http.get(this.setUpServiceapiName+"docchecklist")}filterChecklistDocument(e){return this.http.post(this.setUpServiceapiName+"docchecklist",e)}getAllMatterDocList(){return this.http.get(this.managementServiceApiName+"matterdoclist")}getMatterDetails(e){return this.http.get(this.url+"/"+e)}downloadChecklistFile(e,t){return this.http.get("/doc-storage/download?fileName="+t+"&location="+e,{responseType:"blob"}).toPromise()}createClientPortalChecklistDocument(e){return this.http.get(this.managementServiceApiName+"matterdoclist/"+e.matterNumber+`/clientPortal/docCheckList?checkListNo=${e.checkListNo}&clientId=${e.clientId}`)}getMatterDocument(){return this.http.get(this.url1)}GetallMatter(){return this.http.get(this.url)}GetallDocName(){return this.http.get(this.url2)}Getstatus(e){return this.http.get("//mnr-setup-service/status")}createClinetPortalDocument(e){return this.http.post(this.setUpServiceapiName+"docchecklist",e)}createClinetPortalmatterDocument(e){return this.http.post(this.url1+"/clientPortal",e)}GetmatterDocument(e){return this.http.get(this.url1+"/"+e)}Get_documentTemplate(e){return this.http.get(this.setUpServiceapiName+"documentTemplate/"+e)}getfile1(e,t,n){return this.http.get("/doc-storage/download?fileName="+t+"&location="+n+"&classId="+e,{responseType:"blob"}).toPromise()}Searchchecklistno(e){return this.http.post("/mnr-setup-service/docchecklist/findDocCheckList",e)}getfile(e,t){return this.http.get("/doc-storage/download?fileName="+t+"&location="+e,{responseType:"blob"}).toPromise()}searchMatterDocList(e){return this.http.post(this.managementServiceApiName+"matterdoclist/findMatterDocList",e)}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(u.eN),f.LFG(p.e))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n(9699),v=n(9866),y=n(9075),b=n(2238),_=n(9983),w=n(1095),A=n(6627),x=n(7539);const k=function(e){const t=e.getAttribute("type");return"input"===e.tagName.toLowerCase()&&t&&"file"===t.toLowerCase()};let S=0,C=0;function P(e,t){if(!e)return Promise.resolve(e);if(t&&null!=e.$ngfDataUrl||!t&&null!=e.$ngfBlobUrl)return Promise.resolve(t?e.$ngfDataUrl:e.$ngfBlobUrl);var n=t?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(n)return n;const r=window;let i;if(!r.FileReader||!e||r.FileAPI&&-1!==navigator.userAgent.indexOf("MSIE 8")&&!(e.size<2e4)||r.FileAPI&&-1!==navigator.userAgent.indexOf("MSIE 9")&&!(e.size<4e6))return e[t?"$ngfDataUrl":"$ngfBlobUrl"]="",Promise.reject(new Error("Browser does not support window.FileReader, window.FileReader, or window.FileAPI"));var a=r.URL||r.webkitURL;if(FileReader)i=new Promise((t,n)=>{var r=new FileReader;r.onload=function(n){e.$ngfDataUrl=n.target.result,delete e.$ngfDataUrl,t(n.target.result)},r.onerror=function(t){e.$ngfDataUrl="",n(t)},r.readAsDataURL(e)});else{var o;try{o=a.createObjectURL(e)}catch(s){return Promise.reject(s)}i=Promise.resolve(o),e.$ngfBlobUrl=o}return(n=t?e.$$ngfDataUrlPromise=i:e.$$ngfBlobUrlPromise=i).then(n=>(delete e[t?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"],n))}let T=(()=>{class e{constructor(e){this.element=e,this.filters=[],this.lastFileCount=0,this.ngfFixOrientation=!0,this.fileDropDisabled=!1,this.selectable=!1,this.directiveInit=new f.vpe,this.lastInvalids=[],this.lastInvalidsChange=new f.vpe,this.lastBaseUrlChange=new f.vpe,this.fileChange=new f.vpe,this.files=[],this.filesChange=new f.vpe,this.fileSelectStart=new f.vpe,this.initFilters()}initFilters(){this.filters.push({name:"accept",fn:this._acceptFilter}),this.filters.push({name:"fileSize",fn:this._fileSizeFilter})}ngOnDestroy(){delete this.fileElm,this.destroyPasteListener()}ngOnInit(){(this.selectable||""===this.selectable)&&!["false","null","0"].includes(this.selectable)&&this.enableSelecting(),this.multiple&&this.paramFileElm().setAttribute("multiple",this.multiple),this.evalCapturePaste(),setTimeout(()=>{this.directiveInit.emit(this)},0)}ngOnChanges(e){var t,n;e.accept&&this.paramFileElm().setAttribute("accept",e.accept.currentValue||"*"),e.capturePaste&&this.evalCapturePaste(),e.file&&e.file.previousValue&&!e.file.currentValue&&this.clearFileElmValue(),e.files&&(null===(t=e.files.previousValue)||void 0===t?void 0:t.length)&&!(null===(n=e.files.currentValue)||void 0===n?void 0:n.length)&&this.clearFileElmValue()}evalCapturePaste(){if(this.capturePaste||""===this.capturePaste||["false","0","null"].includes(this.capturePaste)){if(this.pasteCapturer)return;return this.pasteCapturer=e=>{const t=e.clipboardData;t&&t.files&&t.files.length&&(this.handleFiles(t.files),e.preventDefault())},void window.addEventListener("paste",this.pasteCapturer)}this.destroyPasteListener()}destroyPasteListener(){this.pasteCapturer&&(window.removeEventListener("paste",this.pasteCapturer),delete this.pasteCapturer)}paramFileElm(){if(this.fileElm)return this.fileElm;const e=k(this.element.nativeElement);return this.fileElm=e?this.element.nativeElement:this.createFileElm({change:this.changeFn.bind(this)})}createFileElm({change:e}){const t=function(){var e=function(){var e=document.createElement("input");return e.type="file",e}(),t=document.createElement("label");return t.innerHTML="upload",t.style.visibility="hidden",t.style.position="absolute",t.style.overflow="hidden",t.style.width="0px",t.style.height="0px",t.style.border="none",t.style.margin="0px",t.style.padding="0px",t.setAttribute("tabindex","-1"),t.appendChild(e),t}(),n=t.getElementsByTagName("input")[0];return n.addEventListener("change",e),this.element.nativeElement.appendChild(t),n}enableSelecting(){let e=this.element.nativeElement;if(k(e)){const t=e=>this.beforeSelect(e);return e.addEventListener("click",t),void e.addEventListener("touchstart",t)}const t=e=>this.clickHandler(e);e.addEventListener("click",t),e.addEventListener("touchstart",t),e.addEventListener("touchend",t)}getValidFiles(e){const t=[];for(let n=e.length-1;n>=0;--n)this.isFileValid(e[n])&&t.push(e[n]);return t}getInvalidFiles(e){const t=[];for(let n=e.length-1;n>=0;--n){let r=this.getFileFilterFailName(e[n]);r&&t.push({file:e[n],type:r})}return t}handleFiles(e){const t=this.getValidFiles(e);e.length!=t.length?this.lastInvalids=this.getInvalidFiles(e):delete this.lastInvalids,this.lastInvalidsChange.emit(this.lastInvalids),t.length&&(this.ngfFixOrientation?this.applyExifRotations(t).then(e=>this.que(e)):this.que(t)),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")}que(e){this.files=this.files||[],Array.prototype.push.apply(this.files,e),this.filesChange.emit(this.files),e.length&&(this.fileChange.emit(this.file=e[0]),this.lastBaseUrlChange.observers.length&&P(e[0]).then(e=>this.lastBaseUrlChange.emit(e))),this.lastFileCount=this.files.length}changeFn(e){var t=e.__files_||e.target&&e.target.files;t&&(this.stopEvent(e),this.handleFiles(t))}clickHandler(e){if(this.element.nativeElement.getAttribute("disabled")||this.fileDropDisabled)return!1;var t=function(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return C=t[0].clientX,S=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientY;if(Math.abs(t[0].clientX-C)>20||Math.abs(n-S)>20)return e.stopPropagation(),e.cancelable&&e.preventDefault(),!1}return!0}return!1}(e);return!1!==t?t:(this.paramFileElm().click(),this.beforeSelect(e),!1)}beforeSelect(e){this.fileSelectStart.emit(e),this.files&&this.lastFileCount===this.files.length||this.clearFileElmValue()}clearFileElmValue(){this.fileElm&&(this.fileElm.value=null)}isEmptyAfterSelection(){return!!this.element.nativeElement.attributes.multiple}stopEvent(e){e.preventDefault(),e.stopPropagation()}transferHasFiles(e){return!!e.types&&(e.types.indexOf?-1!==e.types.indexOf("Files"):!!e.types.contains&&e.types.contains("Files"))}eventToFiles(e){const t=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent?e.originalEvent.dataTransfer:null}(e);if(t){if(t.files&&t.files.length)return t.files;if(t.items&&t.items.length)return t.items}return[]}applyExifRotations(e){const t=(t,n)=>function(e){return 0!==e.type.indexOf("image/jpeg")?Promise.resolve(e):function(e){return new Promise((t,n)=>{var r=new FileReader,i=e.slice?e.slice(0,65536):e;r.readAsArrayBuffer(i),r.onerror=n,r.onload=function(e){var n={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return t(n);for(var i=r.byteLength,a=2;a<i;){var o=r.getUint16(a,!1);if(a+=2,65505===o){if(1165519206!==r.getUint32(a+=2,!1))return t(n);var s=18761===r.getUint16(a+=6,!1);a+=r.getUint32(a+4,s);var l=r.getUint16(a,s);a+=2;for(var c=0;c<l;c++)if(274===r.getUint16(a+12*c,s)){var u=r.getUint16(a+12*c+8,s);return u>=2&&u<=8&&(r.setUint16(a+12*c+8,1,s),n.fixedArrayBuffer=e.target.result),n.orientation=u,t(n)}}else{if(65280!=(65280&o))break;a+=r.getUint16(a,!1)}}return t(n)}})}(e).then(t=>t.orientation<2||t.orientation>8?e:function(e,t){return P(e,!0).then(n=>{var r=document.createElement("canvas"),i=document.createElement("img");return new Promise(function(a,o){i.onload=function(){try{r.width=t.orientation>4?i.height:i.width,r.height=t.orientation>4?i.width:i.height;var n=r.getContext("2d");!function(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:e.transform(0,-1,1,0,0,n)}}(n,t.orientation,i.width,i.height),n.drawImage(i,0,0);var s=r.toDataURL(e.type||"image/WebP",.934);const o=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(t.fixedArrayBuffer);var l=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/),a=i?i[1]:"text/plain",o=atob(r[1]),s=o.length,l=new Uint8Array(s);s--;)l[s]=o.charCodeAt(s);var c=new window.Blob([l],{type:a});return c.name=t,c.$ngfOrigSize=void 0,c}(s={KEY_STR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode64:function(e){var t,n,r,i,a,o="",s="",l="",c=0;do{r=(t=e[c++])>>2,i=(3&t)<<4|(n=e[c++])>>4,a=(15&n)<<2|(s=e[c++])>>6,l=63&s,isNaN(n)?a=l=64:isNaN(s)&&(l=64),o=o+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),t=n=s="",r=i=a=l=""}while(c<e.length);return o},restore:function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},exifManipulation:function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},getExifArray:function(e){for(var t,n=0;n<e.length;n++)if(255===(t=e[n])[0]&&225===t[1])return t;return[]},insertExif:function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),a=r.slice(0,i),o=r.slice(i);return a.concat(t).concat(o)},slice2Segments:function(e){for(var t=0,n=[];255!==e[t]||218!==e[t+1];){if(255===e[t]&&216===e[t+1])t+=2;else{var r=t+(256*e[t+2]+e[t+3])+2,i=e.slice(t,r);n.push(i),t=r}if(t>e.length)break}return n},decode64:function(e){var t,n,r,i,a="",o="",s=0,l=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{n=this.KEY_STR.indexOf(e.charAt(s++)),t=(15&(r=this.KEY_STR.indexOf(e.charAt(s++))))<<4|(i=this.KEY_STR.indexOf(e.charAt(s++)))>>2,a=(3&i)<<6|(o=this.KEY_STR.indexOf(e.charAt(s++))),l.push(n<<2|r>>4),64!==i&&l.push(t),64!==o&&l.push(a),t=a="",n=r=i=o=""}while(s<e.length);return l}}.restore(o,s),e.name);const h=(u=e.name,(d=c=l).lastModifiedDate=new Date,d.name=u,c);a(h)}catch(h){o(h)}var c,u,d},i.onerror=o,i.src=n})})}(e,t))}(t).then(t=>e.splice(n,1,t)),n=[];for(let r=e.length-1;r>=0;--r)n[r]=t(e[r],r);return Promise.all(n).then(()=>e)}onChange(e){let t=this.element.nativeElement.files||this.eventToFiles(e);t.length&&(this.stopEvent(e),this.handleFiles(t))}getFileFilterFailName(e){for(let t=0;t<this.filters.length;t++)if(!this.filters[t].fn.call(this,e))return this.filters[t].name}isFileValid(e){return!(this.accept||this.filters&&this.filters.length)||!this.getFileFilterFailName(e)}isFilesValid(e){for(let t=e.length-1;t>=0;--t)if(!this.isFileValid(e[t]))return!1;return!0}_acceptFilter(e){return function(e,t,n){if(!e)return!0;const r=e.split(",");let i,a;for(let o=r.length-1;o>=0;--o){if(a=r[o],a=a.replace(/(^\s+|\s+$)/g,""),a=a.replace(/\*/g,".*"),i=new RegExp(a,"gi"),t.search(i)>=0)return!0;if("."==a.substring(0,1)&&(a="\\"+a,i=new RegExp(a+"$","i"),(n||t).search(i)>=0))return!0}return!1}(this.accept,e.type,e.name)}_fileSizeFilter(e){return!(this.maxSize&&e.size>this.maxSize)}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(f.SBq))},e.\u0275dir=f.lG2({type:e,selectors:[["","ngf",""]],hostBindings:function(e,t){1&e&&f.NdJ("change",function(e){return t.onChange(e)})},inputs:{ngfFixOrientation:"ngfFixOrientation",fileDropDisabled:"fileDropDisabled",selectable:"selectable",lastInvalids:"lastInvalids",files:"files",file:"file",multiple:"multiple",accept:"accept",maxSize:"maxSize",lastBaseUrl:"lastBaseUrl",capturePaste:"capturePaste"},outputs:{directiveInit:"init",lastInvalidsChange:"lastInvalidsChange",lastBaseUrlChange:"lastBaseUrlChange",fileChange:"fileChange",filesChange:"filesChange",fileSelectStart:"fileSelectStart"},exportAs:["ngf"],features:[f.TTD]}),e})(),O=(()=>{class e{constructor(e){this.postName="file",this.FormData=new FormData,this.FormDataChange=new f.vpe,this.differ=e.find([]).create()}ngDoCheck(){this.differ.diff(this.files)&&setTimeout(()=>this.buildFormData(),0)}buildFormData(){"object"==typeof this.files&&this.files.constructor===Array?(this.FormData=new FormData,(this.files||[]).forEach(e=>this.FormData.append(this.postName,e,this.fileName||e.name)),this.FormDataChange.emit(this.FormData)):delete this.FormData}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(f.ZZ4))},e.\u0275dir=f.lG2({type:e,selectors:[["ngfFormData"]],inputs:{postName:"postName",FormData:"FormData",files:"files",fileName:"fileName"},outputs:{FormDataChange:"FormDataChange"}}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[r.ez]]}),e})();function E(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"th",21),f.TgZ(1,"mat-checkbox",22),f.NdJ("change",function(t){f.CHM(e);const n=f.oxw();return t?n.masterToggle():null}),f.qZA(),f.qZA()}if(2&e){const e=f.oxw();f.xp6(1),f.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function R(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"td",23),f.TgZ(1,"mat-checkbox",24),f.NdJ("click",function(e){return e.stopPropagation()})("change",function(t){const n=f.CHM(e).$implicit,r=f.oxw();return t?r.selection.toggle(n):null}),f.qZA(),f.qZA()}if(2&e){const e=t.$implicit,n=f.oxw();f.xp6(1),f.Q6J("checked",n.selection.isSelected(e))("aria-label",n.checkboxLabel(e))}}function D(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Date of Upload"),f.qZA())}function I(e,t){if(1&e&&(f.TgZ(0,"td",23),f._uU(1),f.ALo(2,"date"),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",f.xi3(2,1,e.updatedOn,"MM-dd-yyyy")," ")}}function L(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Document"),f.qZA())}function F(e,t){if(1&e&&(f.TgZ(0,"td",23),f.TgZ(1,"div"),f._uU(2),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(2),f.hij("",e.documentName," ")}}function N(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Attachment"),f.qZA())}function j(e,t){if(1&e&&(f.TgZ(0,"td",23),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.documentUrl," ")}}function Z(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Upload "),f.qZA())}function q(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"td",23),f.TgZ(1,"input",25),f.NdJ("filesChange",function(t){return f.CHM(e).$implicit.files=t})("click",function(){return f.CHM(e).$implicit.files=[]}),f.qZA(),f.TgZ(2,"ngfFormData",26),f.NdJ("FormDataChange",function(t){return f.CHM(e).$implicit.myFormData=t}),f.qZA(),f.qZA()}if(2&e){const e=t.$implicit;f.xp6(1),f.Q6J("files",e.files),f.xp6(1),f.Q6J("files",e.files)("FormData",e.myFormData)}}function U(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Action"),f.qZA())}function B(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",28),f.NdJ("click",function(){f.CHM(e);const t=f.oxw().$implicit;return f.oxw().uploadDocument(t)}),f.TgZ(1,"mat-icon",29),f._uU(2,"file_upload"),f.qZA(),f.qZA()}}function z(e,t){if(1&e&&(f.TgZ(0,"td",23),f.YNc(1,B,3,0,"button",27),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("ngIf",e.files.length>0)}}function V(e,t){1&e&&(f.TgZ(0,"th",21),f._uU(1,"Download"),f.qZA())}function W(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",28),f.NdJ("click",function(){f.CHM(e);const t=f.oxw().$implicit;return f.oxw().download(t)}),f.TgZ(1,"mat-icon",30),f._uU(2,"download"),f.qZA(),f.qZA()}}function H(e,t){if(1&e&&(f.TgZ(0,"td",23),f.YNc(1,W,3,0,"button",27),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("ngIf",e.documentUrl.length>0)}}function Y(e,t){1&e&&f._UZ(0,"tr",31)}function G(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"tr",32),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().selection.toggle(t)}),f.qZA()}}const Q=function(){return[100,150,200,250]};let J=(()=>{class e{constructor(e,t,n,r,i,a,o,u,d){this.activatedRoute=e,this.service=t,this.toastr=n,this.spin=r,this.sanitizer=i,this.dialog=a,this.cs=o,this.HttpClient=u,this.router=d,this.sub=new c.w,this.displayedColumns=["updatedOn","partner","download","date","no","action"],this.dataSource=new l.by,this.selection=new s.Ov(!0,[]),this.locationfile="",this.fileName="",this.classId=""}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.matterNumber=e.matterNumber,this.clientId=e.clientId,this.checkListNo=e.checkListNo,console.log(this.matterNumber),console.log(this.clientId),console.log(this.checkListNo),this.getMatterDetails()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getMatterDetails(){this.spin.show(),this.sub.add(this.service.getMatterDetails(this.matterNumber).subscribe(e=>{let t=[];this.sub.add(this.service.getChecklistDocument().subscribe(n=>{n.length>0&&n.forEach(n=>{n.caseCategoryId==e.caseCategoryId&&n.caseSubCategoryId==e.caseSubCategoryId&&(n.files=[],n.myFormData=FormData,t.push(n))}),t.length>0&&(this.dataSource.data=t),console.log(this.dataSource.data),this.spin.hide()})),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.partner+1}`:(this.isAllSelected()?"deselect":"select")+" all"}upload(){let e={};e.caseCategoryId=this.dataSource.data[0].caseCategoryId,e.caseSubCategoryId=this.dataSource.data[0].caseSubCategoryId,e.checkListNo=this.dataSource.data[0].checkListNo,e.clientId=this.clientId,e.matterNumber=this.matterNumber,this.sub.add(this.service.createClientPortalChecklistDocument(e).subscribe(e=>{this.toastr.success("CheckList document sent successfully!","Notification",{timeOut:2e3,progressBar:!1}),this.spin.hide(),this.router.navigate(["/main/documents/documents"])},e=>{this.cs.commonerror(e),this.spin.hide()}))}uploadDocument(e){if(e.files.length>0){this.spin.show();const t=new u.aW("POST","/doc-storage/upload?location=document/checklist",e.myFormData,{reportProgress:!0});this.HttpClient.request(t).subscribe(t=>{t instanceof u.Zn&&(e.documentUrl=t.body.file,console.log(e),this.spin.hide(),this.toastr.success("Document uploaded successfully.","Notification",{timeOut:2e3,progressBar:!1}))},e=>{this.spin.hide(),this.cs.commonerror(e)})}}download(e){var t=this;this.sub.add(this.service.Searchchecklistno({checkListNo:[this.checkListNo]}).subscribe(function(){var e=o(function*(e){console.log(e[0].documentUrl),t.spin.hide(),t.documentNo=e.documentNo,t.locationfile="document/checklist",t.spin.show(),t.classId=e[0].classId,t.fileName=e[0].documentUrl;const n=yield t.service.getfile1(t.classId,window.encodeURIComponent(t.fileName),t.locationfile).catch(e=>{t.cs.commonerror(e),t.fileName=""});if(t.spin.hide(),n){const e=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});t.fileUrldownload=t.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e)),t.docurl=window.URL.createObjectURL(n)}});return function(t){return e.apply(this,arguments)}}(),e=>{this.cs.commonerror(e),this.spin.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(i.gz),f.Y36(g),f.Y36(m._W),f.Y36(v.t2),f.Y36(y.H7),f.Y36(b.uw),f.Y36(_.v),f.Y36(u.eN),f.Y36(i.F0))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-documents-upload"]],viewQuery:function(e,t){if(1&e&&(f.Gf(d.YE,5),f.Gf(h.NW,5)),2&e){let e;f.iGM(e=f.CRH())&&(t.sort=e.first),f.iGM(e=f.CRH())&&(t.paginator=e.first)}},decls:39,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2"],["mat-table","","matSort","","matSortActive","updatedOn","matSortDirection","desc",1,"xl-margin","w-100","rowheight",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","updatedOn"],["matColumnDef","partner"],["matColumnDef","date"],["matColumnDef","no"],["matColumnDef","action"],["matColumnDef","download"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"pb-1","w-100","d-flex","justify-content-end","bottombutton1","bg-white"],[1,"pt-3","mr-5","pr-5"],["mat-raised-button","","color","warn","routerLink","/main/documents/document-upload",1,"text-white","mr-1","px-4"],[1,""],["mat-raised-button","",1,"bg-darkblue","px-4","text-white","ml-1",3,"click"],[1,"p-0","mx-1","d-none","d-md-block"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["ngf","","type","file","accept","*","id","","required","",1,"form-control","w-100",3,"files","filesChange","click"],["postName","file",3,"files","FormData","FormDataChange"],["mat-icon-button","","class","mx-2",3,"click",4,"ngIf"],["mat-icon-button","",1,"mx-2",3,"click"],[1,"text-secondary","hvr-wobble-horizontal"],[1,"text-secondary","hvr-wobble-horizontal","ml-2"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"h1",0),f._uU(1,"Document Upload"),f.qZA(),f.TgZ(2,"div",1),f.TgZ(3,"table",2),f.ynx(4,3),f.YNc(5,E,2,3,"th",4),f.YNc(6,R,2,2,"td",5),f.BQk(),f.ynx(7,6),f.YNc(8,D,2,0,"th",4),f.YNc(9,I,3,4,"td",5),f.BQk(),f.ynx(10,7),f.YNc(11,L,2,0,"th",4),f.YNc(12,F,3,1,"td",5),f.BQk(),f.ynx(13,8),f.YNc(14,N,2,0,"th",4),f.YNc(15,j,2,1,"td",5),f.BQk(),f.ynx(16,9),f.YNc(17,Z,2,0,"th",4),f.YNc(18,q,3,3,"td",5),f.BQk(),f.ynx(19,10),f.YNc(20,U,2,0,"th",4),f.YNc(21,z,2,1,"td",5),f.BQk(),f.ynx(22,11),f.YNc(23,V,2,0,"th",4),f.YNc(24,H,2,1,"td",5),f.BQk(),f.YNc(25,Y,1,0,"tr",12),f.YNc(26,G,1,0,"tr",13),f.qZA(),f.qZA(),f.TgZ(27,"div",14),f.TgZ(28,"div",15),f.TgZ(29,"button",16),f.TgZ(30,"mat-icon",17),f._uU(31,"close"),f.qZA(),f._uU(32," Close "),f.qZA(),f.TgZ(33,"button",18),f.NdJ("click",function(){return t.upload()}),f.TgZ(34,"mat-icon",17),f._uU(35,"done"),f.qZA(),f._uU(36," Submit "),f.qZA(),f.qZA(),f.TgZ(37,"div",19),f._UZ(38,"mat-paginator",20),f.qZA(),f.qZA()),2&e&&(f.xp6(3),f.Q6J("dataSource",t.dataSource),f.xp6(22),f.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f.xp6(1),f.Q6J("matRowDefColumns",t.displayedColumns),f.xp6(12),f.Q6J("pageSize",100)("pageSizeOptions",f.DdM(6,Q)))},directives:[l.BZ,d.YE,l.w1,l.fO,l.Dz,l.as,l.nj,w.lW,i.rH,A.Hw,h.NW,l.ge,d.nU,x.oG,l.ev,T,O,r.O5,l.XQ,l.Gk],pipes:[r.uU],styles:[".xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:1.5rem!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 9.5rem);overflow-x:scroll}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}}  .header-size{font-size:2rem!important}.upload[_ngcontent-%COMP%]{border-radius:0;background-color:#f6f6f6!important;height:11rem;width:22rem}.icon[_ngcontent-%COMP%]{font-size:40px!important}  .mat-header-cell{border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 8.5rem);overflow-x:scroll}.mat-list-icon[_ngcontent-%COMP%]{color:#0000008a}@media (max-width: 600px){.hide-xs[_ngcontent-%COMP%]{display:none!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 9.5rem);overflow-x:scroll}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}.bottombutton1[_ngcontent-%COMP%]{position:absolute;left:50%!important;transform:translate(-50%,-50%)!important;bottom:-5%!important}  .mat-header-cell{font-size:14px;font-weight:500}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important} .mat-list-base .mat-list-item{font-size:14px!important}"]}),e})();var X=n(5917),K=n(5758),$=n(5304);let ee=(()=>{class e{constructor(e,t,n,r,i){this.http=e,this.cs=t,this.auth=n,this.spin=r,this.toastr=i,this.setup="/mnr-setup-service/",this.dashboard="/mnr-crm-service/dashboard/",this.management="/mnr-management-service/",this.crm="/mnr-crm-service/",this.dropdownlist={setup:{classId:{url:this.setup+"class",key:{key:"classId",value:"classDescription"}},clientTypeId:{url:this.setup+"clientType",key:{key:"clientTypeId",value:"clientTypeDescription"}},languageId:{url:this.setup+"language",key:{key:"languageId",value:"languageDescription"}},screenId:{url:this.setup+"screen",key:{key:"screenId",value:"screenText"}},subScreenId:{url:this.setup+"screen",key:{key:"subScreenId",value:"subScreenName"}},subScreenId_search:{url:this.setup+"screen",key:{key:"subScreenName",value:"subScreenName"}},transactionId:{url:this.setup+"transaction",key:{key:"transactionId",value:"transactionDescription"}},messageType:{url:this.setup+"message",key:{key:"messageType",value:"messageType"}},companyId:{url:this.setup+"company",key:{key:"companyId",value:"companyName"}},messageId:{url:this.setup+"message",key:{key:"messageId",value:"messageDescription"}},inquiryModeId:{url:this.setup+"inquiryMode",key:{key:"inquiryModeId",value:"inquiryModeDescription"}},statusId:{url:this.setup+"status",key:{key:"statusId",value:"status"}},userId:{url:this.setup+"user",key:{key:"username",value:"username"}},userTypeId:{url:this.setup+"userType",key:{key:"userTypeId",value:"userTypeDescription"}},caseCategoryId:{url:this.setup+"caseCategory",key:{key:"caseCategoryId",value:"caseCategory"}},caseSubcategoryId:{url:this.setup+"caseSubcategory",key:{key:"caseSubcategoryId",value:"subCategoryDescription"}},intakeFormId:{url:this.setup+"intakeFormId",key:{key:"intakeFormId",value:"intakeFormDescription"}},agreementCode:{url:this.setup+"agreementTemplate",key:{key:"agreementCode",value:"agreementFileDescription",ismailmerge:"mailMerge"}},referralId:{url:this.setup+"referral",key:{key:"referralId",value:"referralDescription"}},subReferalId:{url:this.setup+"referral",key:{key:"subReferalId",value:"subReferralDescription"}},clientCategoryId:{url:this.setup+"clientCategory",key:{key:"clientCategoryId",value:"clientCategoryDescription"}},taskTypeCode:{url:this.setup+"taskType",key:{key:"taskTypeCode",value:"taskTypeDescription"}},numberRangeCode:{url:this.setup+"numberRange",key:{key:"numberRangeCode",value:"numberRangeObject"}},noteTypeId:{url:this.setup+"noteType",key:{key:"noteTypeId",value:"noteTypeText"}},timeKeeperCode:{url:this.setup+"timekeeperCode",key:{key:"timekeeperCode",value:"timekeeperName"}},activityCode:{url:this.setup+"activityCode",key:{key:"activityCode",value:"activityCodeDescription"}},taskbasedCode:{url:this.setup+"taskbasedCode",key:{key:"taskCode",value:"taskcodeType"}},expenseCode:{url:this.setup+"expenseCode",key:{key:"expenseCode",value:"expenseCodeDescription"}},documentcode:{url:this.setup+"documentTemplate",key:{key:"documentNumber",value:"documentNumber"}},notificationId:{url:this.setup+"notification",key:{key:"notificationId",value:"notificationDescription"}},accountNumber:{url:this.setup+"chartOfAccounts",key:{key:"accountNumber",value:"accountDescription"}},adminCost:{url:this.setup+"adminCost",key:{key:"adminCost",value:"adminCost"}},billingFrequencyId:{url:this.setup+"billingFrequency",key:{key:"billingFrequencyId",value:"billingFrequencyDescription"}},billingFormatId:{url:this.setup+"billingFormat",key:{key:"billingFormatId",value:"billingFormatDescription"}},billingModeId:{url:this.setup+"billingMode",key:{key:"billingModeId",value:"billingModeDescription"}},userRoleId:{url:this.setup+"userRole",key:{key:"userRoleId",value:"userRoleName"}},documentType:{url:this.setup+"expirationdoctype",key:{key:"documentType",value:"documentTypeDescription"}}},dashboard:{potentialClient:{url:this.dashboard+"potentialClient",key:{key:"fiteredCount",value:"totalCount"}},pcIntakeForm:{url:this.dashboard+"potentialClient",key:{key:"fiteredCount",value:"totalCount"}},inquiry:{url:this.dashboard+"inquiry",key:{key:"fiteredCount",value:"totalCount"}},agreement:{url:this.dashboard+"agreement",key:{key:"fiteredCount",value:"totalCount"}},agreementReceived:{url:this.dashboard+"agreementReceived",key:{key:"fiteredCount",value:"totalCount"}},agreementResent:{url:this.dashboard+"agreementResent",key:{key:"fiteredCount",value:"totalCount"}},agreementSent:{url:this.dashboard+"agreementSent",key:{key:"fiteredCount",value:"totalCount"}},agreementTotal:{url:this.dashboard+"agreementTotal",key:{key:"fiteredCount",value:"totalCount"}}},dashboard_matters:{total:{url:this.management+"mattergenacc/dashboard/total",key:{key:"fiteredCount",value:"totalCount"}},ret:{url:this.management+"mattergenacc/dashboard/RTE",key:{key:"fiteredCount",value:"totalCount"}},open:{url:this.management+"mattergenacc/dashboard/open",key:{key:"fiteredCount",value:"totalCount"}},filed:{url:this.management+"mattergenacc/dashboard/filed",key:{key:"fiteredCount",value:"totalCount"}},closed:{url:this.management+"mattergenacc/dashboard/closed",key:{key:"fiteredCount",value:"totalCount"}}},dashboard_client:{active:{url:this.management+"clientgeneral/dashboard/active",key:{key:"fiteredCount",value:"totalCount"}},recentClients:{url:this.management+"clientgeneral/dashboard/recentClients",key:{key:"fiteredCount",value:"totalCount"}},total:{url:this.management+"clientgeneral/dashboard/total",key:{key:"fiteredCount",value:"totalCount"}}},client:{clientId:{url:this.management+"clientgeneral",key:{key:"clientId",value:"firstNameLastName"}},notesNumber:{url:this.management+"clientnote",key:{key:"notesNumber",value:"notesNumber"}}},matter:{matterNumber:{url:this.management+"mattergenacc",key:{key:"matterNumber",value:"matterNumber"}},notesNumber:{url:this.management+"matternote",key:{key:"notesNumber",value:"notesNumber"}},timeTicketNumber:{url:this.management+"mattertimeticket",key:{key:"timeTicketNumber",value:"timeTicketNumber"}},taskNumber:{url:this.management+"mattertask",key:{key:"taskNumber",value:"taskNumber"}}},crm:{inquiryNumber:{url:this.crm+"inquiry",key:{key:"inquiryNumber",value:"inquiryNumber"}},potentialClientId:{url:this.crm+"potentialClient",key:{key:"potentialClientId",value:"potentialClientId"}}}}}getalldropdownlist(e){let t=[];return e.forEach(e=>{t.push(this.http.get(e).pipe((0,$.K)(e=>(0,X.of)(e))))}),(0,K.D)(t)}foreachlist(e,t,n={},r=!1){let i=[],a=e;n&&(a=this.cs.filterArray(e,n)),r&&i.push({key:"",value:""});for(const o of a)i.push({key:o[t.key],value:o[t.key]+" - "+o[t.value]});return i.sort((e,t)=>e.key>t.key?1:-1)}foreachlist_searchpage(e,t,n={},r=!1){let i=[],a=e;n&&(a=this.cs.filterArray(e,n)),r&&i.push({key:"",value:""});for(const o of a)i.push({key:o[t.key],value:o[t.value]});return i.sort((e,t)=>e.key>t.key?1:-1)}dockerSignStatusUpdatepotentialClientId(e){let t=[];return e.forEach(e=>{t.push(this.http.patch(e.url,e.obj).pipe((0,$.K)(e=>(0,X.of)(e))))}),(0,K.D)(t)}}return e.\u0275fac=function(t){return new(t||e)(f.LFG(u.eN),f.LFG(_.v),f.LFG(p.e),f.LFG(v.t2),f.LFG(m._W))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function te(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"Matter No"),f.qZA())}function ne(e,t){if(1&e&&(f.TgZ(0,"td",18),f.TgZ(1,"div"),f._uU(2),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(2),f.hij("",e.matterNumber," ")}}function re(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"checklist No"),f.qZA())}function ie(e,t){if(1&e&&(f.TgZ(0,"td",18),f.TgZ(1,"div"),f._uU(2),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(2),f.hij("",e.checkListNo," ")}}function ae(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"Description"),f.qZA())}function oe(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"Date"),f.qZA())}function se(e,t){if(1&e&&(f.TgZ(0,"td",19),f._uU(1),f.ALo(2,"date"),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",f.xi3(2,1,e.updatedOn,"MM-dd-yyyy")," ")}}function le(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"Status"),f.qZA())}function ce(e,t){if(1&e&&(f.TgZ(0,"td",19),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.AsE(" ",22==e.statusId?"RECEIVED":""," ",23==e.statusId?"SENT":""," ")}}function ue(e,t){1&e&&(f.TgZ(0,"th",17),f._uU(1,"Actions "),f.qZA())}const de=function(e,t,n){return["/main/documents/document-upload",e,t,n]};function he(e,t){if(1&e&&(f.TgZ(0,"td",19),f.TgZ(1,"button",20),f.TgZ(2,"p",21),f._uU(3,"View"),f.qZA(),f.TgZ(4,"mat-icon",22),f._uU(5,"trending_flat"),f.qZA(),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.Q6J("routerLink",f.kEZ(1,de,e.matterNumber,e.clientId,e.checkListNo))}}function fe(e,t){1&e&&f._UZ(0,"tr",23)}function pe(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"tr",24),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().selection.toggle(t)}),f.qZA()}}const ge=function(){return[5,10,25,100]};let me=(()=>{class e{constructor(e,t,n,r,i,a){this.service=e,this.toastr=t,this.spin=n,this.cs=r,this.cas=i,this.auth=a,this.displayedColumns=["lineno","updatedOn","product","no"],this.dataSource=new l.by,this.selection=new s.Ov(!0,[]),this.sub=new c.w}ngOnInit(){this.getAllCheckListDocuments()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getAllCheckListDocuments(){let e=[],t=[],n=[];this.spin.show(),this.cas.getalldropdownlist([this.cas.dropdownlist.setup.classId.url,this.cas.dropdownlist.setup.caseCategoryId.url,this.cas.dropdownlist.setup.caseSubcategoryId.url]).subscribe(r=>{e=this.cas.foreachlist_searchpage(r[0],this.cas.dropdownlist.setup.classId.key),t=this.cas.foreachlist_searchpage(r[1],this.cas.dropdownlist.setup.caseCategoryId.key),n=this.cas.foreachlist_searchpage(r[2],this.cas.dropdownlist.setup.caseSubcategoryId.key),this.spin.hide(),this.spin.show(),this.sub.add(this.service.searchMatterDocList({clientId:[this.auth.clientId]}).subscribe(r=>{r.forEach(r=>{var i,a,o;r.classId=null===(i=e.find(e=>e.key==r.classId))||void 0===i?void 0:i.value,r.caseCategoryId=null===(a=t.find(e=>e.key==r.caseCategoryId))||void 0===a?void 0:a.value,r.caseSubCategoryId=null===(o=n.find(e=>e.key==r.caseSubCategoryId))||void 0===o?void 0:o.value}),this.dataSource.data=r,this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))},e=>{this.toastr.error(e,"")}),this.spin.hide()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(g),f.Y36(m._W),f.Y36(v.t2),f.Y36(_.v),f.Y36(ee),f.Y36(p.e))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-documents"]],viewQuery:function(e,t){if(1&e&&(f.Gf(d.YE,5),f.Gf(h.NW,5)),2&e){let e;f.iGM(e=f.CRH())&&(t.sort=e.first),f.iGM(e=f.CRH())&&(t.paginator=e.first)}},decls:26,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2","xl-margin1"],["mat-table","","matSort","","matSortActive","updatedOn","matSortDirection","desc",1,"w-100","rowheight",3,"dataSource"],["matColumnDef","lineno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","checklist"],["matColumnDef","partner"],["matColumnDef","updatedOn"],["mat-cell","",4,"matCellDef"],["matColumnDef","product"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-left"],["mat-cell",""],["mat-icon-button","",1,"hvr-wobble-horizontal",3,"routerLink"],[1,"d-inline","mr-2","text-blue","hide-xs"],[1,"d-inline","text-blue"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"h1",0),f._uU(1,"Document"),f.qZA(),f.TgZ(2,"div",1),f.TgZ(3,"table",2),f.ynx(4,3),f.YNc(5,te,2,0,"th",4),f.YNc(6,ne,3,1,"td",5),f.BQk(),f.ynx(7,6),f.YNc(8,re,2,0,"th",4),f.YNc(9,ie,3,1,"td",5),f.BQk(),f.ynx(10,7),f.YNc(11,ae,2,0,"th",4),f.BQk(),f.ynx(12,8),f.YNc(13,oe,2,0,"th",4),f.YNc(14,se,3,4,"td",9),f.BQk(),f.ynx(15,10),f.YNc(16,le,2,0,"th",4),f.YNc(17,ce,2,2,"td",9),f.BQk(),f.ynx(18,11),f.YNc(19,ue,2,0,"th",4),f.YNc(20,he,6,5,"td",9),f.BQk(),f.YNc(21,fe,1,0,"tr",12),f.YNc(22,pe,1,0,"tr",13),f.qZA(),f.qZA(),f.TgZ(23,"div",14),f.TgZ(24,"div",15),f._UZ(25,"mat-paginator",16),f.qZA(),f.qZA()),2&e&&(f.xp6(3),f.Q6J("dataSource",t.dataSource),f.xp6(18),f.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f.xp6(1),f.Q6J("matRowDefColumns",t.displayedColumns),f.xp6(3),f.Q6J("pageSize",10)("pageSizeOptions",f.DdM(6,ge)))},directives:[l.BZ,d.YE,l.w1,l.fO,l.Dz,l.as,l.nj,h.NW,l.ge,d.nU,l.ev,w.lW,i.rH,A.Hw,l.XQ,l.Gk],pipes:[r.uU],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%], .xl-margin1[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%], .xl-margin1[_ngcontent-%COMP%]{margin-top:1rem}.hide-xs[_ngcontent-%COMP%]{display:none!important}.mat-column-lineno[_ngcontent-%COMP%]{width:48%!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center!important;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.mat-column-lineno[_ngcontent-%COMP%]{width:30%}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}.mat-column-lineno[_ngcontent-%COMP%]{flex:0 0 17%!important;width:25%!important;padding-right:20px!important}.mat-column-date[_ngcontent-%COMP%], .mat-column-product[_ngcontent-%COMP%]{flex:0 0 17%!important;width:20%!important;padding-right:20px!important}.mat-column-statusIddes[_ngcontent-%COMP%]{flex:0 0 17%!important;width:16%!important;padding-right:20px!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 18.3rem)}"]}),e})(),ve=(()=>{class e{constructor(e,t,n,r,i,a,o,s,l,u,d){this.HttpClient=e,this.location=t,this.sanitizer=n,this.cs=r,this.router=i,this.route=a,this.auth=o,this.service=s,this.cas=l,this.spin=u,this.toastr=d,this.sub=new c.w,this.pageflowupload=!1,this.pageflow="",this.locationfile="",this.fileName="",this.classId="",this.files=[],this.postUrl="/doc-storage/upload",this.uploadPercent=0,this.issend=!1,this.accept="*"}ngOnInit(){let e=this.cs.decrypt(this.route.snapshot.params.code);this.pageflow=e.pageflow,"upload"==e.pageflow&&(this.pageflowupload=!0),this.fill(e.code),this.code=e.code}fill(e){var t=this;return o(function*(){t.spin.show(),t.sub.add(t.service.GetmatterDocument(e).subscribe(function(){var e=o(function*(e){t.spin.hide(),t.documentNo=e.documentNo,t.locationfile="document/"+e.clientId+"/"+e.matterNumber,t.sub.add(t.service.Get_documentTemplate(e.documentNo).subscribe(function(){var n=o(function*(n){t.spin.show(),t.classId=n.classId,t.fileName=e.documentUrl?e.documentUrl:n.documentUrl;const r=yield t.service.getfile1(t.classId,window.encodeURIComponent(t.fileName),t.locationfile).catch(e=>{t.cs.commonerror(e),t.fileName=""});if(t.spin.hide(),r){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});t.fileUrldownload=t.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e)),t.docurl=window.URL.createObjectURL(r)}});return function(e){return n.apply(this,arguments)}}(),e=>{t.cs.commonerror(e),t.spin.hide()}))});return function(t){return e.apply(this,arguments)}}(),e=>{t.cs.commonerror(e),t.spin.hide()}))})()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(u.eN),f.Y36(Location),f.Y36(y.H7),f.Y36(_.v),f.Y36(i.F0),f.Y36(i.gz),f.Y36(p.e),f.Y36(g),f.Y36(ee),f.Y36(v.t2),f.Y36(m._W))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-document-view"]],decls:2,vars:0,template:function(e,t){1&e&&(f.TgZ(0,"p"),f._uU(1,"document-view works!"),f.qZA())},styles:[""]}),e})();var ye=n(6685),be=n(3621);function _e(e,t){if(1&e&&f._UZ(0,"ngx-doc-viewer",6),2&e){const e=f.oxw();f.Q6J("url",e.docurl)}}function we(e,t){if(1&e&&f._UZ(0,"pdf-viewer",7),2&e){const e=f.oxw();f.Q6J("src",e.docurl)}}let Ae=(()=>{class e{constructor(e,t,n,r,i,a,o,s,l,u,d){this.HttpClient=e,this.location=t,this.sanitizer=n,this.cs=r,this.router=i,this.route=a,this.auth=o,this.service=s,this.cas=l,this.spin=u,this.toastr=d,this.icon="expand_more",this.toggle=!0,this.isShowDiv=!1,this.files=[],this.postUrl="/doc-storage/upload",this.uploadPercent=0,this.issend=!1,this.accept="*",this.isupload=!0,this.url="/upload",this.hasBaseDropZoneOver=!1,this.httpEmitter=new c.w,this.sub=new c.w,this.pageflowupload=!1,this.pageflow="",this.locationfile="",this.fileName="",this.classId=""}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}ngOnInit(){let e=this.cs.decrypt(this.route.snapshot.params.code);this.pageflow=e.pageflow,"upload"==e.pageflow&&(this.pageflowupload=!0),this.fill(e.code),this.code=e.code}fill(e){var t=this;return o(function*(){console.log(e),t.spin.show(),t.sub.add(t.service.GetmatterDocument(e).subscribe(function(){var e=o(function*(e){console.log(e),t.spin.hide(),t.documentNo=e.documentNo,t.locationfile="clientportal/"+e.clientId+"/"+e.matterNumber,t.pageflowupload||t.sub.add(t.service.Get_documentTemplate(e.documentNo).subscribe(function(){var n=o(function*(n){t.spin.show(),t.classId=n.classId,t.fileName=e.documentUrl?e.documentUrl:n.documentUrl;const r=yield t.service.getfile1(t.classId,window.encodeURIComponent(t.fileName),t.locationfile).catch(e=>{t.cs.commonerror(e),t.fileName=""});if(t.spin.hide(),r){const e=new Blob([r],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});t.fileUrldownload=t.sanitizer.bypassSecurityTrustResourceUrl(window.URL.createObjectURL(e)),t.docurl=window.URL.createObjectURL(r)}});return function(e){return n.apply(this,arguments)}}(),e=>{t.cs.commonerror(e),t.spin.hide()}))});return function(t){return e.apply(this,arguments)}}(),e=>{t.cs.commonerror(e),t.spin.hide()}))})()}display(e){this.docurl=window.URL.createObjectURL(e[0])}getDate(){return new Date}cancel(){this.location.back()}print(){window.print()}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(u.eN),f.Y36(r.Ye),f.Y36(y.H7),f.Y36(_.v),f.Y36(i.F0),f.Y36(i.gz),f.Y36(p.e),f.Y36(g),f.Y36(ee),f.Y36(v.t2),f.Y36(m._W))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-document"]],decls:8,vars:3,consts:[[1,"d-flex","align-items-center","justify-content-between","mx-1","my-2","mb-2","bg-white"],[1,"d-flex","justify-content-between","align-items-center","text-secondary","mx-3",2,"height","3rem","padding-left","2.4rem"],[1,"my-auto","mb-0","text-dark",2,"font-size","22px"],[1,"scroll"],["class","px-5","viewer","mammoth","style","width:100%;height: 65%;",3,"url",4,"ngIf"],[3,"src",4,"ngIf"],["viewer","mammoth",1,"px-5",2,"width","100%","height","65%",3,"url"],[3,"src"]],template:function(e,t){1&e&&(f._UZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"h3",2),f._uU(3),f.qZA(),f.qZA(),f._UZ(4,"br"),f.TgZ(5,"div",3),f.YNc(6,_e,1,1,"ngx-doc-viewer",4),f.YNc(7,we,1,1,"pdf-viewer",5),f.qZA()),2&e&&(f.xp6(3),f.hij("Document Number - ",t.documentNo,""),f.xp6(3),f.Q6J("ngIf",!t.fileName.includes(".pdf")),f.xp6(1),f.Q6J("ngIf",t.fileName.includes(".pdf")))},directives:[r.O5,ye.zr,be.rQ],styles:[".scroll[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100vh - 9rem)}"]}),e})();var xe=n(3461),ke=n(8295),Se=n(7441),Ce=n(3679),Pe=n(6258),Te=n(2458);function Oe(e,t){if(1&e&&(f.TgZ(0,"mat-option",23),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.Q6J("value",e.matterNumber),f.xp6(1),f.hij(" ",e.matterNumber," ")}}function Me(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"button",24),f.NdJ("click",function(){return f.CHM(e),f.oxw().uploadDocument()}),f.TgZ(1,"mat-icon",25),f._uU(2,"upload"),f.qZA(),f.qZA()}}let Ee=(()=>{class e{constructor(e,t,n,r,i,a,o){this.dialogRef=e,this.data=t,this.toastr=n,this.spin=r,this.cs=i,this.httpClient=a,this.service=o,this.btntext="Save",this.files=[],this.documentUrl="",this.sub=new c.w,this.matterDetails={},this.locationfile="",this.fileName="",this.classId=""}ngOnInit(){console.log(this.data),this.data=this.removeDuplicateMatter(this.data)}getMatter(){this.sub.add(this.service.getMatterDetails(this.selectedMatter).subscribe(e=>{this.matterDetails=e}))}removeDuplicateMatter(e=[]){let t={};for(let n=0;n<e.length;n++)t[e[n].matterNumber]=e[n];e=new Array;for(let n in t)e.push(t[n]);return e}upload(){if(""==this.documentUrl)return this.toastr.error("Please upload document to continue","Notification",{timeOut:2e3,progressBar:!1}),void this.cs.notifyOther(!0);let e={};e.classId=this.matterDetails.classId,e.clientId=this.matterDetails.clientId,e.caseCategoryId=this.matterDetails.caseCategoryId,e.caseSubCategoryId=this.matterDetails.caseSubCategoryId,e.matterNumber=this.selectedMatter,e.documentUrl=this.documentUrl,e.languageId="EN",e.statusId=23,this.sub.add(this.service.createClinetPortalmatterDocument([e]).subscribe(e=>{this.toastr.success("CheckList document successfully!","Notification",{timeOut:2e3,progressBar:!1}),this.spin.hide(),this.dialogRef.close()},e=>{this.cs.commonerror(e),this.spin.hide()}))}uploadDocument(){var e=this;this.files.length>0&&(this.spin.show(),this.sub.add(this.service.getMatterDetails(this.selectedMatter).subscribe(function(){var t=o(function*(t){e.locationfile="clientportal/"+t.clientId+"/"+t.matterNumber,e.classId=t.classId;const n=new u.aW("POST",`/doc-storage/upload?location=${e.locationfile}&classId=${e.classId}`,e.myFormData,{reportProgress:!0});e.httpClient.request(n).subscribe(t=>{t instanceof u.Zn&&(e.documentUrl=t.body.file,e.spin.hide(),e.toastr.success("Document uploaded successfully.","Notification",{timeOut:2e3,progressBar:!1}))},t=>{e.spin.hide(),e.cs.commonerror(t)})});return function(e){return t.apply(this,arguments)}}())))}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(b.so),f.Y36(b.WI),f.Y36(m._W),f.Y36(v.t2),f.Y36(_.v),f.Y36(u.eN),f.Y36(g))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-uploadmatter"]],decls:28,vars:7,consts:[[1,"card","bg-white",2,"overflow-x","hidden"],["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"d-flex","justify-content-between","align-items-center","header_colour","text-white","p-2"],[1,"my-auto"],["mat-dialog-close","",1,"bi","bi-x-lg","px-3"],[1,"mt-2"],[1,"row","mt-2","px-3","p-1"],[1,"col-lg-6","col-md-6","mt-1"],[1,"d-flex","flex-column"],[1,"mb-0","py-0","text-black"],["appearance","outline",1,"form-group","input_field","mb-0","w-100"],["placeholder","select","placeholder","Select",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-6","mt-1"],[1,"mb-0","py-0","text-white","mb-1"],["ngf","","type","file","accept","*","id","","required","",1,"form-control",3,"files","filesChange","click"],["postName","file",3,"files","FormData","FormDataChange"],[1,"col-1","my-auto","pt-3"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","py-2"],["mat-raised-button","","color","warn","mat-dialog-close","",1,"mx-2"],[1,"bi","bi-x","me-1","font-size-1_5rem"],["mat-raised-button","",1,"mx-2","bg-blue","text-white",3,"click"],[1,"bi","bi-check2","me-1","font-size-1_5rem"],[3,"value"],["mat-icon-button","",3,"click"],[1,"text-primary"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"h2",2),f._uU(3," Document Upload"),f.qZA(),f._UZ(4,"i",3),f.qZA(),f.TgZ(5,"div",4),f.TgZ(6,"div",5),f.TgZ(7,"div",6),f.TgZ(8,"div",7),f.TgZ(9,"p",8),f._uU(10,"Matter No"),f.qZA(),f.TgZ(11,"mat-form-field",9),f.TgZ(12,"mat-select",10),f.NdJ("ngModelChange",function(e){return t.selectedMatter=e})("selectionChange",function(){return t.getMatter()}),f.YNc(13,Oe,2,2,"mat-option",11),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(14,"div",12),f.TgZ(15,"p",13),f._uU(16,"Document No"),f.qZA(),f.TgZ(17,"input",14),f.NdJ("filesChange",function(e){return t.files=e})("click",function(){return t.files=[]}),f.qZA(),f.TgZ(18,"ngfFormData",15),f.NdJ("FormDataChange",function(e){return t.myFormData=e}),f.qZA(),f.qZA(),f.TgZ(19,"div",16),f.YNc(20,Me,3,0,"button",17),f.qZA(),f.qZA(),f.TgZ(21,"div",18),f.TgZ(22,"button",19),f._UZ(23,"i",20),f._uU(24,"Cancel"),f.qZA(),f.TgZ(25,"button",21),f.NdJ("click",function(){return t.upload()}),f._UZ(26,"i",22),f._uU(27),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.xp6(12),f.Q6J("ngModel",t.selectedMatter),f.xp6(1),f.Q6J("ngForOf",t.data),f.xp6(4),f.Q6J("files",t.files),f.xp6(1),f.Q6J("files",t.files)("FormData",t.myFormData),f.xp6(2),f.Q6J("ngIf",t.files.length>0),f.xp6(7),f.hij(" ",t.btntext,""))},directives:[b.uh,xe.Zt,xe.Bh,b.ZT,ke.KE,Se.gD,Ce.JJ,Ce.On,Pe.mh,r.sg,T,O,r.O5,w.lW,Te.ey,A.Hw],styles:[".mat-dialog-container{padding:0}.header_colour[_ngcontent-%COMP%]{background-color:#4faf99}  .mat-dialog-container{color:#000}.input_field[_ngcontent-%COMP%]{width:100%;border-color:#dee2e6}.input_field1[_ngcontent-%COMP%]{width:30%;border-color:#dee2e6}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.5em 0 .7em!important}  .mat-form-field-wrapper{padding-bottom:.5rem}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#a7a7a70a}.font-size-1_5rem[_ngcontent-%COMP%]{font-size:1.5rem}.scroll[_ngcontent-%COMP%]{height:19rem;overflow-y:scroll;overflow-x:hidden}.editor[_ngcontent-%COMP%]{border:2px solid #0003;border-radius:4px}.editor[_ngcontent-%COMP%]   .NgxEditor__MenuBar[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid #0003}.editor[_ngcontent-%COMP%]   .NgxEditor[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;border:none}.editor[_ngcontent-%COMP%]   .CodeMirror[_ngcontent-%COMP%]{border:1px solid #eee;height:auto;margin-bottom:.7rem}.editor[_ngcontent-%COMP%]   .CodeMirror[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{white-space:pre!important}[_ngcontent-%COMP%]::-webkit-file-upload-button{background:#006990;color:#fff;border-radius:3px}"]}),e})();var Re=n(2502);function De(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Matter No"),f.qZA())}function Ie(e,t){if(1&e&&(f.TgZ(0,"td",20),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij("",e.matterNumber," ")}}function Le(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Description"),f.qZA())}function Fe(e,t){if(1&e&&(f.TgZ(0,"td",21),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.matterName," ")}}function Ne(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Received Date "),f.qZA())}function je(e,t){if(1&e&&(f.TgZ(0,"td",21),f._uU(1),f.ALo(2,"date"),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",f.Dn7(2,1,e.createdOn,"MM-dd-yyyy","UTC 0")," ")}}function Ze(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Document Name"),f.qZA())}function qe(e,t){if(1&e&&(f.TgZ(0,"td",21),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.documentNo," ")}}function Ue(e,t){1&e&&(f.TgZ(0,"th",19),f._uU(1,"Actions "),f.qZA())}function Be(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"td",21),f.TgZ(1,"button",22),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().open_link(t)}),f.TgZ(2,"p",23),f._uU(3,"View"),f.qZA(),f.TgZ(4,"mat-icon",24),f._uU(5,"trending_flat"),f.qZA(),f.qZA(),f.qZA()}}function ze(e,t){1&e&&f._UZ(0,"tr",25)}function Ve(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"tr",26),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().selection.toggle(t)}),f.qZA()}}const We=function(){return[5,10,25,100]};let He=(()=>{class e{constructor(e,t,n,r,i,a,o,u,d){this.dialog=e,this.service=t,this.matterService=n,this.toastr=r,this.router=i,this.spin=a,this.cs=o,this.fb=u,this.auth=d,this.sub=new c.w,this.ELEMENT_DATA=[],this.isShowDiv=!1,this.toggle=!0,this.icon="expand_more",this.matterList=[],this.displayedColumns=["lineno","partner","product","no"],this.dataSource=new l.by(this.ELEMENT_DATA),this.selection=new s.Ov(!0,[]),this.showFiller=!1,this.multiselectclientList=[],this.multiclientList=[],this.multiselectdocList=[],this.multidocList=[]}routeto(e,t){localStorage.setItem("crrentmenu",t),this.router.navigate([e])}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}upload(){console.log(this.matterList),this.dialog.open(Ee,{disableClose:!0,width:"50%",maxWidth:"80%",position:{top:"6.5%"},data:this.matterList}).afterClosed().subscribe(()=>{})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getDropdown(),this.getAll()}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}getDropdown(){this.sub.add(this.matterService.filterMatter({clientId:[this.auth.clientId]}).subscribe(e=>{this.clientList=e,this.clientList.forEach(e=>this.multiclientList.push({id:e.matterNumber,itemName:e.matterDescription})),console.log(this.multiclientList),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()})),this.sub.add(this.service.GetallDocName().subscribe(e=>{this.docList=e,this.docList.forEach(e=>this.multidocList.push({id:e.documentNumber,itemName:e.documentFileDescription})),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}getAll(){this.spin.show(),this.sub.add(this.service.getMatterDocument().subscribe(e=>{console.log(this.multiclientList),this.sub.add(this.matterService.filterMatter({clientId:[this.auth.clientId]}).subscribe(t=>{this.clientList=t,this.clientList.forEach(e=>this.multiclientList.push({id:e.matterNumber,itemName:e.matterDescription}));let n=[];e.forEach(e=>{var t,r;e.clientId==this.auth.clientId&&(e.matterName=null===(t=this.multiclientList.find(t=>t.id==e.matterNumber))||void 0===t?void 0:t.itemName,e.documentNo=null===(r=this.multidocList.find(t=>t.id==e.documentNo))||void 0===r?void 0:r.itemName,n.push(e))});let r=n.filter(e=>"Client Portal"==e.referenceField5);this.matterList=r,this.dataSource=new l.by(r),this.selection=new s.Ov(!0,[]),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.spin.hide(),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.matterNumber+1}`:(this.isAllSelected()?"deselect":"select")+" all"}clearselection(e){this.selection.clear(),this.selection.toggle(e)}open_link(e){console.log(e),this.router.navigate(["main/documents/documentpdf/"+this.cs.encrypt({code:e.matterDocumentId})])}}return e.\u0275fac=function(t){return new(t||e)(f.Y36(b.uw),f.Y36(g),f.Y36(Re.B),f.Y36(m._W),f.Y36(i.F0),f.Y36(v.t2),f.Y36(_.v),f.Y36(Ce.qu),f.Y36(p.e))},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-documentsfrom-mr"]],viewQuery:function(e,t){if(1&e&&(f.Gf(d.YE,7),f.Gf(h.NW,7)),2&e){let e;f.iGM(e=f.CRH())&&(t.sort=e.first),f.iGM(e=f.CRH())&&(t.paginator=e.first)}},decls:28,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"d-flex","justify-content-end","align-items-center","mb-2"],["mat-raised-button","",1,"mx-2","bg-yellow","text-white",3,"click"],[1,"bi","bi-plus","me-1","font-size-1_5rem"],[1,"scroll2","xl-margin1"],["mat-table","","matSort","","matSortActive","createdOn","matSortDirection","desc",1,"w-100","rowheight",3,"dataSource"],["matColumnDef","lineno"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","partner"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","product"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",1,"text-left"],["mat-cell",""],["mat-icon-button","",1,"hvr-wobble-horizontal",3,"click"],[1,"d-inline","mr-2","text-blue","hide-xs"],[1,"d-inline","text-blue"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"h1",0),f._uU(1,"Document"),f.qZA(),f.TgZ(2,"div",1),f.TgZ(3,"button",2),f.NdJ("click",function(){return t.upload()}),f._UZ(4,"i",3),f._uU(5," Upload"),f.qZA(),f.qZA(),f.TgZ(6,"div",4),f.TgZ(7,"table",5),f.ynx(8,6),f.YNc(9,De,2,0,"th",7),f.YNc(10,Ie,2,1,"td",8),f.BQk(),f.ynx(11,9),f.YNc(12,Le,2,0,"th",7),f.YNc(13,Fe,2,1,"td",10),f.BQk(),f.ynx(14,11),f.YNc(15,Ne,2,0,"th",7),f.YNc(16,je,3,5,"td",10),f.BQk(),f.ynx(17,12),f.YNc(18,Ze,2,0,"th",7),f.YNc(19,qe,2,1,"td",10),f.BQk(),f.ynx(20,13),f.YNc(21,Ue,2,0,"th",7),f.YNc(22,Be,6,0,"td",10),f.BQk(),f.YNc(23,ze,1,0,"tr",14),f.YNc(24,Ve,1,0,"tr",15),f.qZA(),f.qZA(),f.TgZ(25,"div",16),f.TgZ(26,"div",17),f._UZ(27,"mat-paginator",18),f.qZA(),f.qZA()),2&e&&(f.xp6(7),f.Q6J("dataSource",t.dataSource),f.xp6(16),f.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f.xp6(1),f.Q6J("matRowDefColumns",t.displayedColumns),f.xp6(3),f.Q6J("pageSize",10)("pageSizeOptions",f.DdM(6,We)))},directives:[w.lW,l.BZ,d.YE,l.w1,l.fO,l.Dz,l.as,l.nj,h.NW,l.ge,d.nU,l.ev,A.Hw,l.XQ,l.Gk],pipes:[r.uU],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}.xl-margin1[_ngcontent-%COMP%]{margin-top:1.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%], .xl-margin1[_ngcontent-%COMP%]{margin-top:1rem}.hide-xs[_ngcontent-%COMP%]{display:none!important}.mat-column-lineno[_ngcontent-%COMP%]{width:48%!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}.font-size-1_5rem[_ngcontent-%COMP%]{font-size:1.5rem!important}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.mat-column-lineno[_ngcontent-%COMP%]{width:30%}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}.mat-column-lineno[_ngcontent-%COMP%]{width:25%!important}.mat-column-date[_ngcontent-%COMP%], .mat-column-product[_ngcontent-%COMP%]{width:20%!important;padding-right:20px!important}.mat-column-statusIddes[_ngcontent-%COMP%]{flex:0 0 17%!important;width:16%!important;padding-right:20px!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 18.3rem)}.mat-column-lineno[_ngcontent-%COMP%]{flex:0 0 17%!important;width:15%!important;padding-right:20px!important;text-align:left!important}.mat-column-classId[_ngcontent-%COMP%]{width:13%!important}.mat-column-classId[_ngcontent-%COMP%], .mat-column-partner[_ngcontent-%COMP%]{flex:0 0 17%!important;padding-right:10px!important}.mat-column-partner[_ngcontent-%COMP%]{width:35%!important}.mat-column-agreementCode[_ngcontent-%COMP%]{width:11%!important}.mat-column-agreementCode[_ngcontent-%COMP%], .mat-column-caseCategory[_ngcontent-%COMP%]{flex:0 0 17%!important;padding-right:10px!important}.mat-column-caseCategory[_ngcontent-%COMP%]{width:10%!important}.mat-column-product[_ngcontent-%COMP%]{width:35%!important}.mat-column-product[_ngcontent-%COMP%], .mat-column-url[_ngcontent-%COMP%]{flex:0 0 17%!important;padding-right:10px!important}.mat-column-url[_ngcontent-%COMP%]{width:2%!important}.mat-column-agreementStatus[_ngcontent-%COMP%], .mat-column-date[_ngcontent-%COMP%]{flex:0 0 17%!important;width:10%!important;padding-right:10px!important}"]}),e})();function Ye(e,t){1&e&&(f.TgZ(0,"th",14),f._uU(1,"Matter No"),f.qZA())}function Ge(e,t){if(1&e&&(f.TgZ(0,"td",15),f._uU(1),f.qZA()),2&e){const e=t.$implicit;f.xp6(1),f.hij(" ",e.lineno," ")}}function Qe(e,t){1&e&&(f.TgZ(0,"th",14),f._uU(1,"Date"),f.qZA())}function Je(e,t){if(1&e&&(f.TgZ(0,"td",15),f.TgZ(1,"div"),f._uU(2),f.qZA(),f.qZA()),2&e){const e=t.$implicit;f.xp6(2),f.hij("",e.partner," ")}}function Xe(e,t){1&e&&(f.TgZ(0,"th",14),f._uU(1,"Status"),f.qZA())}function Ke(e,t){1&e&&(f.TgZ(0,"td",15),f._UZ(1,"i",16),f.qZA())}function $e(e,t){1&e&&(f.TgZ(0,"th",14),f._uU(1,"Actions "),f.qZA())}function et(e,t){1&e&&(f.TgZ(0,"td",15),f.TgZ(1,"button",17),f.TgZ(2,"mat-icon",18),f._uU(3,"upload"),f.qZA(),f.qZA(),f.TgZ(4,"button",17),f.TgZ(5,"mat-icon",18),f._uU(6,"file_download"),f.qZA(),f.qZA(),f.qZA())}function tt(e,t){1&e&&f._UZ(0,"tr",19)}function nt(e,t){if(1&e){const e=f.EpF();f.TgZ(0,"tr",20),f.NdJ("click",function(){const t=f.CHM(e).$implicit;return f.oxw().selection.toggle(t)}),f.qZA()}}const rt=function(){return[5,10,25,100]},it=[{lineno:"10029-01",partner:"04-02-2022",date:"signature.pdf"},{lineno:"10029-02",partner:"04-02-2022",date:"passport.jpeg"},{lineno:"10029-03",partner:"04-02-2022",date:"visadoc.pdf"}],at=[{path:"document-upload/:matterNumber/:clientId/:checkListNo",component:J},{path:"documents",component:me},{path:"documentupload",component:(()=>{class e{constructor(){this.displayedColumns=["lineno","partner","date","no"],this.dataSource=new l.by(it),this.selection=new s.Ov(!0,[])}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Xpm({type:e,selectors:[["app-documentupload"]],decls:21,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2","xl-margin"],["mat-table","",1,"w-100","rowheight",3,"dataSource"],["matColumnDef","lineno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","partner"],["matColumnDef","date"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"fas","fa-check","text-success"],["mat-icon-button","",1,"mx-2"],[1,"text-secondary","hvr-wobble-horizontal"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"h1",0),f._uU(1,"Document Upload"),f.qZA(),f.TgZ(2,"div",1),f.TgZ(3,"table",2),f.ynx(4,3),f.YNc(5,Ye,2,0,"th",4),f.YNc(6,Ge,2,1,"td",5),f.BQk(),f.ynx(7,6),f.YNc(8,Qe,2,0,"th",4),f.YNc(9,Je,3,1,"td",5),f.BQk(),f.ynx(10,7),f.YNc(11,Xe,2,0,"th",4),f.YNc(12,Ke,2,0,"td",5),f.BQk(),f.ynx(13,8),f.YNc(14,$e,2,0,"th",4),f.YNc(15,et,7,0,"td",5),f.BQk(),f.YNc(16,tt,1,0,"tr",9),f.YNc(17,nt,1,0,"tr",10),f.qZA(),f.qZA(),f.TgZ(18,"div",11),f.TgZ(19,"div",12),f._UZ(20,"mat-paginator",13),f.qZA(),f.qZA()),2&e&&(f.xp6(3),f.Q6J("dataSource",t.dataSource),f.xp6(13),f.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),f.xp6(1),f.Q6J("matRowDefColumns",t.displayedColumns),f.xp6(3),f.Q6J("pageSize",10)("pageSizeOptions",f.DdM(6,rt)))},directives:[l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,h.NW,l.ge,l.ev,w.lW,A.Hw,l.XQ,l.Gk],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:4.2rem!important}.xl-margin1[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%], .xl-margin1[_ngcontent-%COMP%]{margin-top:1rem}.hide-xs[_ngcontent-%COMP%]{display:none!important}.mat-column-lineno[_ngcontent-%COMP%]{width:48%!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-align:center!important;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.mat-column-lineno[_ngcontent-%COMP%]{width:30%}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}.mat-column-lineno[_ngcontent-%COMP%]{flex:0 0 17%!important;width:25%!important;padding-right:20px!important}.mat-column-date[_ngcontent-%COMP%], .mat-column-product[_ngcontent-%COMP%]{flex:0 0 17%!important;width:20%!important;padding-right:20px!important}.mat-column-statusIddes[_ngcontent-%COMP%]{flex:0 0 17%!important;width:16%!important;padding-right:20px!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 18.3rem)}"]}),e})()},{path:"document-MR",component:He},{path:"document-view",component:ve},{path:"documentpdf",component:Ae},{path:"documentpdf/:code",component:Ae},{path:"document-view/:code",component:ve,pathMatch:"full"}];let ot=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[i.Bz.forChild(at)],i.Bz]}),e})();var st=n(3259),lt=n(4182);let ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[r.ez,ot,lt.m,st.w,M,be.xC,M]]}),e})()},9658:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InvoiceModule:()=>z});var r=n(8583),i=n(4655),a=n(8345),o=n(9692),s=n(1494),l=n(2091),c=n(5319),u=n(7716),d=n(2238),h=n(1841);let f=(()=>{class e{constructor(e){this.http=e,this.apiName="/mnr-accounting-service/",this.method="invoiceheader",this.url=this.apiName+this.method}Getall(){return this.http.get(this.url)}Get(e){return this.http.get(this.url+"/"+e)}Create(e,t){return this.http.post(this.url+"?preBillNumber="+t,e)}search(e){return this.http.post(this.url+"/findInvoiceHeader",e)}Getstatus(){return this.http.get("/mnr-setup-service/status")}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(h.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=n(9699),g=n(9866),m=n(9983),v=n(3679),y=n(8309),b=n(1095),_=n(6627);function w(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Matter No"),u.qZA())}function A(e,t){if(1&e&&(u.TgZ(0,"td",20),u.TgZ(1,"div"),u._uU(2),u.qZA(),u.TgZ(3,"div"),u._uU(4),u.qZA(),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.hij("",e.matterNumber," "),u.xp6(2),u.hij(" ",e.description,"")}}function x(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Description"),u.qZA())}function k(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Invoice No"),u.qZA())}function S(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij(" ",e.invoiceNumber," ")}}function C(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Bill Amount"),u.qZA())}function P(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij("$ ",e.invoiceAmount," ")}}function T(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Date"),u.qZA())}function O(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.ALo(2,"date"),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij(" ",u.Dn7(2,1,e.invoiceDate,"MM-dd-yyyy","UTC 0")," ")}}function M(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Status"),u.qZA())}function E(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij(" ",52==e.statusId?"PAYMENT PENDING":""," ")}}function R(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij(" ",53==e.statusId?"PARTIALLY PAID":""," ")}}function D(e,t){if(1&e&&(u.TgZ(0,"td",21),u._uU(1),u.qZA()),2&e){const e=t.$implicit;u.xp6(1),u.hij(" ",54==e.statusId?"PAID":""," ")}}function I(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1," Actions"),u.qZA())}function L(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"td",21),u.TgZ(1,"a",22),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().invoiceUrl(t.referenceField10)}),u.TgZ(2,"button",23),u.TgZ(3,"p",24),u._uU(4,"Payment Link"),u.qZA(),u.TgZ(5,"mat-icon",25),u._uU(6,"trending_flat"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"a",22),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().invoiceUrl(t.referenceField10)}),u.TgZ(8,"button",26),u.TgZ(9,"mat-icon",27),u._uU(10,"trending_flat"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}}function F(e,t){1&e&&u._UZ(0,"tr",28)}function N(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"tr",29),u.NdJ("click",function(){const t=u.CHM(e).$implicit;return u.oxw().selection.toggle(t)}),u.qZA()}}const j=function(){return[5,10,25,100]},Z=[{path:"",component:(()=>{class e{constructor(e,t,n,r,i,o,s,u){this.dialog=e,this.service=t,this.toastr=n,this.router=r,this.spin=i,this.cs=o,this.fb=s,this.auth=u,this.displayedColumns=["matterNumber","invoiceNumber","invoiceAmount","invoiceDate","statusId","no"],this.sub=new c.w,this.ELEMENT_DATA=[],this.isShowDiv=!1,this.toggle=!0,this.icon="expand_more",this.showFiller=!1,this.dataSource=new l.by(this.ELEMENT_DATA),this.selection=new a.Ov(!0,[])}routeto(e,t){localStorage.setItem("crrentmenu",t),this.router.navigate([e])}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getAll()}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}getAll(){this.spin.show(),this.sub.add(this.service.search({clientId:[this.auth.clientId]}).subscribe(e=>{let t=e.filter(e=>52==e.statusId);this.ELEMENT_DATA=t,console.log(this.ELEMENT_DATA),this.dataSource=new l.by(t),this.selection=new a.Ov(!0,[]),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.matterNumber+1}`:(this.isAllSelected()?"deselect":"select")+" all"}clearselection(e){this.selection.clear(),this.selection.toggle(e)}invoiceUrl(e){window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.uw),u.Y36(f),u.Y36(p._W),u.Y36(i.F0),u.Y36(g.t2),u.Y36(m.v),u.Y36(v.qu),u.Y36(y.e))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-invoice"]],viewQuery:function(e,t){if(1&e&&(u.Gf(s.YE,7),u.Gf(o.NW,7)),2&e){let e;u.iGM(e=u.CRH())&&(t.sort=e.first),u.iGM(e=u.CRH())&&(t.paginator=e.first)}},decls:32,vars:7,consts:[[1,"header-size","text-blue","fw-lighter","xl-margin","ml-4"],[1,"scroll5","xl-margin"],[1,"scroll2"],["mat-table","",1,"w-100","rowheight",3,"dataSource"],["matColumnDef","matterNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","invoiceNumber"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoiceAmount"],["matColumnDef","invoiceDate"],["matColumnDef","statusId"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",1,"text-left"],["mat-cell",""],[3,"click"],["mat-stroked-button","",1,"hoverbutton","hide-xs"],[1,"d-inline","mr-2"],[1,"d-inline"],["mat-flat-button","",1,"hide-xl"],[1,"d-inline","text-blue","d-block","d-md-none"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"h1",0),u._uU(1,"Invoice"),u.qZA(),u.TgZ(2,"div",1),u.TgZ(3,"div",2),u.TgZ(4,"table",3),u.ynx(5,4),u.YNc(6,w,2,0,"th",5),u.YNc(7,A,5,2,"td",6),u.BQk(),u.ynx(8,7),u.YNc(9,x,2,0,"th",5),u.BQk(),u.ynx(10,8),u.YNc(11,k,2,0,"th",5),u.YNc(12,S,2,1,"td",9),u.BQk(),u.ynx(13,10),u.YNc(14,C,2,0,"th",5),u.YNc(15,P,2,1,"td",9),u.BQk(),u.ynx(16,11),u.YNc(17,T,2,0,"th",5),u.YNc(18,O,3,5,"td",9),u.BQk(),u.ynx(19,12),u.YNc(20,M,2,0,"th",5),u.YNc(21,E,2,1,"td",9),u.YNc(22,R,2,1,"td",9),u.YNc(23,D,2,1,"td",9),u.BQk(),u.ynx(24,13),u.YNc(25,I,2,0,"th",5),u.YNc(26,L,11,0,"td",9),u.BQk(),u.YNc(27,F,1,0,"tr",14),u.YNc(28,N,1,0,"tr",15),u.qZA(),u.qZA(),u.qZA(),u.TgZ(29,"div",16),u.TgZ(30,"div",17),u._UZ(31,"mat-paginator",18),u.qZA(),u.qZA()),2&e&&(u.xp6(4),u.Q6J("dataSource",t.dataSource),u.xp6(23),u.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),u.xp6(1),u.Q6J("matRowDefColumns",t.displayedColumns),u.xp6(3),u.Q6J("pageSize",10)("pageSizeOptions",u.DdM(6,j)))},directives:[l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,o.NW,l.ge,l.ev,b.lW,_.Hw,l.XQ,l.Gk],pipes:[r.uU],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}.hide-xs[_ngcontent-%COMP%]{display:none!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.mat-column-no[_ngcontent-%COMP%]{width:20%}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 16.8rem)}@media (max-width: 600px){.scroll4[_ngcontent-%COMP%]{width:40rem}.scroll5[_ngcontent-%COMP%]{width:97%;overflow-y:scroll}}.mat-column-billableAmount[_ngcontent-%COMP%], .mat-column-invoiceNumber[_ngcontent-%COMP%], .mat-column-matterNumber[_ngcontent-%COMP%], .mat-column-statusIddes[_ngcontent-%COMP%]{flex:0 0 17%!important;width:16%!important;padding-right:20px!important}"]}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(Z)],i.Bz]}),e})();var U=n(3259),B=n(4182);let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.ez,q,B.m,U.w]]}),e})()},3394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MainModuleModule:()=>R});var r=n(8583),i=n(3259),a=n(4182),o=n(4655),s=n(5665),l=n(3384),c=n(3017),u=n(7716),d=n(5072),h=n(8309),f=n(1095),p=n(6627),g=n(7746),m=n(2522),v=n(3935);function y(e,t){1&e&&(u.TgZ(0,"a",33),u._UZ(1,"i",34),u.TgZ(2,"span",7),u._uU(3,"Quotation"),u.qZA(),u.qZA())}function b(e,t){1&e&&(u.TgZ(0,"a",35),u._UZ(1,"i",36),u.TgZ(2,"span",7),u._uU(3,"Payment Plan"),u.qZA(),u.qZA())}function _(e,t){1&e&&(u.TgZ(0,"a",37),u._UZ(1,"i",16),u.TgZ(2,"span",7),u._uU(3,"Document Checklist"),u.qZA(),u.qZA())}function w(e,t){1&e&&(u.TgZ(0,"mat-icon"),u._uU(1," menu "),u.qZA())}function A(e,t){1&e&&(u.TgZ(0,"mat-icon"),u._uU(1," close "),u.qZA())}function x(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"button",38),u.NdJ("click",function(){return u.CHM(e),u.oxw(),u.MAs(3).toggle()}),u.YNc(1,w,2,0,"mat-icon",39),u.YNc(2,A,2,0,"mat-icon",39),u.qZA()}if(2&e){u.oxw();const e=u.MAs(3);u.xp6(1),u.Q6J("ngIf",!e.opened),u.xp6(1),u.Q6J("ngIf",e.opened)}}let k=(()=>{class e{constructor(e,t){this.observer=e,this.auth=t,this.username=this.auth.clientfullName,this.authclassId=this.auth.classId}ngOnInit(){}logout(){this.auth.logout()}ngAfterViewInit(){this.observer.observe(["(max-width: 800px)"]).subscribe(e=>{e.matches?(this.sidenav.mode="over",this.sidenav.close()):(this.sidenav.mode="side",this.sidenav.open())})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.Yg),u.Y36(h.e))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-header"]],viewQuery:function(e,t){if(1&e&&u.Gf(c.JX,5),2&e){let e;u.iGM(e=u.CRH())&&(t.sidenav=e.first)}},decls:54,vars:9,consts:[[1,"row","vh-100","vw-100","mx-0"],[1,"d-flex","text-secondary"],["sidenav","matSidenav"],["src","./assets/img/icons/smallbg1.png","alt","","srcset","",1,"img-fluid","mx-auto","mt-2","mb-4","d-none","d-md-block"],["mat-button","",1,"float-right","d-block","d-md-none",3,"click"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/dashboard",1,"menu-button","py-2","pl-5"],[1,"fas","fa-list","text","iconsize","mr-4"],[1,"nav-text"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/matters/matters",1,"menu-button","py-2","pl-5"],[1,"fas","fa-briefcase","text","iconsize","mr-4"],["mat-list-item","","routerLinkActive","active-list-item","class","menu-button py-2 pl-5","routerLink","/main/quotations/quotations",4,"ngIf"],["mat-list-item","","routerLinkActive","active-list-item","class","menu-button py-2 pl-5","routerLink","/main/payment/payment",4,"ngIf"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/invoice",1,"menu-button","py-2","pl-5"],[1,"fas","fa-file-invoice-dollar","text","iconsize","mr-4"],[1,"nav-text","text-start"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/documents/document-MR",1,"menu-button","py-2","pl-5"],[1,"fas","fa-file-upload","text","iconsize","mr-4"],["mat-list-item","","routerLinkActive","active-list-item","class","menu-button py-2 pl-5","routerLink","/main/documents/documents",4,"ngIf"],[1,"px-0","col-md-12","pl-0"],[1,"content","d-flex","justify-content-between","align-items-center"],[1,"pl-0"],["mat-icon-button","","class","text-blue",3,"click",4,"ngIf"],["src","./assets/img/icons/smallbg.png","alt","","srcset","",1,"img-fluid","mt-2","ml-3","d-block","d-md-none",2,"width","75% !important"],[1,"p"],["mat-mini-fab","",1,"floating-buttons1","bg-white","text-secondary","shadow-none",3,"matMenuTriggerFor"],[1,"text-blue"],[1,"content-xl"],[1,"d-flex","justify-content-end","m-2","border-bottom"],[1,"d-flex","flex-row","align-items-center","mr-2"],[1,"mb-0","text-blue","d-inline","mr-2"],["menu","matMenu"],["mat-menu-item","",1,"list"],["mat-menu-item","",1,"list",3,"click"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/quotations/quotations",1,"menu-button","py-2","pl-5"],[1,"fas","fa-file-invoice","text","iconsize","mr-4"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/payment/payment",1,"menu-button","py-2","pl-5"],[1,"fas","fa-dollar-sign","text","iconsize","mr-4"],["mat-list-item","","routerLinkActive","active-list-item","routerLink","/main/documents/documents",1,"menu-button","py-2","pl-5"],["mat-icon-button","",1,"text-blue",3,"click"],[4,"ngIf"]],template:function(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"div",0),u.TgZ(1,"mat-sidenav-container"),u.TgZ(2,"mat-sidenav",1,2),u._UZ(4,"img",3),u.TgZ(5,"button",4),u.NdJ("click",function(){return u.CHM(e),u.MAs(3).toggle()}),u.TgZ(6,"mat-icon"),u._uU(7,"close"),u.qZA(),u.qZA(),u.TgZ(8,"a",5),u._UZ(9,"i",6),u.TgZ(10,"span",7),u._uU(11,"Summary"),u.qZA(),u.qZA(),u.TgZ(12,"a",8),u._UZ(13,"i",9),u.TgZ(14,"span",7),u._uU(15,"Matter"),u.qZA(),u.qZA(),u.YNc(16,y,4,0,"a",10),u.YNc(17,b,4,0,"a",11),u.TgZ(18,"a",12),u._UZ(19,"i",13),u.TgZ(20,"span",14),u._uU(21,"Invoice"),u.qZA(),u.qZA(),u.TgZ(22,"a",15),u._UZ(23,"i",16),u.TgZ(24,"span",7),u._uU(25,"Document Upload"),u.qZA(),u.qZA(),u.YNc(26,_,4,0,"a",17),u.qZA(),u.TgZ(27,"mat-sidenav-content"),u.TgZ(28,"div",18),u.TgZ(29,"div",19),u.TgZ(30,"div"),u.TgZ(31,"mat-toolbar",20),u.YNc(32,x,3,2,"button",21),u._UZ(33,"img",22),u.qZA(),u.qZA(),u.TgZ(34,"div",23),u.TgZ(35,"button",24),u.TgZ(36,"mat-icon",25),u._uU(37,"person"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(38,"div",26),u.TgZ(39,"div",27),u.TgZ(40,"div",28),u.TgZ(41,"p",29),u._uU(42),u.ALo(43,"uppercase"),u.qZA(),u.TgZ(44,"button",24),u.TgZ(45,"mat-icon",25),u._uU(46,"person"),u.qZA(),u.qZA(),u.TgZ(47,"mat-menu",null,30),u.TgZ(49,"button",31),u._uU(50,"My Profile"),u.qZA(),u.TgZ(51,"button",32),u.NdJ("click",function(){return t.logout()}),u._uU(52,"Logout"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(53,"router-outlet"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(3),n=u.MAs(48);u.xp6(16),u.Q6J("ngIf",1!=t.authclassId),u.xp6(1),u.Q6J("ngIf",1!=t.authclassId),u.xp6(9),u.Q6J("ngIf",1!=t.authclassId),u.xp6(6),u.Q6J("ngIf","over"===e.mode),u.xp6(3),u.Q6J("matMenuTriggerFor",n),u.xp6(7),u.hij("Welcome - ",u.lcZ(43,7,t.username),""),u.xp6(2),u.Q6J("matMenuTriggerFor",n)}},directives:[c.TM,c.JX,f.lW,p.Hw,g.Tg,o.yS,o.Od,r.O5,c.Rh,m.Ye,v.p6,v.VK,v.OP,o.lC],pipes:[r.gd],styles:[".menu-button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;font-size:1rem;padding-top:16px!important;padding-bottom:16px!important}.menu-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.menu-button[_ngcontent-%COMP%]:hover{background-color:#ececec!important}.iconsize[_ngcontent-%COMP%]{font-size:20px}.nav-text[_ngcontent-%COMP%]{font-size:12px!important;text-align:start!important}mat-divider[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;background-color:#ffffff80}.mat-drawer-container[_ngcontent-%COMP%]{background-color:#fff!important}mat-toolbar[_ngcontent-%COMP%]{background:#fff;color:#006990}mat-sidenav[_ngcontent-%COMP%]{width:15rem;border-right:none;color:#000;background-color:#f6f6f6;text-align:center}  .action-button{border-radius:4px!important;min-width:6rem!important;min-height:2.3rem!important}.floating-buttons1[_ngcontent-%COMP%]{border-radius:50%!important;height:40px!important;width:40px!important}.logout[_ngcontent-%COMP%]{background-color:initial!important;border-radius:0!important}.list[_ngcontent-%COMP%]{background-color:#fff!important}.list[_ngcontent-%COMP%]:hover{background-color:#006990!important;color:#fff!important}  .menu-button{justify-content:start!important;border-radius:0!important}@media (min-width: 600px){.content[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 600px){.content-xl[_ngcontent-%COMP%]{display:none!important}}a[_ngcontent-%COMP%]{font-size:12px!important}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:hover{color:#888;text-decoration:none;background-color:initial}.active-list-item[_ngcontent-%COMP%]{background-color:#ececec!important;border-right:4px solid #006990!important}"]}),e})();var S=n(9658),C=n(9396),P=n(4876),T=n(7118),O=n(4142);const M=[{path:"",component:k,children:[{path:"dashboard",loadChildren:()=>Promise.resolve().then(n.bind(n,5665)).then(e=>s.DashboardModule)},{path:"profile",loadChildren:()=>Promise.resolve().then(n.bind(n,7118)).then(e=>T.ProfileModule)},{path:"invoice",loadChildren:()=>Promise.resolve().then(n.bind(n,9658)).then(e=>S.InvoiceModule)},{path:"matters",loadChildren:()=>Promise.resolve().then(n.bind(n,9396)).then(e=>C.MattersModule)},{path:"quotations",loadChildren:()=>Promise.resolve().then(n.bind(n,4142)).then(e=>O.QuotationModule)},{path:"documents",loadChildren:()=>Promise.resolve().then(n.bind(n,3384)).then(e=>l.DocumentsModule)},{path:"payment",loadChildren:()=>Promise.resolve().then(n.bind(n,4876)).then(e=>P.PaymentPlanModule)}]}];let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.Bz.forChild(M)],o.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.ez,a.m,E,i.w]]}),e})()},2872:(e,t,n)=>{"use strict";n.d(t,{I:()=>A});var r=n(2238),i=n(7716),a=n(9699),o=n(9866),s=n(8309),l=n(3679),c=n(9983),u=n(3461),d=n(4553),h=n(8583),f=n(6627);function p(e,t){1&e&&(i.TgZ(0,"mat-icon"),i._uU(1,"done"),i.qZA())}function g(e,t){if(1&e&&(i.TgZ(0,"mat-step",9),i.YNc(1,p,2,0,"ng-template",10),i.TgZ(2,"p",11),i.TgZ(3,"mat-icon",12),i._uU(4,"today"),i.qZA(),i._uU(5),i.ALo(6,"date"),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(5),i.Oqu(i.Dn7(6,1,e.data.code.caseOpenedDate,"MM-dd-yyyy","UTC 0"))}}function m(e,t){1&e&&i._uU(0,"Filed On")}function v(e,t){if(1&e&&(i.TgZ(0,"mat-step"),i.YNc(1,m,1,0,"ng-template",13),i.TgZ(2,"p",11),i.TgZ(3,"mat-icon",12),i._uU(4,"today"),i.qZA(),i._uU(5),i.ALo(6,"date"),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(5),i.Oqu(i.Dn7(6,1,e.data.code.caseFiledDate,"MM-dd-yyyy","UTC 0"))}}function y(e,t){1&e&&i._uU(0,"Approved Date")}function b(e,t){if(1&e&&(i.TgZ(0,"mat-step"),i.YNc(1,y,1,0,"ng-template",13),i.TgZ(2,"p",11),i.TgZ(3,"mat-icon",12),i._uU(4,"today"),i.qZA(),i._uU(5),i.ALo(6,"date"),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(5),i.Oqu(i.Dn7(6,1,e.data.code.approvalDate,"MM-dd-yyyy","UTC 0"))}}function _(e,t){1&e&&i._uU(0,"Close Date")}function w(e,t){if(1&e&&(i.TgZ(0,"mat-step"),i.YNc(1,_,1,0,"ng-template",13),i.TgZ(2,"p",11),i.TgZ(3,"mat-icon",12),i._uU(4,"today"),i.qZA(),i._uU(5),i.ALo(6,"date"),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(5),i.Oqu(i.Dn7(6,1,e.data.code.caseClosedDate,"MM-dd-yyyy","UTC 0"))}}let A=(()=>{class e{constructor(e,t,n,r,i,a,o){this.dialogRef=e,this.data=t,this.toastr=n,this.spin=r,this.auth=i,this.fb=a,this.cs=o,this.isLinear=!1}ngOnInit(){console.log(this.data.code.matterNumber)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.so),i.Y36(r.WI),i.Y36(a._W),i.Y36(o.t2),i.Y36(s.e),i.Y36(l.qu),i.Y36(c.v))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-matter-popup"]],decls:12,vars:6,consts:[[1,"card","bg-white",2,"overflow-x","hidden"],["mat-dialog-title","","cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragHandle","",1,"d-flex","justify-content-between","align-items-center","header_colour","text-white","p-2"],[1,"my-auto"],["mat-dialog-close","",1,"bi","bi-x-lg","px-3",2,"font-size","17px"],[1,"ml-2","pr-5",2,"margin-right","7rem !important"],["orientation","vertical",1,"py-2",3,"linear"],["stepper",""],["label","Opened On",4,"ngIf"],[4,"ngIf"],["label","Opened On"],["matStepperIcon","edit"],[1,"text-muted","pt-4","d-flex","align-items-center"],[1,"mr-2","my-auto"],["matStepLabel",""]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h2",2),i._uU(3),i.qZA(),i._UZ(4,"i",3),i.qZA(),i.TgZ(5,"div",4),i.TgZ(6,"mat-stepper",5,6),i.YNc(8,g,7,5,"mat-step",7),i.YNc(9,v,7,5,"mat-step",8),i.YNc(10,b,7,5,"mat-step",8),i.YNc(11,w,7,5,"mat-step",8),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.hij("Matter - ",t.data.code.matterNumber,""),i.xp6(3),i.Q6J("linear",t.isLinear),i.xp6(2),i.Q6J("ngIf",null!=t.data.code.caseOpenedDate),i.xp6(1),i.Q6J("ngIf",null!=t.data.code.caseFiledDate),i.xp6(1),i.Q6J("ngIf",null!=t.data.code.approvalDate),i.xp6(1),i.Q6J("ngIf",null!=t.data.code.caseClosedDate))},directives:[r.uh,u.Zt,u.Bh,r.ZT,d.Vq,h.O5,d.C0,d.z9,f.Hw,d.VY],pipes:[h.uU],styles:[".mat-vertical-content-container{margin-left:43px!important;border:0;position:relative}  .mat-step-icon{border-radius:50%;height:40px!important;width:40px!important;flex-shrink:0;position:relative}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#006990!important;color:#fff}  .mat-step-header .mat-step-icon-state-edit{background-color:#006990!important;color:#fff} .mat-dialog-container{padding:0}  .mat-dialog-container{color:#000}"]}),e})()},2502:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(7716),i=n(1841);let a=(()=>{class e{constructor(e){this.http=e,this.apiName="/mnr-management-service/",this.method="mattergenacc",this.url=this.apiName+this.method}Getall(){return this.http.get(this.url)}Get(e){return this.http.get(this.url+"/"+e)}Getstatus(){return this.http.get("/mnr-setup-service/status")}filterMatter(e){return this.http.post(this.url+"/findMatterGenAccs",e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(i.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9396:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MattersModule:()=>N});var r=n(8583),i=n(4655),a=n(8345),o=n(9692),s=n(1494),l=n(2091),c=n(5319),u=n(2872),d=n(7716),h=n(2238),f=n(2502),p=n(9699),g=n(9866),m=n(9983),v=n(3679),y=n(8309),b=n(1095),_=n(6627);function w(e,t){1&e&&(d.TgZ(0,"th",16),d._uU(1,"Matter No"),d.qZA())}function A(e,t){if(1&e&&(d.TgZ(0,"td",17),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.TgZ(3,"div"),d._uU(4),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.hij("",e.matterNumber," "),d.xp6(2),d.hij(" ",e.matterDescription,"")}}function x(e,t){1&e&&(d.TgZ(0,"th",16),d._uU(1,"Description"),d.qZA())}function k(e,t){1&e&&(d.TgZ(0,"th",16),d._uU(1,"Date"),d.qZA())}function S(e,t){if(1&e&&(d.TgZ(0,"td",18),d._uU(1),d.ALo(2,"date"),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("",d.Dn7(2,1,e.caseOpenedDate,"MM-dd-yyyy","UTC 0")," ")}}function C(e,t){1&e&&(d.TgZ(0,"th",16),d._uU(1,"Status"),d.qZA())}function P(e,t){if(1&e&&(d.TgZ(0,"td",18),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.statusId," ")}}function T(e,t){1&e&&(d.TgZ(0,"th",16),d._uU(1,"Details "),d.qZA())}function O(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"td",18),d.TgZ(1,"button",19),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().matter(t)}),d.TgZ(2,"p",20),d._uU(3,"View"),d.qZA(),d.TgZ(4,"mat-icon",21),d._uU(5,"trending_flat"),d.qZA(),d.qZA(),d.qZA()}}function M(e,t){1&e&&d._UZ(0,"tr",22)}function E(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",23),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().selection.toggle(t)}),d.qZA()}}const R=function(){return[5,10,25,100]},D=[{path:"matters",component:(()=>{class e{constructor(e,t,n,r,i,o,s,u){this.dialog=e,this.service=t,this.toastr=n,this.router=r,this.spin=i,this.cs=o,this.fb=s,this.auth=u,this.displayedColumns=["matterNumber","statusId","caseOpenedDate","no"],this.sub=new c.w,this.ELEMENT_DATA=[],this.isShowDiv=!1,this.toggle=!0,this.icon="expand_more",this.showFiller=!1,this.dataSource=new l.by(this.ELEMENT_DATA),this.selection=new a.Ov(!0,[]),this.multiselectstatusList=[],this.multistatusList=[]}routeto(e,t){localStorage.setItem("crrentmenu",t),this.router.navigate([e])}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getAll()}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}getAll(){this.spin.show(),this.sub.add(this.service.Getstatus().subscribe(e=>{this.statusList=e,this.statusList.forEach(e=>this.multistatusList.push({id:e.statusId,itemName:e.status})),console.log(this.multistatusList),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()})),this.sub.add(this.service.filterMatter({clientId:[this.auth.clientId]}).subscribe(e=>{e.forEach(e=>{var t;e.statusId=null===(t=this.multistatusList.find(t=>t.id==e.statusId))||void 0===t?void 0:t.itemName}),this.ELEMENT_DATA=e,console.log(this.ELEMENT_DATA),this.dataSource=new l.by(e),this.selection=new a.Ov(!0,[]),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.matterNumber+1}`:(this.isAllSelected()?"deselect":"select")+" all"}matter(e){console.log(e),this.dialog.open(u.I,{disableClose:!0,position:{top:"6.5%"},data:{pageflow:e,code:e}}).afterClosed().subscribe()}clearselection(e){this.selection.clear(),this.selection.toggle(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.uw),d.Y36(f.B),d.Y36(p._W),d.Y36(i.F0),d.Y36(g.t2),d.Y36(m.v),d.Y36(v.qu),d.Y36(y.e))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-matters"]],viewQuery:function(e,t){if(1&e&&(d.Gf(s.YE,7),d.Gf(o.NW,7)),2&e){let e;d.iGM(e=d.CRH())&&(t.sort=e.first),d.iGM(e=d.CRH())&&(t.paginator=e.first)}},decls:23,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2","xl-margin","w-100","rowheight"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","matterNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","matterDescription"],["matColumnDef","caseOpenedDate"],["mat-cell","",4,"matCellDef"],["matColumnDef","statusId"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",1,"text-left"],["mat-cell",""],["mat-icon-button","",1,"hvr-wobble-horizontal",3,"click"],[1,"d-inline","mr-2","text-blue","hide-xs"],[1,"d-inline","text-blue"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"h1",0),d._uU(1,"Matter"),d.qZA(),d.TgZ(2,"div",1),d.TgZ(3,"table",2),d.ynx(4,3),d.YNc(5,w,2,0,"th",4),d.YNc(6,A,5,2,"td",5),d.BQk(),d.ynx(7,6),d.YNc(8,x,2,0,"th",4),d.BQk(),d.ynx(9,7),d.YNc(10,k,2,0,"th",4),d.YNc(11,S,3,5,"td",8),d.BQk(),d.ynx(12,9),d.YNc(13,C,2,0,"th",4),d.YNc(14,P,2,1,"td",8),d.BQk(),d.ynx(15,10),d.YNc(16,T,2,0,"th",4),d.YNc(17,O,6,0,"td",8),d.BQk(),d.YNc(18,M,1,0,"tr",11),d.YNc(19,E,1,0,"tr",12),d.qZA(),d.qZA(),d.TgZ(20,"div",13),d.TgZ(21,"div",14),d._UZ(22,"mat-paginator",15),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("dataSource",t.dataSource),d.xp6(15),d.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",t.displayedColumns),d.xp6(3),d.Q6J("pageSize",10)("pageSizeOptions",d.DdM(6,R)))},directives:[l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,o.NW,l.ge,l.ev,b.lW,_.Hw,l.XQ,l.Gk],pipes:[r.uU],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}.hide-xs[_ngcontent-%COMP%]{display:none!important}.mat-column-lineno[_ngcontent-%COMP%]{width:54%!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.mat-column-lineno[_ngcontent-%COMP%]{width:30%}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 16.8rem)}.mat-column-matterNumber[_ngcontent-%COMP%]{width:30%!important}.mat-column-matterNumber[_ngcontent-%COMP%], .mat-column-statusId[_ngcontent-%COMP%]{flex:0 0 17%!important;padding-right:20px!important}.mat-column-statusId[_ngcontent-%COMP%]{width:16%!important}.mat-column-caseOpenedDate[_ngcontent-%COMP%]{flex:0 0 17%!important;width:18%!important;padding-right:20px!important}"]}),e})()}];let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[i.Bz.forChild(D)],i.Bz]}),e})();var L=n(3259),F=n(4182);let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[r.ez,I,F.m,L.w]]}),e})()},4876:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PaymentPlanModule:()=>$});var r=n(8583),i=n(4655),a=n(8345),o=n(9692),s=n(1494),l=n(2091),c=n(5319),u=n(2872),d=n(7716),h=n(2238),f=n(1841);let p=(()=>{class e{constructor(e){this.http=e,this.apiName="/mnr-accounting-service/",this.method="paymentplanheader",this.url=this.apiName+this.method}Getall(){return this.http.get(this.url)}Get(e,t){return this.http.get(this.url+"/"+e+"?paymentPlanRevisionNo="+t)}Create(e){return this.http.post(this.url,e)}Update(e,t,n){return this.http.patch(this.url+"?paymentPlanNumber="+t+"&paymentPlanRevisionNo="+n,e)}Delete(e,t){return this.http.delete(this.url+"/"+e+"?paymentPlanRevisionNo="+t)}Search(e){return this.http.post(this.url+"/findPaymentPlanHeader",e)}Getstatus(){return this.http.get("/mnr-setup-service/status")}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(f.eN))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(9699),m=n(9866),v=n(9983),y=n(3679),b=n(8309),_=n(1095),w=n(6627);function A(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"Matter No"),d.qZA())}function x(e,t){if(1&e&&(d.TgZ(0,"td",18),d.TgZ(1,"div"),d._uU(2),d.qZA(),d.TgZ(3,"div"),d._uU(4),d.qZA(),d.qZA()),2&e){const e=t.$implicit;d.xp6(2),d.hij("",e.matterNumber," "),d.xp6(2),d.hij(" ",e.description,"")}}function k(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"Description"),d.qZA())}function S(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"Amount"),d.qZA())}function C(e,t){if(1&e&&(d.TgZ(0,"td",19),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("$ ",e.paymentPlanTotalAmount," ")}}function P(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"Instalment Amount"),d.qZA())}function T(e,t){if(1&e&&(d.TgZ(0,"td",19),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("",e.paymentPlanNumber," ")}}function O(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"status"),d.qZA())}function M(e,t){if(1&e&&(d.TgZ(0,"td",19),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.statusId,"")}}function E(e,t){1&e&&(d.TgZ(0,"th",17),d._uU(1,"Details "),d.qZA())}function R(e,t){1&e&&(d.TgZ(0,"td",19),d.TgZ(1,"button",20),d.TgZ(2,"p",21),d._uU(3,"View"),d.qZA(),d.TgZ(4,"mat-icon",22),d._uU(5,"trending_flat"),d.qZA(),d.qZA(),d.qZA())}function D(e,t){1&e&&d._UZ(0,"tr",23)}function I(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",24),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().selection.toggle(t)}),d.qZA()}}const L=function(){return[5,10,25,100]};let F=(()=>{class e{constructor(e,t,n,r,i,o,s,u){this.dialog=e,this.service=t,this.toastr=n,this.router=r,this.spin=i,this.cs=o,this.fb=s,this.auth=u,this.displayedColumns=["matterNumber","paymentPlanNumber","paymentPlanTotalAmount","statusId","no"],this.sub=new c.w,this.ELEMENT_DATA=[],this.isShowDiv=!1,this.toggle=!0,this.icon="expand_more",this.showFiller=!1,this.dataSource=new l.by(this.ELEMENT_DATA),this.selection=new a.Ov(!0,[]),this.statuslist=[],this.multiselectstatusList=[],this.multistatusList=[]}routeto(e,t){localStorage.setItem("crrentmenu",t),this.router.navigate([e])}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getAll()}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}getAll(){this.spin.show(),this.sub.add(this.service.Getstatus().subscribe(e=>{this.statusList=e,this.statusList.forEach(e=>this.multistatusList.push({id:e.statusId,itemName:e.status})),console.log(this.multistatusList),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()})),this.sub.add(this.service.Getall().subscribe(e=>{let t=[];this.ELEMENT_DATA=e,this.ELEMENT_DATA.forEach(e=>{var n;e.clientId==this.auth.clientId&&(e.statusIddes=null===(n=this.statuslist.find(t=>t.key==e.statusId))||void 0===n?void 0:n.value,t.push(e))}),this.dataSource=new l.by(t),this.selection=new a.Ov(!0,[]),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.matterNumber+1}`:(this.isAllSelected()?"deselect":"select")+" all"}matter(){this.dialog.open(u.I,{disableClose:!0}).afterClosed().subscribe()}clearselection(e){this.selection.clear(),this.selection.toggle(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(h.uw),d.Y36(p),d.Y36(g._W),d.Y36(i.F0),d.Y36(m.t2),d.Y36(v.v),d.Y36(y.qu),d.Y36(b.e))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-payment-plan"]],viewQuery:function(e,t){if(1&e&&(d.Gf(s.YE,7),d.Gf(o.NW,7)),2&e){let e;d.iGM(e=d.CRH())&&(t.sort=e.first),d.iGM(e=d.CRH())&&(t.paginator=e.first)}},decls:26,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2"],["mat-table","",1,"xl-margin","w-100","rowheight",3,"dataSource"],["matColumnDef","matterNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","paymentPlanTotalAmount"],["mat-cell","",4,"matCellDef"],["matColumnDef","paymentPlanNumber"],["matColumnDef","statusId"],["matColumnDef","no"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",1,"text-left"],["mat-cell",""],["mat-icon-button","","routerLink","/main/payment/payment-details",1,"hvr-wobble-horizontal"],[1,"d-inline","mr-2","text-blue","hide-xs"],[1,"d-inline","text-blue"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"h1",0),d._uU(1,"Payment Plan"),d.qZA(),d.TgZ(2,"div",1),d.TgZ(3,"table",2),d.ynx(4,3),d.YNc(5,A,2,0,"th",4),d.YNc(6,x,5,2,"td",5),d.BQk(),d.ynx(7,6),d.YNc(8,k,2,0,"th",4),d.BQk(),d.ynx(9,7),d.YNc(10,S,2,0,"th",4),d.YNc(11,C,2,1,"td",8),d.BQk(),d.ynx(12,9),d.YNc(13,P,2,0,"th",4),d.YNc(14,T,2,1,"td",8),d.BQk(),d.ynx(15,10),d.YNc(16,O,2,0,"th",4),d.YNc(17,M,2,1,"td",8),d.BQk(),d.ynx(18,11),d.YNc(19,E,2,0,"th",4),d.YNc(20,R,6,0,"td",8),d.BQk(),d.YNc(21,D,1,0,"tr",12),d.YNc(22,I,1,0,"tr",13),d.qZA(),d.qZA(),d.TgZ(23,"div",14),d.TgZ(24,"div",15),d._UZ(25,"mat-paginator",16),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("dataSource",t.dataSource),d.xp6(18),d.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",t.displayedColumns),d.xp6(3),d.Q6J("pageSize",10)("pageSizeOptions",d.DdM(6,L)))},directives:[l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,o.NW,l.ge,l.ev,_.lW,i.rH,w.Hw,l.XQ,l.Gk],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}@media (max-width: 600px){.hide-xs[_ngcontent-%COMP%]{display:none!important}}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 16.8rem)}.mat-column-matterNumber[_ngcontent-%COMP%], .mat-column-paymentPlanNumber[_ngcontent-%COMP%], .mat-column-paymentPlanTotalAmount[_ngcontent-%COMP%]{flex:0 0 17%!important;width:16%!important;padding-right:20px!important}.mat-column-statusIddes[_ngcontent-%COMP%]{flex:0 0 18%!important;width:19%!important;padding-right:20px!important}"]}),e})();var N=n(171);function j(e,t){1&e&&(d.TgZ(0,"th",22),d._uU(1,"Installment No"),d.qZA())}function Z(e,t){if(1&e&&(d.TgZ(0,"td",23),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("",e.lineno," ")}}function q(e,t){1&e&&(d.TgZ(0,"th",22),d._uU(1,"Due Date"),d.qZA())}function U(e,t){if(1&e&&(d.TgZ(0,"td",23),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij(" ",e.partner," ")}}function B(e,t){1&e&&(d.TgZ(0,"th",22),d._uU(1,"Installment Amt"),d.qZA())}function z(e,t){if(1&e&&(d.TgZ(0,"td",23),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("$ ",e.date," ")}}function V(e,t){1&e&&(d.TgZ(0,"th",22),d._uU(1,"Balance Amt"),d.qZA())}function W(e,t){if(1&e&&(d.TgZ(0,"td",23),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.xp6(1),d.hij("$ ",e.status,"")}}function H(e,t){1&e&&d._UZ(0,"tr",24)}function Y(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr",25),d.NdJ("click",function(){const t=d.CHM(e).$implicit;return d.oxw().selection.toggle(t)}),d.qZA()}}const G=[{lineno:"300001 -01",status:"1500",partner:"3223",date:"2300",product:"Legal fees for filing I130"},{lineno:"300001 -02",status:"1300",partner:"3455",date:"4500",product:"Legal fees for H1B "},{lineno:"300001 -03",status:"1200",partner:"5543",date:"2400",product:"Legal fees for H1B "},{lineno:"300001 -04",status:"500",partner:"2345",date:"1300",product:"Legal fess for N400 "}],Q=[{path:"payment",component:F},{path:"payment-details",component:(()=>{class e{constructor(){this.disabled=!1,this.step=0,this.panelOpenState=!1,this.displayedColumns=["lineno","partner","date","status"],this.dataSource=new l.by(G),this.selection=new a.Ov(!0,[])}ngOnInit(){}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-paymentplan-details"]],decls:58,vars:7,consts:[[1,"row","bg-white","mx-0"],["hideToggle","",3,"expanded","opened"],["panel",""],[1,"border-bottom","padding-space","border-top"],[1,"d-flex","justify-content-between","collapsefont"],[1,"text-primary"],[1,"row","py-2","pt-4","p-1","px-1"],[1,"col-12","d-flex","justify-content-between","col-md-4","px-4","py-2"],[1,"mb-0","fw-bold","ml-4","darkgrey","label"],[1,"mb-0","ml-4","lightgrey","label1"],["hideToggle",""],["panel1",""],[1,"row","scroll1","px-0"],["mat-table","",1,"w-100","rowheight",3,"dataSource"],["matColumnDef","lineno"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","partner"],["matColumnDef","date"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-accordion"),d.TgZ(2,"mat-expansion-panel",1,2),d.NdJ("opened",function(){return t.setStep(0)}),d.TgZ(4,"mat-expansion-panel-header",3),d.TgZ(5,"mat-panel-title",4),d._uU(6," Payment Plan Details "),d.TgZ(7,"mat-icon",5),d._uU(8),d.qZA(),d.qZA(),d.qZA(),d.TgZ(9,"div",6),d.TgZ(10,"label",7),d.TgZ(11,"p",8),d._uU(12,"Matter Description"),d.qZA(),d.TgZ(13,"p",9),d._uU(14,"Aldi Arias Lopez - PERM"),d.qZA(),d.qZA(),d.TgZ(15,"label",7),d.TgZ(16,"p",8),d._uU(17,"Payment Plan No"),d.qZA(),d.TgZ(18,"p",9),d._uU(19,"21001"),d.qZA(),d.qZA(),d.TgZ(20,"label",7),d.TgZ(21,"p",8),d._uU(22,"Payment Plan Amount"),d.qZA(),d.TgZ(23,"p",9),d._uU(24,"$3455"),d.qZA(),d.qZA(),d.TgZ(25,"label",7),d.TgZ(26,"p",8),d._uU(27,"No Of Installments"),d.qZA(),d.TgZ(28,"p",9),d._uU(29,"6"),d.qZA(),d.qZA(),d.TgZ(30,"label",7),d.TgZ(31,"p",8),d._uU(32,"Installment Amount"),d.qZA(),d.TgZ(33,"p",9),d._uU(34,"$505"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(35,"mat-expansion-panel",10,11),d.TgZ(37,"mat-expansion-panel-header",3),d.TgZ(38,"mat-panel-title",4),d._uU(39," Lines "),d.TgZ(40,"mat-icon",5),d._uU(41),d.qZA(),d.qZA(),d.qZA(),d.TgZ(42,"div",12),d.TgZ(43,"table",13),d.ynx(44,14),d.YNc(45,j,2,0,"th",15),d.YNc(46,Z,2,1,"td",16),d.BQk(),d.ynx(47,17),d.YNc(48,q,2,0,"th",15),d.YNc(49,U,2,1,"td",16),d.BQk(),d.ynx(50,18),d.YNc(51,B,2,0,"th",15),d.YNc(52,z,2,1,"td",16),d.BQk(),d.ynx(53,19),d.YNc(54,V,2,0,"th",15),d.YNc(55,W,2,1,"td",16),d.BQk(),d.YNc(56,H,1,0,"tr",20),d.YNc(57,Y,1,0,"tr",21),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.MAs(3),n=d.MAs(36);d.xp6(2),d.Q6J("expanded",0===t.step),d.xp6(6),d.Oqu(e.expanded?"remove":"add"),d.xp6(33),d.Oqu(n.expanded?"remove":"add"),d.xp6(2),d.Q6J("dataSource",t.dataSource),d.xp6(13),d.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),d.xp6(1),d.Q6J("matRowDefColumns",t.displayedColumns)}},directives:[N.pp,N.ib,N.yz,N.yK,w.Hw,l.BZ,l.w1,l.fO,l.Dz,l.as,l.nj,l.ge,l.ev,l.XQ,l.Gk],styles:[".mat-dialog-container{padding:0} .mat-expansion-panel-body{padding:0 20px 16px!important}  .mat-dialog-container{color:#000}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0}.scroll[_ngcontent-%COMP%]{height:14rem}.scroll[_ngcontent-%COMP%], .scroll1[_ngcontent-%COMP%]{overflow-y:scroll}.scroll1[_ngcontent-%COMP%]{height:calc(100vh - 25rem)}.mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}.padding-space[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}@media (max-width: 600px){.hide-xs[_ngcontent-%COMP%]{display:none!important}}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.input_field[_ngcontent-%COMP%]{width:100%;border-color:#dee2e6}.input_field1[_ngcontent-%COMP%]{width:30%;border-color:#dee2e6}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:.5em 0 .7em!important}  .mat-form-field-wrapper{padding-bottom:.5rem}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#a7a7a70a}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[i.Bz.forChild(Q)],i.Bz]}),e})();var X=n(3259),K=n(4182);let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[r.ez,J,K.m,X.w]]}),e})()},7118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ProfileModule:()=>u});var r=n(8583),i=n(4655),a=n(7716);const o=[];let s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.Bz.forChild(o)],i.Bz]}),e})();var l=n(3259),c=n(4182);let u=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,s,c.m,l.w]]}),e})()},4142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QuotationModule:()=>B});var r=n(8583),i=n(4655),a=n(7716);let o=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-quotation-pdf"]],decls:137,vars:0,consts:[[1,"row","scroll","px-0","mx-0"],[1,"page","px-0","vh-100","bg-white",2,"display","block","page-break-after","always"],["id","pdf",1,"pdf","p-0","m-0"],[1,"d-flex","justify-content-start","lightbg","px-3","py-2","pb-3"],[1,"d-flex","align-items-center","justify-content-start"],["src","./assets/img/icons/smlogo.png","alt","","srcset","",1,"d-inline"],[1,"d-flex","flex-column","w-50"],[1,"mb-0","my-0","my-1","text-blue"],[1,"d-flex","flex-column","justify-content-end"],[1,"text-end","mb-1","text-blue","mt-1"],["id","table"],[1,"text-center"],[1,"px-2"],["id","table2",1,"mt-2","w-50"],[1,""],[1,"w-25"],[1,"pb-5"],[1,"d-flex","justify-content-end","px-2"],["id","table2"],[1,"d-flex","justify-content-center","px-2"],["id","table1"],[2,"width","34%"],["id","total","colspan","6"],[1,"d-flex","justify-content-start","mt-2","px-2"],["id","table3"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"div",4),a._UZ(5,"img",5),a.TgZ(6,"div",6),a.TgZ(7,"h4",7),a._uU(8,"Monty & Ramirez LLP 150 W. Parker Rd Ste 300 Houston, TX 77076"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"div",8),a.TgZ(10,"h2",9),a._uU(11,"Invoice"),a.qZA(),a.TgZ(12,"table",10),a.TgZ(13,"tr"),a.TgZ(14,"th",11),a._uU(15,"Date"),a.qZA(),a.TgZ(16,"th",11),a._uU(17,"Invoice No"),a.qZA(),a.qZA(),a.TgZ(18,"tr"),a.TgZ(19,"td",11),a._uU(20,"11-02-2022"),a.qZA(),a.TgZ(21,"td",11),a._uU(22,"123"),a.qZA(),a.qZA(),a._UZ(23,"tr"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(24,"div",12),a.TgZ(25,"table",13),a.TgZ(26,"tr"),a.TgZ(27,"th",14),a._uU(28,"Name / Address"),a.qZA(),a.qZA(),a.TgZ(29,"tr",15),a.TgZ(30,"td",16),a._uU(31,"Texas Children Hospital Attn: Daniel Osmand 1919 S. Braeswood Ste 2244 Houston, TX 77030 "),a.qZA(),a.qZA(),a._UZ(32,"tr"),a.qZA(),a.qZA(),a.TgZ(33,"div",17),a.TgZ(34,"table",18),a.TgZ(35,"tr"),a.TgZ(36,"th",11),a._uU(37,"Terms"),a.qZA(),a.TgZ(38,"th",11),a._uU(39,"Due Date"),a.qZA(),a.qZA(),a.TgZ(40,"tr"),a._UZ(41,"td",11),a.TgZ(42,"td",11),a._uU(43,"123"),a.qZA(),a.qZA(),a._UZ(44,"tr"),a.qZA(),a.qZA(),a.TgZ(45,"div",19),a.TgZ(46,"table",20),a.TgZ(47,"tr"),a.TgZ(48,"th"),a._uU(49,"Item"),a.qZA(),a.TgZ(50,"th",21),a._uU(51,"Description"),a.qZA(),a.TgZ(52,"th"),a._uU(53,"Time Keeper"),a.qZA(),a.TgZ(54,"th"),a._uU(55,"Date "),a.qZA(),a.TgZ(56,"th"),a._uU(57,"Hours "),a.qZA(),a.TgZ(58,"th"),a._uU(59,"Rate/Hour "),a.qZA(),a.TgZ(60,"th"),a._uU(61,"Total "),a.qZA(),a.qZA(),a.TgZ(62,"tr"),a.TgZ(63,"td"),a._uU(64,"1"),a.qZA(),a.TgZ(65,"td"),a._uU(66,"Legal fees due pertaining to Immigrant Petition with U.S. Department of Homeland Security for Rakesh Kriplani"),a.qZA(),a.TgZ(67,"td"),a._uU(68,"Time"),a.qZA(),a.TgZ(69,"td"),a._uU(70,"08-02-2022"),a.qZA(),a.TgZ(71,"td"),a._uU(72,"3"),a.qZA(),a.TgZ(73,"td"),a._uU(74,"$ 2,500.00"),a.qZA(),a.TgZ(75,"td"),a._uU(76,"$ 2,500.00"),a.qZA(),a.qZA(),a.TgZ(77,"tr"),a.TgZ(78,"td"),a._uU(79,"2"),a.qZA(),a.TgZ(80,"td"),a._uU(81,"Legal costs- Government Filing Fee with U.S. Department of Homeland Security - Immigrant Petition"),a.qZA(),a.TgZ(82,"td"),a._uU(83,"Time"),a.qZA(),a.TgZ(84,"td"),a._uU(85,"08-02-2022"),a.qZA(),a.TgZ(86,"td"),a._uU(87,"3"),a.qZA(),a.TgZ(88,"td"),a._uU(89,"$ 2,500.00"),a.qZA(),a.TgZ(90,"td"),a._uU(91,"$ 2,500.00"),a.qZA(),a.qZA(),a.TgZ(92,"tr"),a.TgZ(93,"td"),a._uU(94,"3"),a.qZA(),a.TgZ(95,"td"),a._uU(96,"Legal costs- Government Filing Fee with U.S. Department of Homeland Security - Premium Processing Fee"),a.qZA(),a.TgZ(97,"td"),a._uU(98,"Time"),a.qZA(),a.TgZ(99,"td"),a._uU(100,"08-02-2022"),a.qZA(),a.TgZ(101,"td"),a._uU(102,"3"),a.qZA(),a.TgZ(103,"td"),a._uU(104,"$ 2,500.00"),a.qZA(),a.TgZ(105,"td"),a._uU(106,"$ 2,500.00"),a.qZA(),a.qZA(),a.TgZ(107,"tr"),a.TgZ(108,"td"),a._uU(109,"4"),a.qZA(),a.TgZ(110,"td"),a._uU(111,"Legal costs- Government Filing Fee with U.S. Department of Homeland Security - Immigrant Petition"),a.qZA(),a.TgZ(112,"td"),a._uU(113,"Time"),a.qZA(),a.TgZ(114,"td"),a._uU(115,"08-02-2022"),a.qZA(),a.TgZ(116,"td"),a._uU(117,"3"),a.qZA(),a.TgZ(118,"td"),a._uU(119,"$ 2,500.00"),a.qZA(),a.TgZ(120,"td"),a._uU(121,"$ 2,500.00"),a.qZA(),a.qZA(),a.TgZ(122,"tfoot"),a.TgZ(123,"tr"),a.TgZ(124,"th",22),a._uU(125,"Total :"),a.qZA(),a.TgZ(126,"td"),a._uU(127,"$ 4,860.00"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(128,"div",23),a.TgZ(129,"table",24),a.TgZ(130,"tr"),a.TgZ(131,"th",11),a._uU(132,"Phone Number"),a.qZA(),a.qZA(),a.TgZ(133,"tr"),a.TgZ(134,"td",11),a._uU(135,"2814935529 "),a.qZA(),a.qZA(),a._UZ(136,"tr"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:['#table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;width:8rem!important;text-align:left;border:1px solid #ddd;background-color:#006990;color:#fff}#table[_ngcontent-%COMP%]{border-collapse:collapse}#total[_ngcontent-%COMP%]{text-align:right!important;background-color:#fff!important}#table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}#table2[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;width:6rem!important;text-align:left;border:1px solid #ddd;background-color:#f7f7f7;color:#5e5e5e}#table2[_ngcontent-%COMP%]{border-collapse:collapse}#table2[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#table2[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}#table1[_ngcontent-%COMP%]{width:100%!important;border-collapse:collapse}#table1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #table1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#table1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f7f7f7}#table1[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#fff}#table1[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;color:#353535;background-color:#e2edf7}#table3[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px;width:10rem!important;text-align:left;border:1px solid #ddd;background-color:#f7f7f7;color:#5e5e5e}#table3[_ngcontent-%COMP%]{border-collapse:collapse}#table3[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#table3[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#fff}.lightbg[_ngcontent-%COMP%]{background-color:#e2edf7!important}.text-blue[_ngcontent-%COMP%]{color:#006990!important}.button[_ngcontent-%COMP%]{background-color:#006990;border:none;color:#fff;border-radius:5px;padding:10px 32px;text-align:center;text-decoration:none;display:inline-block;margin:4px 2px;cursor:pointer}.me-auto[_ngcontent-%COMP%]{margin-right:auto!important}.page[_ngcontent-%COMP%]{width:21cm;min-height:29.7cm;margin:1cm auto;border:1px solid #d3d3d3;border-radius:5px;background:#fff!important}.filter_button[_ngcontent-%COMP%]{border-top:2px!important;border-left:2px!important;border-right:2px!important;background-color:initial!important;border-color:grey!important;width:15rem!important}.breadcrumb[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{color:#6c757d;content:">";padding:0 5px}.breadcrumb[_ngcontent-%COMP%]{background-color:initial!important;color:#222!important}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#181818}  .purple{background-color:#9c27b0}  .action-button{border-radius:4px;min-width:6rem}.scroll[_ngcontent-%COMP%]{height:calc(100vh - 6rem);overflow-y:scroll;overflow-x:hidden}.break[_ngcontent-%COMP%]{page-break-before:always!important}']}),e})();var s=n(8345),l=n(9692),c=n(1494),u=n(2091),d=n(5319),h=n(2238),f=n(1841);let p=(()=>{class e{constructor(e){this.http=e,this.apiName="/mnr-accounting-service/",this.method="quotationheader",this.url=this.apiName+this.method}Getall(){return this.http.get(this.url)}Get(e,t){return this.http.get(this.url+"/"+e+"?quotationRevisionNo="+t)}Create(e){return this.http.post(this.url,e)}Update(e,t,n){return this.http.patch(this.url+"/"+t+"?quotationRevisionNo="+n,e)}Delete(e,t){return this.http.delete(this.url+"/"+e+"?quotationRevisionNo="+t)}Search(e){return this.http.post(this.url+"/findQuotationHeader",e)}Getstatus(){return this.http.get("/mnr-setup-service/status")}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(f.eN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(9699),m=n(9866),v=n(9983),y=n(3679),b=n(8309),_=n(1095),w=n(6627);function A(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Matter No"),a.qZA())}function x(e,t){if(1&e&&(a.TgZ(0,"td",19),a.TgZ(1,"div"),a._uU(2),a.qZA(),a.qZA()),2&e){const e=t.$implicit;a.xp6(2),a.hij("",e.matterNumber," ")}}function k(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Description"),a.qZA())}function S(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Quote No"),a.qZA())}function C(e,t){if(1&e&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.hij(" ",e.quotationNo," ")}}function P(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Date"),a.qZA())}function T(e,t){if(1&e&&(a.TgZ(0,"td",20),a._uU(1),a.ALo(2,"date"),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.hij("",a.Dn7(2,1,e.quotationDate,"MM-dd-yyyy","UTC 0")," ")}}function O(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Status"),a.qZA())}function M(e,t){if(1&e&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&e){const e=t.$implicit;a.xp6(1),a.hij(" ",e.statusId," ")}}function E(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Details "),a.qZA())}function R(e,t){1&e&&(a.TgZ(0,"td",20),a.TgZ(1,"button",21),a.TgZ(2,"p",22),a._uU(3,"View"),a.qZA(),a.TgZ(4,"mat-icon",23),a._uU(5,"trending_flat"),a.qZA(),a.qZA(),a.qZA())}function D(e,t){1&e&&(a.TgZ(0,"th",18),a._uU(1,"Action "),a.qZA())}function I(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"td",20),a.TgZ(1,"a",24),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().quotationUrl(t.referenceField10)}),a.TgZ(2,"button",25),a.TgZ(3,"p",22),a._uU(4,"Payment Link"),a.qZA(),a.TgZ(5,"mat-icon",23),a._uU(6,"trending_flat"),a.qZA(),a.qZA(),a.qZA(),a.qZA()}}function L(e,t){1&e&&a._UZ(0,"tr",26)}function F(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tr",27),a.NdJ("click",function(){const t=a.CHM(e).$implicit;return a.oxw().selection.toggle(t)}),a.qZA()}}const N=function(){return[5,10,25,100]},j=[{path:"quotations",component:(()=>{class e{constructor(e,t,n,r,i,a,o,l){this.dialog=e,this.service=t,this.toastr=n,this.router=r,this.spin=i,this.cs=a,this.fb=o,this.auth=l,this.displayedColumns=["matterNumber","quotationNo","quotationDate","status","no","payment"],this.sub=new d.w,this.ELEMENT_DATA=[],this.isShowDiv=!1,this.toggle=!0,this.icon="expand_more",this.showFiller=!1,this.dataSource=new u.by(this.ELEMENT_DATA),this.selection=new s.Ov(!0,[]),this.multiselectstatusList=[],this.multistatusList=[]}routeto(e,t){localStorage.setItem("crrentmenu",t),this.router.navigate([e])}toggleFloat(){this.isShowDiv=!this.isShowDiv,this.toggle=!this.toggle,this.icon="expand_more"===this.icon?"chevron_left":"expand_more",this.showFloatingButtons=!this.showFloatingButtons}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}ngOnInit(){this.getAll()}ngOnDestroy(){null!=this.sub&&this.sub.unsubscribe()}getAll(){this.spin.show(),this.sub.add(this.service.Getstatus().subscribe(e=>{this.statusList=e,this.statusList.forEach(e=>this.multistatusList.push({id:e.statusId,itemName:e.status})),console.log(this.multistatusList),this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()})),this.spin.show(),this.sub.add(this.service.Search({clientId:[this.auth.clientId]}).subscribe(e=>{e.forEach(e=>{var t;e.statusId=null===(t=this.multistatusList.find(t=>t.id==e.statusId))||void 0===t?void 0:t.itemName}),this.ELEMENT_DATA=e,console.log(this.ELEMENT_DATA),this.dataSource=new u.by(e),this.selection=new s.Ov(!0,[]),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.spin.hide()},e=>{this.cs.commonerror(e),this.spin.hide()}))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.matterNumber+1}`:(this.isAllSelected()?"deselect":"select")+" all"}clearselection(e){this.selection.clear(),this.selection.toggle(e)}quotationUrl(e){window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(h.uw),a.Y36(p),a.Y36(g._W),a.Y36(i.F0),a.Y36(m.t2),a.Y36(v.v),a.Y36(y.qu),a.Y36(b.e))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-quotations"]],viewQuery:function(e,t){if(1&e&&(a.Gf(c.YE,7),a.Gf(l.NW,7)),2&e){let e;a.iGM(e=a.CRH())&&(t.sort=e.first),a.iGM(e=a.CRH())&&(t.paginator=e.first)}},decls:29,vars:7,consts:[[1,"header-size","fw-lighter","text-blue","xl-margin","ml-4"],[1,"scroll2","xl-margin","w-100","rowheight"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","matterNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","product"],["matColumnDef","quotationNo"],["mat-cell","",4,"matCellDef"],["matColumnDef","quotationDate"],["matColumnDef","status"],["matColumnDef","no"],["matColumnDef","payment"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"buttons","border","bg-white","pb-1","w-100","d-flex","justify-content-end"],[1,"p-0","mx-1",2,"background-color","#ffff"],["showFirstLastButtons","","aria-label","Select page of periodic elements",1,"",3,"pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",1,"text-left"],["mat-cell",""],["mat-icon-button","","routerLink","/main/quotations/quotationpdf",1,"hvr-wobble-horizontal"],[1,"d-inline","mr-2","text-blue","hide-xs"],[1,"d-inline","text-blue"],[3,"click"],["mat-icon-button","",1,"hvr-wobble-horizontal"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(e,t){1&e&&(a.TgZ(0,"h1",0),a._uU(1,"Quotation"),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"table",2),a.ynx(4,3),a.YNc(5,A,2,0,"th",4),a.YNc(6,x,3,1,"td",5),a.BQk(),a.ynx(7,6),a.YNc(8,k,2,0,"th",4),a.BQk(),a.ynx(9,7),a.YNc(10,S,2,0,"th",4),a.YNc(11,C,2,1,"td",8),a.BQk(),a.ynx(12,9),a.YNc(13,P,2,0,"th",4),a.YNc(14,T,3,5,"td",8),a.BQk(),a.ynx(15,10),a.YNc(16,O,2,0,"th",4),a.YNc(17,M,2,1,"td",8),a.BQk(),a.ynx(18,11),a.YNc(19,E,2,0,"th",4),a.YNc(20,R,6,0,"td",8),a.BQk(),a.ynx(21,12),a.YNc(22,D,2,0,"th",4),a.YNc(23,I,7,0,"td",8),a.BQk(),a.YNc(24,L,1,0,"tr",13),a.YNc(25,F,1,0,"tr",14),a.qZA(),a.qZA(),a.TgZ(26,"div",15),a.TgZ(27,"div",16),a._UZ(28,"mat-paginator",17),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("dataSource",t.dataSource),a.xp6(21),a.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),a.xp6(1),a.Q6J("matRowDefColumns",t.displayedColumns),a.xp6(3),a.Q6J("pageSize",10)("pageSizeOptions",a.DdM(6,N)))},directives:[u.BZ,u.w1,u.fO,u.Dz,u.as,u.nj,l.NW,u.ge,u.ev,_.lW,i.rH,w.Hw,u.XQ,u.Gk],pipes:[r.uU],styles:[".mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%],   .mat-tab-group.mat-primary .mat-ink-bar{background-color:#006990!important}  .header-size{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:2.4rem!important}@media (max-width: 600px){.header-size[_ngcontent-%COMP%]{font-size:2rem!important}.xl-margin[_ngcontent-%COMP%]{margin-top:1rem}.mat-cell[_ngcontent-%COMP%], .mat-footer-cell[_ngcontent-%COMP%]{font-size:12px!important}.mat-header-cell[_ngcontent-%COMP%]{font-size:13px;font-weight:500}}  .mat-tab-label-active{background-color:#fff!important;color:#006990!important}  .mat-header-cell{font-size:14px;font-weight:500;border-right:.5px solid #0000001f;border-top:.5px solid #0000001f;background-color:#f5f5f5}  tr.mat-header-row{height:65px!important}  tr.mat-row, tr.mat-footer-row[_ngcontent-%COMP%]{height:65px!important}@media (max-width: 600px){.hide-xs[_ngcontent-%COMP%]{display:none!important}}  .mat-tab-label,   .mat-tab-link{font-family:Roboto Slab;font-size:16px;font-weight:500}.scroll2[_ngcontent-%COMP%]{overflow-y:scroll!important;height:calc(100vh - 16.8rem)}.mat-column-matterNumber[_ngcontent-%COMP%], .mat-column-quotationDate[_ngcontent-%COMP%], .mat-column-quotationNo[_ngcontent-%COMP%]{flex:0 0 17%!important;width:18%!important;padding-right:20px!important}.mat-column-status[_ngcontent-%COMP%]{flex:0 0 17%!important;width:20%!important;padding-right:20px!important}"]}),e})()},{path:"quotationpdf",component:o}];let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.Bz.forChild(j)],i.Bz]}),e})();var q=n(3259),U=n(4182);let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[r.ez,Z,U.m,q.w]]}),e})()},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}}]);