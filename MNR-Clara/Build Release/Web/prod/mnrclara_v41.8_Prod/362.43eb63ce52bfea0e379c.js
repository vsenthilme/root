"use strict";(self.webpackChunkmnrclara=self.webpackChunkmnrclara||[]).push([[362],{51362:(k,c,o)=>{o.r(c),o.d(c,{LoginModule:()=>V});var d=o(38583),u=o(29362),m=o(54655),s=o(3679),f=o(92340),h=o(75319),t=o(37716),g=o(22238),x=o(88309),v=o(22290),b=o(79866),y=o(91841),w=o(39983),p=o(98295),C=o(49983),S=o(76627),E=o(51095);function I(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",5),t.\u0275\u0275listener("ngSubmit",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().login()}),t.\u0275\u0275elementStart(1,"div",6),t.\u0275\u0275elementStart(2,"div",7),t.\u0275\u0275elementStart(3,"h3",8),t.\u0275\u0275text(4,"User ID"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-form-field",9),t.\u0275\u0275element(6,"input",10),t.\u0275\u0275elementStart(7,"mat-icon",11),t.\u0275\u0275text(8,"person"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",12),t.\u0275\u0275elementStart(10,"h3",8),t.\u0275\u0275text(11,"Password"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"mat-form-field",9),t.\u0275\u0275element(13,"input",13),t.\u0275\u0275elementStart(14,"button",14),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(e);const i=t.\u0275\u0275nextContext();return i.hide=!i.hide}),t.\u0275\u0275elementStart(15,"mat-icon"),t.\u0275\u0275text(16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"button",15),t.\u0275\u0275text(18,"Login"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",e.lgForm),t.\u0275\u0275advance(13),t.\u0275\u0275property("type",e.hide?"password":"text"),t.\u0275\u0275advance(1),t.\u0275\u0275attribute("aria-label","Hide password")("aria-pressed",e.hide),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(e.hide?"visibility_off":"visibility")}}const L=function(){return{length:4}};function j(n,l){if(1&n){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275elementStart(1,"div",6),t.\u0275\u0275elementStart(2,"div",7),t.\u0275\u0275elementStart(3,"h3",17),t.\u0275\u0275text(4,"We have sent a verification code to"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"p",18),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",19),t.\u0275\u0275elementStart(8,"ng-otp-input",20),t.\u0275\u0275listener("onInputChange",function(i){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().onOtpChange(i)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",21),t.\u0275\u0275elementStart(10,"div",22),t.\u0275\u0275elementStart(11,"p",23),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().back()}),t.\u0275\u0275text(12,"Back"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",24),t.\u0275\u0275elementStart(14,"p",25),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().resendOTP()}),t.\u0275\u0275text(15,"Resend"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"button",26),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(e),t.\u0275\u0275nextContext().verifyOtp()}),t.\u0275\u0275text(17,"Verify"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementEnd()}if(2&n){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(e.userEmail),t.\u0275\u0275advance(2),t.\u0275\u0275property("config",t.\u0275\u0275pureFunction0(2,L))}}const N=[{path:"",component:(()=>{class n{constructor(e,r,i,a,P,M,T,z){this.fb=e,this.router=r,this.dialog=i,this.auth=a,this.toastr=P,this.spin=M,this.http=T,this.cs=z,this.screenid=1001,this.config={allowNumbersOnly:!0,length:6,isPasswordInput:!1,disableAutoFocus:!0,placeholder:"",inputStyles:{width:"40px",height:"40px"}},this.hide=!0,this.title=f.N.title,this.sub=new h.w}ngOnInit(){this.inForm(),this.showLoginDeatils=!0,this.showEmailVerify=!1}inForm(){this.lgForm=this.fb.group({userName:["",s.Validators.required],password:["",s.Validators.required]})}login(){if(this.lgForm.invalid)return this.error="Please fill the required fields to continue",void this.toastr.error("Invalid Username or Password!","Login Failed",{timeOut:2e3,progressBar:!1});this.login1(this.lgForm.value)}login1(e){return sessionStorage.clear(),localStorage.clear(),this.spin.show(),new Promise((r,i)=>{this.sub.add(this.http.get(`/mnr-setup-service/login?userId=${e.userName}&password=${e.password}`).subscribe(a=>{this.spin.hide(),this.userEmail=a.emailId,sessionStorage.setItem("user",JSON.stringify(a)),this.showLoginDeatils=!1,this.showEmailVerify=!0},a=>{this.spin.hide(),this.cs.commonerror(a),r(!1)}))})}back(){this.showLoginDeatils=!0,console.log(this.showLoginDeatils),this.showEmailVerify=!1}onOtpChange(e){this.otp=e}verifyOtp(){this.auth.verifyOtp(this.lgForm.controls.userName.value,this.otp)}resendOTP(){return this.spin.show(),new Promise((e,r)=>{this.sub.add(this.http.get(`/mnr-setup-service/login/emailOTP?userId=${this.lgForm.controls.userName.value}`).subscribe(i=>{this.toastr.success("Verification code successfully resent to the email.","Notification",{timeOut:2e3,progressBar:!1}),this.spin.hide()},i=>{this.spin.hide(),this.cs.commonerror(i),e(!1)}))})}}return n.\u0275fac=function(e){return new(e||n)(t.\u0275\u0275directiveInject(s.FormBuilder),t.\u0275\u0275directiveInject(m.F0),t.\u0275\u0275directiveInject(g.uw),t.\u0275\u0275directiveInject(x.e),t.\u0275\u0275directiveInject(v._W),t.\u0275\u0275directiveInject(b.t2),t.\u0275\u0275directiveInject(y.eN),t.\u0275\u0275directiveInject(w.v))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["app-login"]],decls:5,vars:2,consts:[[1,"container","vw-100","vh-100","mw-100","px-0",2,"background-color","#003F5E"],[1,"d-flex","justify-content-center","align-items-center",2,"height","46vh","background-color","white"],["src","./assets/img/icons/mandr.png","alt","","srcset","",1,"img-fluid",2,"width","338px","height","161px"],["class","d-flex justify-content-center align-items-center mt-5",3,"formGroup","ngSubmit",4,"ngIf"],["class","d-flex justify-content-center align-items-center mt-5",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-5",3,"formGroup","ngSubmit"],[1,"mx-auto"],[1,"form-group","mb-0","mt-3",2,"color","#006990"],[1,"mb-1","text-white",2,"font-size","19px"],["appearance","outline",2,"width","21rem"],["matInput","","type","text","formControlName","userName","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","UserID","autocomplete","off",2,"color","black"],["matSuffix",""],[1,"form-group","mb-0",2,"color","#006990"],["matInput","","type","password","formControlName","password","id","exampleInputPassword1","placeholder","Password","aria-describedby","forgot","autocomplete","off",2,"color","black",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["mat-button","","type","Submit",1,"btn-lg","btn-block","py-2","mt-1","mb-2",2,"background-color","#006990","color","white","width","21rem"],[1,"d-flex","justify-content-center","align-items-center","mt-5"],[1,"mb-1","text-white","text-center",2,"font-size","18px"],[1,"mb-3","text-white","text-center",2,"font-size","12px"],[1,"form-group","mb-0",2,"color","#006990","margin-bottom","2rem !important"],[1,"mx-auto","text-center","text-blue",2,"margin-bottom","2rem",3,"config","onInputChange"],[1,"d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-start","mt-2"],["type","button",1,"text-white",2,"font-size","10px","margin-left","3.5rem",3,"click"],[1,"d-flex","justify-content-start"],["type","button",1,"text-white",2,"font-size","10px","margin-right","3.5rem",3,"click"],["mat-button","",1,"btn-lg","btn-block","py-2","mt-1","my-2",2,"background-color","#006990","color","white","width","21rem",3,"click"]],template:function(e,r){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275element(2,"img",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,I,19,5,"form",3),t.\u0275\u0275template(4,j,18,3,"div",4),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",r.showLoginDeatils),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",r.showEmailVerify))},directives:[d.O5,s.\u0275NgNoValidate,s.NgControlStatusGroup,s.FormGroupDirective,p.KE,C.Nt,s.DefaultValueAccessor,s.NgControlStatus,s.FormControlName,S.Hw,p.R9,E.lW,u.df],styles:[".footer[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;width:100%;background-color:#e0e8f1d1;text-align:center}hr.dashed[_ngcontent-%COMP%]{border-top:1px dashed #324e7bab}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{width:100%;height:100%;border-color:none!important;font-size:.8rem}.clara[_ngcontent-%COMP%]{font-family:Broadway;font-size:45.3524px}.logo[_ngcontent-%COMP%]{position:absolute}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0!important}  .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#fff!important;border-radius:4px!important}"]}),n})(),pathMatch:"full"}];let O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[m.Bz.forChild(N)],m.Bz]}),n})();var F=o(42584);let V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=t.\u0275\u0275defineInjector({imports:[[d.ez,O,F.m,u.Xz]]}),n})()}}]);