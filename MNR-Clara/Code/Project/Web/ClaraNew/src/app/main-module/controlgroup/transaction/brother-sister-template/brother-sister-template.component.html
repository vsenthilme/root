<div class=" my-0 py-0 mt-1">
  <div class="d-flex  align-items-center justify-content-between mx-1 my-2 mb-2">
    <div class="ps-3">
      <nav aria-label="breadcrumb mb-0">
        <ol class="breadcrumb mb-0 d-flex align-items-center">
          <li class="breadcrumb-item mb-0 ms-3">
            <a>
              <mat-icon class="text-secondary align-middle">home</mat-icon>
            </a>
          </li>
          <div class="divider mx-3 border-end"></div>
          <li class="breadcrumb-item mb-0 active " aria-current="page">
            Controlled Groups</li>
          <li class="breadcrumb-item mb-0 active " aria-current="page">Transaction</li>
          <li type="button" class="breadcrumb-item mb-0 active " aria-current="page"
            routerLink="/main/controlgroup/transaction/summary"> <a>Ownership Request</a></li>
          <li class="breadcrumb-item mb-0 active " aria-current="page">Brother & Sister Validation</li>
        </ol>
      </nav>
    </div>
    <div class="pe-2 me-1 d-flex justify-content-between align-items-end">
      <div [ngClass]="showFloatingButtons == true ? 'floating-pane-active' : 'floating-pane-deactive'"
        class="button-row">
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons bg-pink text-white mx-2"
          matTooltip="Download Excel">
          <mat-icon class="">download</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons bg-yellow1 text-white mx-2"
          matTooltip="Delete">
          <mat-icon class="">delete</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons text-white mx-2 bgDarkGreen1"
          matTooltip="Copy">
          <mat-icon class="">content_copy</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons text-white mx-2 bg-lightblue"
          matTooltip="Display">
          <mat-icon class="">search</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" color="primary"
          class="floating-buttons text-white mx-2 me-3" matTooltip="Edit">
          <mat-icon class="">edit</mat-icon>
        </button>
        <button disabled mat-mini-fab (click)="toggleFloat()" class=" disabled mx-2 text-white action-button"
          [ngClass]="{'bg-yellow' : toggle, 'purple': !toggle}">
          <mat-icon>{{icon}}</mat-icon>Options
        </button>
        <button disabled mat-mini-fab class=" disabled bg-darkblue text-white mx-2 action-button">
          <mat-icon class="">add</mat-icon> New
        </button>
        <button disabled mat-mini-fab class=" disabled text-white mx-2 action-button bg-red" type="button" mat-button>
          <mat-icon class="">search</mat-icon> Search
        </button>
      </div>
    </div>
  </div>
  <div class="ms-3 me-3 px-1 mt-1 " [ngClass]="this.js.pageflow1 == 'Approve' ? 'example-container' : ''">
    <div class=" my-0 py-0">
      <div class="ms-3 me-3 px-1 mt-1 scroll1">
        <div class="">
          <div style="margin-bottom:10px;color:#003f5e;"><b>Request Id-{{this.js.code.requestId}}</b></div>
          <table mat-table [dataSource]="dataSource" matSort matSortActive="caseCategoryId" matSortDirection="asc"
            class=" w-100">
            <!-- Symbol Column -->
            <ng-container matColumnDef="coOwnerName" sticky>
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Co-Owner</th>
              <td mat-cell *matCellDef="let element; let i = index" [ngClass]="i == 0 ? 'disabledBlue' : ''">
                {{element.coOwnerName != null ? element.coOwnerName : ''}} </td>
              <td mat-footer-cell *matFooterCellDef
                style="padding-left: 0.5rem; font-size: 15px; background-color: #10b81c;" class="text-white">Controlling
                Interest Test </td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store1">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 1</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName1 : (element.store1 != null ? element.store1 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
                [ngClass]="getStore1() >= 80  ||  getStore1() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''">
                {{getStore1()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store2">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 2</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName2 : (element.store2 != null ? element.store2 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore2() >= 80  ||  getStore2() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''">{{getStore2()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store3">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 3</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName3 : (element.store3 != null ? element.store3 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore3() >= 80 ||  getStore3() == 0  ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore3()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store4">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 4</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName4 : (element.store4 != null ? element.store4 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore4() >= 80  ||  getStore4() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore4()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store5">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 5</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName5 : (element.store5 != null ? element.store5 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore5() >= 80  ||  getStore5() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore5()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store6">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 6</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName6 : (element.store6 != null ? element.store6 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore6() >= 80  ||  getStore6() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''">{{getStore6()}}%</td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="store7">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 7</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName7 : (element.store7 != null ? element.store7 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore7() >= 80  ||  getStore7() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore7()}}%</td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="store8">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 8</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName8 : (element.store8 != null ? element.store8 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore8() >= 80 ||  getStore8() == 0  ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore8()}}%</td>
            </ng-container>


            <!-- Symbol Column -->
            <ng-container matColumnDef="store9">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 9</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName9 : (element.store9 != null ? element.store9 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore9() >= 80 ||  getStore9() == 0  ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore9()}}%</td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="store10">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Entity 10</th>
              <td mat-cell *matCellDef="let element; let i = index">
                {{ i== 0 ? element.storeName10 : (element.store10 != null ? element.store10 + '%' : '')}}
              </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
              [ngClass]="getStore10() >= 80 ||  getStore10() == 0 ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"> {{getStore10()}}%</td>
            </ng-container>

            <ng-container matColumnDef="Effective" stickyEnd>
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Effective Control Test</th>
              <td mat-cell *matCellDef="let element; let i = index" class="textLightBlue bgDarkBlue font-weight-bold">
                {{i == 0 ? '' : (element.effective != null ? element.effective + '%' : '')}} </td>
              <td mat-footer-cell *matFooterCellDef style="font-weight: bold; padding-left: 0.5rem; font-size: 15px"
                class="textLightBlue bgDarkBlue"> {{getEffectiveTotal()}}%</td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true" class="example-first-footer-row"
              [hidden]="this.showfooter == false"></tr>
          </table>
        </div>
      </div>
    </div>

  </div>
  <div class="d-flex justify-content-center align-items-center py-2 bottombutton1">
    <button mat-raised-button color="warn" mat-dialog-close class="mx-2" (click)="back();"> <i
        class="bi bi-arrow-left me-1 font-size-1_5rem"></i>Back</button>

    <button mat-raised-button class="mx-2 bg-blue text-white px-4" (click)="approve()"
      *ngIf="this.js.pageflow != 'Display' && this.tableBrotherStatus == 'Yes'"> <i
        class="bi bi-check2 me-1 font-size-1_5rem"></i>
      <!--openDialog()-->
      Submit</button>

    <button mat-raised-button class="mx-2 bg-warning text-white px-4" (click)="openDialog()"
      *ngIf="this.js.pageflow != 'Display' && this.tableBrotherStatus != 'Yes'"> <i
        class="bi bi-check2 me-1 font-size-1_5rem"></i>
      Validate</button>

    <button mat-raised-button class="mx-2 bg-warning text-white px-4" (click)="ApproveAdmin(this.js.code, 'Reject')"
      *ngIf="this.js.pageflow1 == 'Approve'"> <i class="bi bi-check2 me-1 font-size-1_5rem"></i>
      Reject</button>

    <button mat-raised-button class="mx-2 bg-blue text-white px-4" (click)="ApproveAdmin(this.js.code, 'Approve')"
      *ngIf="this.js.pageflow1 == 'Approve'"> <i class="bi bi-check2 me-1 font-size-1_5rem"></i>
      Approve</button>

  </div>
  <!-- 
  <div class="d-flex justify-content-around align-items-center py-2 mt-2 bottombutton1">
    <div class="d-flex justify-content-between">
      <h3 class="mb-0 mr-4">Pass Controlling Interest Test?</h3>
      <h3 class="mb-0 font-weight-bold text-success">Yes</h3>
    </div>
    <div class="d-flex justify-content-between ">
      <h3 class="mb-0 mr-4">Pass Effective Control Test?</h3>
      <h3 class="mb-0 font-weight-bold text-success">Yes</h3>
    </div>
    <div class="d-flex justify-content-between ">
      <h3 class="mb-0 mr-4">Brother Sister Group?</h3>
      <h3 class="mb-0 font-weight-bold text-success">Yes</h3>
    </div>
  </div> -->

  <div class="d-flex justify-content-end resultBox me-3">
    <table class="table  table-bordered">
      <tbody>
        <tr>
          <th scope="row" style="font-size: 12px;">Pass Controlling Interest Test? </th>
          <td class="w-25  font-weight-bold"
            [ngClass]="this.tableControlStatus == 'Yes' ? 'textLightGreen bgDarkGreen' : this.tableControlStatus == 'No' ? 'textLightRed bgDarkRed' : ''"
            style="font-size: 13px;">{{this.tableControlStatus}}</td>
        </tr>
        <tr>
          <th scope="row" style="font-size: 12px;">Pass Effective Control Test? </th>
          <td class="w-25 font-weight-bold"
            [ngClass]="this.tableEffectiveStatus == 'Yes' ? 'textLightGreen bgDarkGreen' : this.tableEffectiveStatus == 'No' ? 'textLightRed bgDarkRed' : ''"
            style="font-size: 13px;">{{this.tableEffectiveStatus}}</td>
        </tr>
        <tr>
          <th scope="row" style="font-size: 12px;">Brother-Sister Group? </th>
          <td class="w-25 font-weight-bold"
            [ngClass]="this.tableBrotherStatus == 'Yes' ? 'textLightGreen bgDarkGreen' : this.tableBrotherStatus == 'No' ? 'textLightRed bgDarkRed' : ''"
            style="font-size: 13px;">{{this.tableBrotherStatus}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>