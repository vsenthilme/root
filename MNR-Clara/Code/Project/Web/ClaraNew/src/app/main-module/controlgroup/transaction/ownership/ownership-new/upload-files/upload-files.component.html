<form [formGroup]="form">
  <div class="card bg-white " style="overflow-x: hidden;">
      <div mat-dialog-title cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle
        class="d-flex justify-content-between align-items-center header_colour text-white p-2">
        <h2 class="my-auto headertext">Upload Files</h2>
        <i mat-dialog-close class="bi bi-x-lg px-3"></i>
      </div>
     <!--  <div class="row  mx-0 py-2 d-flex justify-content-end align-items-center">
      <div class="col-2">
        <button mat-raised-button (click)="addRow()" class="mx-2 bg-yellow text-white" *ngIf="this.data.pageflow != 'Display'"> <i
          class="bi bi-plus me-1 font-size-1_5rem"></i>
        Add</button>
      </div>
          </div> -->
      <div class=" my-0 py-0 ">
        <div class="scroll">
          <table mat-table [dataSource]="dataSource" class="col-12 w-100" formArrayName="formLine">
  
    
            <!-- Weight Column -->
            <ng-container matColumnDef="chooseFile">
              <th mat-header-cell *matHeaderCellDef>Upload File</th>
              <td mat-cell *matCellDef="let element; let index = index" class="d-flex"  [formGroupName]="index">
                  <input mat-raised-button class="form-control w-25 ms-4" id="formFile" type="file"
                  (change)="this.onFilechange($event, element)" style="width: 30rem !important;" />
              </td>
            </ng-container>
            <!-- Weight Column -->
            <ng-container matColumnDef="fileName">
              <th mat-header-cell *matHeaderCellDef>File Name</th>
              <td mat-cell *matCellDef="let element; let index = index"  [formGroupName]="index">
                 <mat-form-field class="form-group input_field mb-0 w-100" appearance="outline"> 
                      <input matInput [disabled]="true" placeholder="Enter" formControlName="fileName" readonly>
                </mat-form-field> 
              </td>
            </ng-container>
            <!-- Weight Column -->
            <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let element; let index = index"  [formGroupName]="index">
                <button mat-icon-button matTooltip="Download" (click)="download(element)" *ngIf="element.controls.fileName.value">
                  <mat-icon class="text-primary hvr-wobble-horizontal ml-2">download</mat-icon>
                </button>
  
                <button mat-icon-button matTooltip="Delete" (click)="delete(element, index)" *ngIf="element.controls.fileName.value && this.data.pageflow != 'summaryView'">
                  <mat-icon class="text-danger hvr-wobble-horizontal ml-2">delete</mat-icon>
                </button>
  
              </td>
            </ng-container>
  
     
            <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          </table>
        </div>
      </div>
      <div class="d-flex justify-content-center align-items-center py-2 bg-white">
        <button mat-raised-button mat-dialog-close (click)="back()" class="text-white mr-1 px-4" color="warn">
          <mat-icon class="">close</mat-icon> Cancel
        </button>
        
        <button mat-raised-button (click)="save()" class="mx-2 bg-blue text-white"  *ngIf="this.data.pageflow != 'summaryView'"> <i
            class="bi bi-check2 me-1 font-size-1_5rem"></i>
          Save</button>
         
      </div>
    
    </div>
  </form>