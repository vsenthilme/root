<form [formGroup]="form" class="mx-3">
  <div disabled class="d-flex  align-items-center justify-content-between mx-1 my-2 mb-2">
    <div class="ps-3">
      <nav aria-label="breadcrumb mb-0">
        <ol class="breadcrumb mb-0 d-flex align-items-center">
          <li class="breadcrumb-item mb-0 ms-3">
            <a >
              <mat-icon class="text-secondary align-middle">home</mat-icon>
            </a>
          </li>
          <div class="divider mx-3 border-end"></div>
          <li class="breadcrumb-item mb-0 active " aria-current="page">Billing</li>
          <li class="breadcrumb-item mb-0 active " aria-current="page">Invoice</li>
          <li class="breadcrumb-item mb-0 active " aria-current="page">Display</li>
        </ol>
      </nav>
    </div>

    <div class="pe-2 me-1 d-flex justify-content-between align-items-end">
      <div [hidden]="isShowDiv"> <input disabled matInput class="form-control filter_button mx-2 border-bottom"
          placeholder="Search" style="width:90%"></div>
      <div [ngClass]="showFloatingButtons == true ? 'floating-pane-active' : 'floating-pane-deactive'"
        class="button-row">
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons bg-pink text-white mx-2"
          matTooltip="Download Excel">
          <mat-icon class="">download</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons bg-yellow text-white mx-2"
          matTooltip="Delete">
          <mat-icon class="">delete</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons text-white mx-2 bg-success"
          matTooltip="Copy">
          <mat-icon class="">content_copy</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" class="floating-buttons text-white mx-2 bg-lightblue"
          matTooltip="Display">
          <mat-icon class="">search</mat-icon>
        </button>
        <button mat-mini-fab *ngIf="showFloatingButtons == true" color="primary"
          class="floating-buttons text-white mx-2 me-3" matTooltip="Edit">
          <mat-icon class="">edit</mat-icon>
        </button>
        <button mat-mini-fab (click)="toggleFloat()" class="mx-2 text-white action-button"
          [ngClass]="{'bg-yellow' : toggle, 'purple': !toggle}">
          <mat-icon>{{icon}}</mat-icon>Options
        </button>
        <button mat-mini-fab disabled class=" disabled bg-darkblue text-white mx-2 action-button">
          <mat-icon class="">add</mat-icon> New
        </button>
        <button disabled mat-mini-fab class="disabled text-white mx-2 action-button  bg-red" type="button" mat-button>
          <mat-icon class="">tune</mat-icon> Filter
        </button>
      </div>
    </div>
  </div>
  <div class="row bg-white mx-0">
    <mat-accordion>
      <mat-expansion-panel class="shadow-none" #panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
        <mat-expansion-panel-header class="border-bottom padding-space border-top">
          <mat-panel-title class="d-flex justify-content-between collapsefont">
<div class="d-flex">
  Billing Details<p class="mx-2">- Invoice Number: {{this.invoiceNumber}}</p>
</div>
            <mat-icon class="text-primary">{{panel.expanded? 'remove' : 'add'}}</mat-icon>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="row  mt-2 p-1 ">
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Client Name</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter">
              </mat-form-field>
            </div>
          </div> -->
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Matter No</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter" formControlName="matterNumber">
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Class ID</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter" formControlName="clientId">
              </mat-form-field>
            </div>
          </div> -->
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Invoice No</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter" formControlName="invoiceNumber">
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Invoice Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="invoiceDate" placeholder="Choose Date"
                  [matDatepicker]="picker5">
                <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
                <mat-datepicker #picker5></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Posting Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="postingDate" placeholder="Choose Date"
                  [matDatepicker]="picker5Posting">
                <mat-datepicker-toggle matSuffix [for]="picker5Posting"></mat-datepicker-toggle>
                <mat-datepicker #picker5Posting></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Partner</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter" formControlName="partnerAssigned">
              </mat-form-field>
            </div>
          </div>
          <div class="col-12 mt-1">
            <p class="mb-0 py-0 ">Reference Text </p>
            <mat-form-field class="form-group input_field w-100 mb-0" appearance="outline">
              <textarea matInput rows="3" formControlName="referenceText"></textarea>
            </mat-form-field>
          </div>
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Billing Mode</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter">
              </mat-form-field>
            </div>
          </div> -->
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Prebill No</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter" formControlName="preBillNumber">
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Prebill Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="preBillDate" placeholder="Choose Date"
                  [matDatepicker]="picker4">
                <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
                <mat-datepicker #picker4></mat-datepicker>
              </mat-form-field>
            </div>
          </div> -->
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Billing Frequency</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Enter">
              </mat-form-field>
            </div>
          </div> -->
          <!-- <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Start Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="billStartDate" placeholder="Choose Date"
                  [matDatepicker]="picker3">
                <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                <mat-datepicker #picker3></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Fees / Cost Cutoff Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="costCutDate" placeholder="Choose Date"
                  [matDatepicker]="picker2">
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
            </div>
          </div>
          <div class="col-lg-3 col-md-6 mt-1">
            <div class="d-flex flex-column">
              <p class="mb-0 py-0 text-black">Payment Cutoff Date</p>
              <mat-form-field class="form-group input_field mb-0" appearance="outline">
                <input matInput placeholder="Choose Date" formControlName="paymentCutDate" placeholder="Choose Date"
                  [matDatepicker]="picker">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
          </div> -->
        </div>
      </mat-expansion-panel>
      <mat-expansion-panel class="shadow-none" #panel1 hideToggle>
        <mat-expansion-panel-header class="border-bottom padding-space border-top">
          <mat-panel-title class="d-flex justify-content-between collapsefont">
 <div class="d-flex">
  Lines<p class="mx-2">- {{this.clientName}} / {{this.matterNumber}}</p>
 </div>
            <mat-icon class="text-primary">{{panel1.expanded? 'remove' : 'add'}}</mat-icon>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div class="row  mt-2 px-0">
          <table mat-table [dataSource]="dataSource" matSort class=" w-100">

            <!-- Weight Column -->
            <ng-container matColumnDef="documenttype">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Item</th>
              <td mat-cell *matCellDef="let element"> {{element.itemNumber == 1 ? 'Fees' : ''}} 
                {{element.itemNumber == 2 ? 'Cost' : ''}} 
              </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="approvaldate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Invoice No</th>
              <td mat-cell *matCellDef="let element"> {{element.invoiceNumber}} </td>
            </ng-container>

            <!-- Symbol Column -->
            <ng-container matColumnDef="expirationdate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Date</th>
              <td mat-cell *matCellDef="let element"> {{element.invoiceDate}} </td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="eligibility">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Invoice Date</th>
              <td mat-cell *matCellDef="let element"> {{element.eligibility}} </td>
            </ng-container>
            <ng-container matColumnDef="remainder4">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Billable Amount </th>
              <td mat-cell *matCellDef="let element"> {{element.billableAmount | number: '1.2-2'}} </td>
            </ng-container>
            <ng-container matColumnDef="remainder2">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Activity Code </th>
              <td mat-cell *matCellDef="let element"> {{element.activityCode}} </td>
            </ng-container>
            <ng-container matColumnDef="remainder3">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Bill Type </th>
              <td mat-cell *matCellDef="let element"> {{element.billType}} </td>
            </ng-container>
            <!-- Symbol Column -->
            <ng-container matColumnDef="prebillamount">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Status </th>
              <td mat-cell *matCellDef="let element"> {{element.statusIddes}} </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns;sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          </table>
        </div>
      </mat-expansion-panel>
    </mat-accordion>

    <div class="d-flex justify-content-center align-items-center py-2 bottombutton">
      <button mat-raised-button mat-dialog-close (click)="back()" color="warn" class="mx-2"> <i
          class="bi bi-x me-1 font-size-1_5rem"></i>Cancel</button>
      <!-- <button mat-raised-button class="mx-2 bg-blue text-white"> <i class="bi bi-check2 me-1 font-size-1_5rem"></i>
      Save</button> -->

      <!-- <button mat-raised-button *ngIf="assigif" type="submit" class="mx-2 bg-blue text-white"> <i
            class="bi bi-check2 me-1 font-size-1_5rem"></i>
          Assign</button> -->
    </div>



  </div>
</form>