-- Master Scripts

USE MNRCLARA;

-- LECASEINFOSHEET Table
CREATE TABLE `MNRCLARA`.`tbllecaseinfosheetid` (
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `CASEINFO_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `POT_CLIENT_ID` NVARCHAR(20) NULL,
  `TRANS_ID` INTEGER NULL,
  `INQ_NO` NVARCHAR(20) NULL,  
  `CASE_CATEGORY_ID` INTEGER NULL,
  `CASE_SUB_CATEGORY_ID` INTEGER NULL,  
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `IT_FORM_NO` NVARCHAR(20) NULL,
  `IT_FORM_ID` INTEGER NULL,
  `MATTER_TYPE` NVARCHAR(50) NULL,
  `MATTER_TEXT` NVARCHAR(100) NULL,
  `CAUSE_NO` NVARCHAR(50) NULL,
  `PLAINTIFF` NVARCHAR(50) NULL,
  `DEFENDANT` NVARCHAR(50) NULL,
  `REFERENCE` NVARCHAR(200) NULL,
  `FILE_LOC` NVARCHAR(50) NULL,
  `FIRST_LAST_NM` NVARCHAR(100) NULL,
  `TITLE` NVARCHAR(50) NULL,
  `EMAIL_ID` NVARCHAR(100) NULL,
  `COMPANY_NM` NVARCHAR(100) NULL,
  `ADDRESS_LINE1` NVARCHAR(1000) NULL,
  `ADDRESS_LINE2` NVARCHAR(1000) NULL,
  `CITY` NVARCHAR(100) NULL,
  `STATE` NVARCHAR(100) NULL,
  `COUNTRY` NVARCHAR(30) NULL,
  `ZIP_CODE` NVARCHAR(30) NULL,
  `CONT_NO` NVARCHAR(30) NULL,
  `WORK` NVARCHAR(30) NULL,
  `HOME` NVARCHAR(30) NULL,
  `FAX` NVARCHAR(30) NULL,
  `AP1_NM` NVARCHAR(50) NULL,
  `AP1_MAIL` NVARCHAR(50) NULL,
  `AP1_COMPANY_NM` NVARCHAR(50) NULL,
  `AP1_ADD` NVARCHAR(500) NULL,
  `AP1_CITY` NVARCHAR(50) NULL,
  `AP1_STATE` NVARCHAR(50) NULL,
  `AP1_PC` NVARCHAR(20) NULL,
  `AP1_PH` NVARCHAR(30) NULL,
  `AP1_DL` NVARCHAR(30) NULL,
  `AP1_CELL` NVARCHAR(30) NULL,
  `AP1_FAX` NVARCHAR(30) NULL,
  `AP2_NM` NVARCHAR(50) NULL,
  `AP2_MAIL` NVARCHAR(50) NULL,
  `AP2_COMPANY_NM` NVARCHAR(50) NULL,
  `AP2_ADD` NVARCHAR(500) NULL,
  `AP2_CITY` NVARCHAR(50) NULL,
  `AP2_STATE` NVARCHAR(50) NULL,
  `AP2_PC` NVARCHAR(20) NULL,
  `AP2_PH` NVARCHAR(30) NULL,
  `AP2_DL` NVARCHAR(30) NULL,
  `AP2_CELL` NVARCHAR(30) NULL,
  `AP2_FAX` NVARCHAR(30) NULL,
  `JUDGE_NM` NVARCHAR(50) NULL,
  `COURT_NO` NVARCHAR(50) NULL,
  `COURT_MAIL` NVARCHAR(50) NULL,
  `COURT_ADD` NVARCHAR(500) NULL,
  `COURT_CITY` NVARCHAR(50) NULL,
  `COURT_STATE` NVARCHAR(50) NULL,
  `COURT_PC` NVARCHAR(20) NULL,
  `COURT_OT` NVARCHAR(30) NULL,
  `COURT_FAX` NVARCHAR(30) NULL,
  `CLRK_NM` NVARCHAR(50) NULL,
  `CLRK_PH` NVARCHAR(30) NULL,
  `CLRK_MAIL` NVARCHAR(50) NULL,
  `ASS_CLRK_NM` NVARCHAR(50) NULL,
  `ASS_CLRK_PH` NVARCHAR(30) NULL,
  `ASS_CLRK_MAIL` NVARCHAR(50) NULL,
  `SEC_CO_ORD_NM` NVARCHAR(50) NULL,
  `SEC_CO_ORD_PH` NVARCHAR(30) NULL,
  `SEC_CO_ORD_MAIL` NVARCHAR(50) NULL,
  `COURT_REP_NM` NVARCHAR(50) NULL,
  `COURT_REP_PH` NVARCHAR(30) NULL,
  `COURT_REP_MAIL` NVARCHAR(50) NULL,
  `AGENCY_NM` NVARCHAR(50) NULL,
  `AGENT_NM` NVARCHAR(50) NULL,
  `AGENT_MAIL` NVARCHAR(50) NULL,
  `AGENT_ADD` NVARCHAR(1000) NULL,
  `AGENT_CITY` NVARCHAR(50) NULL,
  `AGENT_STATE` NVARCHAR(50) NULL,
  `AGENT_PC` NVARCHAR(20) NULL,
  `AGENT_PHONE` NVARCHAR(30) NULL,
  `AGENT_DL` NVARCHAR(30) NULL,
  `AGENT_FAX` NVARCHAR(30) NULL,
  `SCHEDULE` NVARCHAR(200) NULL,
  `SCH_DATE` DATE NULL,
  `TASK_TODO` NVARCHAR(200) NULL,
  `TASK_DATE` DATE NULL,
  `NOTES` NVARCHAR(200) NULL,
  `NOTES_DATE` DATE NULL,
  `STATUS_ID` NVARCHAR(30) NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `CASEINFO_NO`, `CLIENT_ID`))
COMMENT = 'LECASEINFOSHEET';
  
  
  
 -- IMMCASEINFOSHEET Table
CREATE TABLE `MNRCLARA`.`tblimmcaseinfosheetID` (
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `CASEINFO_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `POT_CLIENT_ID` NVARCHAR(20) NULL,
  `TRANS_ID` INTEGER NULL,
  `INQ_NO` NVARCHAR(20) NULL,
  `CASE_CATEGORY_ID` INTEGER NULL,
  `CASE_SUB_CATEGORY_ID` INTEGER NULL,  
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `IT_FORM_NO` NVARCHAR(20) NULL,
  `IT_FORM_ID` INTEGER NULL,
  `MATTER_TYPE` NVARCHAR(50) NULL,
  `MATTER_TEXT` NVARCHAR(100) NULL,
  `FIRST_LAST_NM` NVARCHAR(100) NULL,
  `TITLE` NVARCHAR(50) NULL,
  `EMAIL_ID` NVARCHAR(100) NULL,
  `COMPANY_NM` NVARCHAR(100) NULL,
  `ADDRESS_LINE1` NVARCHAR(1000) NULL,
  `ADDRESS_LINE2` NVARCHAR(1000) NULL,
  `CITY` NVARCHAR(100) NULL,
  `STATE` NVARCHAR(100) NULL,
  `COUNTRY` NVARCHAR(30) NULL,
  `ZIP_CODE` NVARCHAR(30) NULL,
  `CONT_NO` NVARCHAR(30) NULL,
  `WORK` NVARCHAR(30) NULL,
  `HOME` NVARCHAR(30) NULL,
  `FAX` NVARCHAR(30) NULL,
  `FILE_LOC` NVARCHAR(50) NULL,
  `ER_NAME` NVARCHAR(50) NULL,
  `ALT_EMAIL_ID` NVARCHAR(100) NULL,
  `ALT_PHONE_1` NVARCHAR(30) NULL,
  `ALIEN_NO` NVARCHAR(50) NULL,
  `COB` NVARCHAR(50) NULL,
  `DOB` NVARCHAR(50) NULL,
  `STATUS_ID` NVARCHAR(30) NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `REF_FIELD_11` NVARCHAR(200) NULL,
  `REF_FIELD_12` NVARCHAR(200) NULL,
  `REF_FIELD_13` NVARCHAR(200) NULL,
  `REF_FIELD_14` NVARCHAR(200) NULL,
  `REF_FIELD_15` NVARCHAR(200) NULL,
  `REF_FIELD_16` NVARCHAR(200) NULL,
  `REF_FIELD_17` NVARCHAR(200) NULL, 
  `REF_FIELD_18` NVARCHAR(200) NULL,
  `REF_FIELD_19` NVARCHAR(200) NULL,
  `REF_FIELD_20` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `CASEINFO_NO`, `CLIENT_ID`))
COMMENT = 'IMMCASEINFOSHEET';
  
  
  
-- MATTERGENACC Table
CREATE TABLE `MNRCLARA`.`tblmattergenaccid` (
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `CASEINFO_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `TRANS_ID` INTEGER NULL,
  `CASE_CATEGORY_ID` INTEGER NULL,
  `CASE_SUB_CATEGORY_ID` INTEGER NULL,
  `MATTER_TEXT` NVARCHAR(100) NULL,
  `FILE_NO` NVARCHAR(50) NULL,
  `CASE_FILE_NO` NVARCHAR(50) NULL,
  `CASE_OPEN_DATE` DATETIME NULL,
  `CASE_CLOSED_DATE` DATETIME NULL,
  `CASE_FILED_DATE` DATETIME NULL,
  `PRIORITY_DATE` DATETIME NULL,
  `RECEIPT_NOT_NO` NVARCHAR(50) NULL,
  `RECEIPT_DATE` DATETIME NULL,
  `EXPIRATION_DATE` DATETIME NULL,
  `COURT_DATE` DATETIME NULL,	
  `APPROVAL_DATE` DATETIME NULL,
  `BILL_MODE_ID` NVARCHAR(20) NULL,
  `BILL_FREQ_ID` NVARCHAR(20) NULL,
  `BILL_FORMAT_ID` NVARCHAR(20) NULL,
  `BILL_REMARK` NVARCHAR(200) NULL,
  `AR_ACCOUNT_NO` NVARCHAR(20) NULL,
  `TRUST_DEPOSIT_NO` NVARCHAR(20) NULL,
  `FLAT_FEE` DECIMAL(20,2) NULL,
  `ADMIN_COST` DECIMAL(20,2) NULL,
  `CONTIG_FEE` DECIMAL(20,2) NULL,
  `RATE_UNIT` NVARCHAR(20) NULL,
  `DIR_PHONE_NO` NVARCHAR(30) NULL,
  `STATUS_ID` INTEGER NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `REF_FIELD_11` NVARCHAR(200) NULL,
  `REF_FIELD_12` NVARCHAR(200) NULL,
  `REF_FIELD_13` NVARCHAR(200) NULL,
  `REF_FIELD_14` NVARCHAR(200) NULL,
  `REF_FIELD_15` NVARCHAR(200) NULL,
  `REF_FIELD_16` NVARCHAR(200) NULL,
  `REF_FIELD_17` NVARCHAR(200) NULL, 
  `REF_FIELD_18` NVARCHAR(200) NULL,
  `REF_FIELD_19` NVARCHAR(200) NULL,
  `REF_FIELD_20` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `MATTER_NO`, `CASEINFO_NO`, `CLIENT_ID`))
COMMENT = 'MATTERGENACC';
 
 -- MATTERNOTE Table
CREATE TABLE `MNRCLARA`.`tblmatternoteid` (
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `NOTE_NO` NVARCHAR(20) NOT NULL,
  `NOTE_TEXT` NVARCHAR(1000) NULL,
  `STATUS_ID` INTEGER NULL,
  `NOTE_TYP_ID` INTEGER NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `MATTER_NO`, `CLIENT_ID`, `NOTE_NO`))
COMMENT = 'MATTERNOTE';
  
  
 -- MATTEREEMAIL Table
CREATE TABLE `MNRCLARA`.`tblmattereemailid` (
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `EMAIL_DATE_TIME` DATETIME NOT NULL,
  `MATTER_NO` NVARCHAR(20) NULL,
  `FROM` NVARCHAR(50) NULL,
  `TO` NVARCHAR(50) NULL,
  `SUBJECT` NVARCHAR(200) NULL,
  `BODY` NVARCHAR(2000) NULL,
  `STATUS_ID` INTEGER NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,  
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `CLIENT_ID`, `EMAIL_DATE_TIME`))
COMMENT = 'MATTEREEMAIL';

   -- MATTERDOCUMENT Table
CREATE TABLE `MNRCLARA`.`tblmatterdocumentid` (
  `MATTER_DOC_ID` BIGINT(255) PRIMARY KEY,
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `DOC_NO` NVARCHAR(20) NOT NULL,
  `DOC_URL` NVARCHAR(200) NOT NULL,
  `DOC_DATE_TIME` DATETIME NOT NULL,
  `DOC_URL_VER` NVARCHAR(10) NULL,
  `SEQ_NO` INTEGER NULL,
  `CLIENT_USR_ID` NVARCHAR(20) NULL,
  `STATUS_ID` INTEGER NULL,
  `SENT_BY` NVARCHAR(10) NULL,
  `SENT_ON` DATETIME NULL,
  `RECEIVED_ON` DATETIME NULL,
  `RESENT_ON` DATETIME NULL,
  `APPROVED_ON` DATETIME NULL,
  `CASE_CATEGORY_ID` INTEGER NULL,
  `CASE_SUB_CATEGORY_ID` INTEGER NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL
  
  -- PRIMARY KEY ( `LANG_ID`, `CLASS_ID`,`MATTER_NO`, `CLIENT_ID`,  `DOC_NO`,  `DOC_URL`,  `DOC_DATE_TIME`)
  )
COMMENT = 'MATTERDOCUMENT';

ALTER TABLE `mnrclara`.`tblmatterdocumentid` 
ADD COLUMN `MATTER_DOC_ID` BIGINT(250) NOT NULL AFTER `UTD_ON`,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`MATTER_DOC_ID`);

 
  -- MATTERITFORM Table
CREATE TABLE `MNRCLARA`.`tblmatteritformid` (
  
  `LANG_ID` NVARCHAR(5) NOT NULL,
  `CLASS_ID` INTEGER NOT NULL,
  `MATTER_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_ID` NVARCHAR(20) NOT NULL,
  `IT_FORM_ID` INTEGER NOT NULL,
  `IT_FORM_NO` NVARCHAR(20) NOT NULL,
  `CLIENT_USR_ID` NVARCHAR(45) NULL,
  `STATUS_ID` INTEGER NULL,
  `NOTE_NO` NVARCHAR(20) NULL,
  `SENT_ON` DATETIME NULL,
  `RECEIVED_ON` DATETIME NULL,
  `RESENT_ON` DATETIME NULL,
  `APPROVED_ON` DATETIME NULL,
  `IS_DELETED` INTEGER NULL,
  `REF_FIELD_1` NVARCHAR(200) NULL,
  `REF_FIELD_2` NVARCHAR(200) NULL,  
  `REF_FIELD_3` NVARCHAR(200) NULL,
  `REF_FIELD_4` NVARCHAR(200) NULL,  
  `REF_FIELD_5` NVARCHAR(200) NULL,  
  `REF_FIELD_6` NVARCHAR(200) NULL,  
  `REF_FIELD_7` NVARCHAR(200) NULL,  
  `REF_FIELD_8` NVARCHAR(200) NULL,  
  `REF_FIELD_9` NVARCHAR(200) NULL,  
  `REF_FIELD_10` NVARCHAR(200) NULL,
  `CTD_BY` NVARCHAR(50) NULL,
  `CTD_ON` DATETIME NULL,
  `UTD_BY` NVARCHAR(50) NULL,
  `UTD_ON` DATETIME NULL,
  
  PRIMARY KEY ( `LANG_ID`, `CLASS_ID`,`MATTER_NO`, `CLIENT_ID`,  `IT_FORM_ID`,  `IT_FORM_NO`))
COMMENT = 'MATTERITFORM';

ALTER TABLE `mnrclara`.`tblmatteritformid` 
ADD COLUMN `CLIENT_USR_ID` VARCHAR(45) NULL AFTER `IT_FORM_NO`;

-- RECEIPT APP NOTICE Table
CREATE TABLE `MNRCLARA`.`tblreceiptappnotice` (

	`LANG_ID` NVARCHAR(5) NOT NULL,
	`CLASS_ID` INTEGER NOT NULL,
	`MATTER_NO` NVARCHAR(20) NOT NULL,
	`RECEIPT_NO` NVARCHAR(30) NOT NULL,
	`CLIENT_ID` NVARCHAR(20) NULL,
	`DOC_TYPE` NVARCHAR(20) NULL,
	`RECEIPT_TYPE` NVARCHAR(30) NULL,
	`DATE_GOVT` DATE NULL,
	`RECEIPT_DATE` DATE NULL,
	`RECEIPT_FILE` NVARCHAR(100) NULL,
	`RECEIPT_NOTICE_DATE` DATE NULL,
	`STATUS_ID` INTEGER NULL,
	`RECEIPT_TEXT` NVARCHAR(500) NULL,
	`APPROVED_ON` DATE NULL,
	`APP_REC_DATE` DATE NULL,
	`APPROVAL_DATE` DATE NULL,
	`EXPIRATION_DATE` DATE NULL,
	`ELIGIBILITY_DATE` DATE NULL,
	`REMINDER_DAYS` INTEGER NULL,
	`REMINDER_DATE` DATE NULL,
	`IS_DELETED` INTEGER NULL,
	`REF_FIELD_1` NVARCHAR(200) NULL,
	`REF_FIELD_2` NVARCHAR(200) NULL,
	`REF_FIELD_3` NVARCHAR(200) NULL,
	`REF_FIELD_4` NVARCHAR(200) NULL,
	`REF_FIELD_5` NVARCHAR(200) NULL,
	`REF_FIELD_6` NVARCHAR(200) NULL,
	`REF_FIELD_7` NVARCHAR(200) NULL,
	`REF_FIELD_8` NVARCHAR(200) NULL,
	`REF_FIELD_9` NVARCHAR(200) NULL,
	`REF_FIELD_10` NVARCHAR(200) NULL,
	`CTD_BY` NVARCHAR(50) NULL,
	`CTD_ON` DATETIME NULL,
	`UTD_BY` NVARCHAR(50) NULL,
	`UTD_ON` DATETIME NULL,

	PRIMARY KEY (`LANG_ID`, `CLASS_ID`, `MATTER_NO`, `RECEIPT_NO`))
COMMENT = 'RECEIPT APP NOTICE';


-- PRE BILL DETAILS Table
CREATE TABLE `MNRCLARA`.`tblPreBillDetails` (

	`PRE_BILL_BATCH_NO` NVARCHAR(20) NOT NULL,
	`PRE_BILL_NO` NVARCHAR(20) NOT NULL,
	`PRE_BILL_DATE` DATETIME NOT NULL,
	`MATTER_NO` NVARCHAR(20) NOT NULL,
	`CLIENT_ID` NVARCHAR(20) NOT NULL,
	`LANG_ID` NVARCHAR(5) NOT NULL,
	`CLASS_ID` INTEGER NOT NULL,
	`PARTNER_ASSIGNED` NVARCHAR(50) NOT NULL,
	`NO_OF_TICKETS` INTEGER NULL,
	`TOTAL_AMOUNT` DECIMAL(10,2) NULL,
	`START_DATE` DATETIME NOT NULL,
	`FEES_CUTOFF` DATETIME NOT NULL,
	`PAYMENT_CUTOFF` DATETIME NOT NULL,
	`STATUS_ID` INTEGER NOT NULL,
	`IS_DELETED` INTEGER NULL,
	`REF_FIELD_1` NVARCHAR(200) NULL,
	`REF_FIELD_2` NVARCHAR(200) NULL,
	`REF_FIELD_3` NVARCHAR(200) NULL,
	`REF_FIELD_4` NVARCHAR(200) NULL,
	`REF_FIELD_5` NVARCHAR(200) NULL,
	`REF_FIELD_6` NVARCHAR(200) NULL,
	`REF_FIELD_7` NVARCHAR(200) NULL,
	`REF_FIELD_8` NVARCHAR(200) NULL,
	`REF_FIELD_9` NVARCHAR(200) NULL,
	`REF_FIELD_10` NVARCHAR(200) NULL,
	`CTD_BY` NVARCHAR(50) NULL,
	`CTD_ON` DATETIME NULL,
	`UTD_BY` NVARCHAR(50) NULL,
	`UTD_ON` DATETIME NULL,

	PRIMARY KEY (`PRE_BILL_BATCH_NO`, `PRE_BILL_NO`, `PRE_BILL_DATE`, `MATTER_NO`))
COMMENT = 'PRE BILL DETAILS';

-- Master Scripts

USE MNRCLARA;

-- MATTERRATE Table
CREATE TABLE `MNRCLARA`.`tblmatterrateid` (
  
`LANG_ID` NVARCHAR(5) NOT NULL,
`CLASS_ID` INTEGER NOT NULL,
`MATTER_NO` NVARCHAR(20) NOT NULL,
`CLIENT_ID` NVARCHAR(20) NOT NULL,
`TK_CODE` NVARCHAR(10) NOT NULL,
`CASE_CATEGORY_ID` INTEGER NULL,
`CASE_SUB_CATEGORY_ID` INTEGER NULL,
`DEF_RATE` DECIMAL(20,2) NULL,
`ASSIGNED_RATE` DECIMAL(20,2) NULL,
`RATE_UNIT` NVARCHAR(5) NULL,
`STATUS_ID` INTEGER NULL,
`IS_DELETED` INTEGER NULL,
`REF_FIELD_1` NVARCHAR(200) NULL,
`REF_FIELD_2` NVARCHAR(200) NULL,
`REF_FIELD_3` NVARCHAR(200) NULL,
`REF_FIELD_4` NVARCHAR(200) NULL,
`REF_FIELD_5` NVARCHAR(200) NULL,
`REF_FIELD_6` NVARCHAR(200) NULL,
`REF_FIELD_7` NVARCHAR(200) NULL,
`REF_FIELD_8` NVARCHAR(200) NULL,
`REF_FIELD_9` NVARCHAR(200) NULL,
`REF_FIELD_10` NVARCHAR(200) NULL,
`CTD_BY` NVARCHAR(50) NULL,
`CTD_ON` DATETIME NULL,
`UTD_BY` NVARCHAR(50) NULL,
`UTD_ON` DATETIME NULL
 
  -- PRIMARY KEY ( `MATTER_NO`, `TK_CODE`)
  )
COMMENT = 'MATTERRATE';
  
  
-- MATTERFEESHARING Table
CREATE TABLE `MNRCLARA`.`tblmatterfeesharingid` (  
`LANG_ID` NVARCHAR(5) NOT NULL,
`CLASS_ID` INTEGER NOT NULL,
`MATTER_NO` NVARCHAR(20) NOT NULL,
`CLIENT_ID` NVARCHAR(20) NOT NULL,
`TK_CODE` NVARCHAR(10) NOT NULL,
`CASE_CATEGORY_ID` INTEGER NULL,
`CASE_SUB_CATEGORY_ID` INTEGER NULL,
`FEE_SHARE_PERCENTAGE` DECIMAL(6,2) NULL,
`STATUS_ID` INTEGER NULL,
`IS_DELETED` INTEGER NULL,
`REF_FIELD_1` NVARCHAR(200) NULL,
`REF_FIELD_2` NVARCHAR(200) NULL,
`REF_FIELD_3` NVARCHAR(200) NULL,
`REF_FIELD_4` NVARCHAR(200) NULL,
`REF_FIELD_5` NVARCHAR(200) NULL,
`REF_FIELD_6` NVARCHAR(200) NULL,
`REF_FIELD_7` NVARCHAR(200) NULL,
`REF_FIELD_8` NVARCHAR(200) NULL,
`REF_FIELD_9` NVARCHAR(200) NULL,
`REF_FIELD_10` NVARCHAR(200) NULL,
`CTD_BY` NVARCHAR(50) NULL,
`CTD_ON` DATETIME NULL,
`UTD_BY` NVARCHAR(50) NULL,
`UTD_ON` DATETIME NULL
  
  -- PRIMARY KEY ( `LANG_ID`, `CLASS_ID`, `MATTER_NO`, `CLIENT_ID`, `TK_CODE`)
)
COMMENT = 'MATTERFEESHARING';
  
-- MATTEREXPENSE Table
CREATE TABLE `MNRCLARA`.`tblmatterexpenseid` ( 
`MATTER_EXP_ID` BIGINT(255) PRIMARY KEY,
`LANG_ID` NVARCHAR(5) NOT NULL,
`CLASS_ID` INTEGER NOT NULL,
`MATTER_NO` NVARCHAR(20) NOT NULL,
`CASEINFO_NO` NVARCHAR(20) NOT NULL,
`CLIENT_ID` NVARCHAR(20) NOT NULL,
`EXP_CODE` NVARCHAR(20) NOT NULL,
`CASE_CATEGORY_ID` INTEGER NULL,
`CASE_SUB_CATEGORY_ID` INTEGER NULL,
`COST_ITEM` DECIMAL(20,2) NULL,
`NO_ITEMS` DECIMAL(20,2) NULL,
`EXP_AMOUNT` DECIMAL(20,2) NULL,
`RATE_UNIT` NVARCHAR(5) NULL,
`EXP_TEXT` NVARCHAR(500) NULL,
`EXP_TYPE` NVARCHAR(20) NULL,
`BILL_TYPE` NVARCHAR(20) NULL,
`WRITE_OFF` BOOLEAN NULL,
`EXP_ACCOUNT_NO` NVARCHAR(20) NULL,
`STATUS_ID` INTEGER NULL,
`IS_DELETED` INTEGER NULL,
`REF_FIELD_1` NVARCHAR(200) NULL,
`REF_FIELD_2` NVARCHAR(200) NULL,
`REF_FIELD_3` NVARCHAR(200) NULL,
`REF_FIELD_4` NVARCHAR(200) NULL,
`REF_FIELD_5` NVARCHAR(200) NULL,
`REF_FIELD_6` NVARCHAR(200) NULL,
`REF_FIELD_7` NVARCHAR(200) NULL,
`REF_FIELD_8` NVARCHAR(200) NULL,
`REF_FIELD_9` NVARCHAR(200) NULL,
`REF_FIELD_10` NVARCHAR(200) NULL,
`CTD_BY` NVARCHAR(50) NULL,
`CTD_ON` DATETIME NULL,
`UTD_BY` NVARCHAR(50) NULL,
`UTD_ON` DATETIME NULL
);


ALTER TABLE `tblmatterfeesharingid` DROP PRIMARY KEY;

-- Expiration Date DB Scripts
-- Database

-- Expiration Date Table
CREATE TABLE `MNRCLARA`.`tblexpirationdate` (
	
	`LANG_ID` NVARCHAR(5) NOT NULL,
	`CLASS_ID` INTEGER NOT NULL,
	`MATTER_NO` NVARCHAR(20) NOT NULL,
	`CLIENT_ID` NVARCHAR(20) NOT NULL,
	`DOC_TYPE` NVARCHAR(20) NOT NULL,
	`STATUS_ID` INTEGER NULL,
	`APPROVAL_DATE` DATE NULL,
	`EXPIRATION_DATE` DATE NULL,
	`ELIGIBILITY_DATE` DATE NULL,
	`REMINDER_DAYS` INTEGER NULL,
	`REMINDER_DATE` DATE NULL,
	`REMINDER_TEXT` NVARCHAR(200) NULL,
	`IS_DELETED` INTEGER NULL,
	`REF_FIELD_1` NVARCHAR(200) NULL,
	`REF_FIELD_2` NVARCHAR(200) NULL,
	`REF_FIELD_3` NVARCHAR(200) NULL,
	`REF_FIELD_4` NVARCHAR(200) NULL,
	`REF_FIELD_5` NVARCHAR(200) NULL,
	`REF_FIELD_6` NVARCHAR(200) NULL,
	`REF_FIELD_7` NVARCHAR(200) NULL,
	`REF_FIELD_8` NVARCHAR(200) NULL,
	`REF_FIELD_9` NVARCHAR(200) NULL,
	`REF_FIELD_10` NVARCHAR(200) NULL,
	`CTD_BY` NVARCHAR(50) NULL,
	`CTD_ON` DATETIME NULL,
	`UTD_BY` NVARCHAR(50) NULL,
	`UTD_ON` DATETIME NULL,

	PRIMARY KEY (`LANG_ID`, `CLASS_ID`, `MATTER_NO`, `CLIENT_ID`, `DOC_TYPE` ))
COMMENT = 'ExpirationDates';



-- MATTER DOC LIST HEADER Table
CREATE TABLE `MNRCLARA`.`tblmatterdoclist` (
	
	`LANG_ID` NVARCHAR(5) NOT NULL,
	`CLASS_ID` INTEGER NOT NULL,
	`CHK_LIST_NO` INTEGER NOT NULL,
	`MATTER_NO` NVARCHAR(20) NOT NULL,
	`CLIENT_ID` NVARCHAR(20) NOT NULL,
	`MATTER_TEXT` NVARCHAR(200) NULL,
	`CASE_CATEGORY_ID` INTEGER NULL,
	`CASE_SUB_CATEGORY_ID` INTEGER NULL,
	`STATUS_ID` INTEGER NULL,
	`IS_DELETED` INTEGER NULL,
	`REF_FIELD_1` NVARCHAR(200) NULL,
	`REF_FIELD_2` NVARCHAR(200) NULL,
	`REF_FIELD_3` NVARCHAR(200) NULL,
	`REF_FIELD_4` NVARCHAR(200) NULL,
	`REF_FIELD_5` NVARCHAR(200) NULL,
	`REF_FIELD_6` NVARCHAR(200) NULL,
	`REF_FIELD_7` NVARCHAR(200) NULL,
	`REF_FIELD_8` NVARCHAR(200) NULL,
	`REF_FIELD_9` NVARCHAR(200) NULL,
	`REF_FIELD_10` NVARCHAR(200) NULL,
	`CTD_BY` NVARCHAR(50) NULL,
	`CTD_ON` DATETIME NULL,
	`UTD_BY` NVARCHAR(50) NULL,
	`UTD_ON` DATETIME NULL,
	
	PRIMARY KEY (`LANG_ID`, `CLASS_ID`, `CHK_LIST_NO`, `MATTER_NO`, `CLIENT_ID`))
COMMENT = 'MATTER DOC LIST';


-- MATTER DOC LIST LINE Table
CREATE TABLE `MNRCLARA`.`tblmatterdoclistline` (
	
	`LANG_ID` NVARCHAR(5) NOT NULL,
	`CLASS_ID` INTEGER NOT NULL,
	`CHK_LIST_NO` INTEGER NOT NULL,
	`SEQ_NO` INTEGER NULL,
	`DOC_NM` NVARCHAR(50) NULL,
	`SENT_DOC_URL` NVARCHAR(50) NULL,
	`RECEIVED_DOC_URL` NVARCHAR(50) NULL,
	`STATUS_ID` INTEGER NULL,
	`IS_DELETED` INTEGER NULL,
	`REF_FIELD_1` NVARCHAR(200) NULL,
	`REF_FIELD_2` NVARCHAR(200) NULL,
	`REF_FIELD_3` NVARCHAR(200) NULL,
	`REF_FIELD_4` NVARCHAR(200) NULL,
	`REF_FIELD_5` NVARCHAR(200) NULL,
	`REF_FIELD_6` NVARCHAR(200) NULL,
	`REF_FIELD_7` NVARCHAR(200) NULL,
	`REF_FIELD_8` NVARCHAR(200) NULL,
	`REF_FIELD_9` NVARCHAR(200) NULL,
	`REF_FIELD_10` NVARCHAR(200) NULL,
	`CTD_BY` NVARCHAR(50) NULL,
	`CTD_ON` DATETIME NULL,
	`UTD_BY` NVARCHAR(50) NULL,
	`UTD_ON` DATETIME NULL,
	
	PRIMARY KEY (`LANG_ID`, `CLASS_ID`, `CHK_LIST_NO`))
COMMENT = 'MATTER DOC LIST LINE';